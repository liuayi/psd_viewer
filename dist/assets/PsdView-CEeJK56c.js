import{c as on,I as Es,d as Ds,r as qt,a as vi,b as Jt,t as As,u as Qt,w as Cr,F as Er,e as Dr,i as Os,f as gi,o as en,g as Ar,_ as Ts}from"./index-BUgF55xk.js";var Ls={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"};function Or(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){Rs(e,r,t[r])})}return e}function Rs(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var sr=function(n,t){var i=Or({},n,t.attrs);return on(Es,Or({},i,{icon:Ls}),null)};sr.displayName="InboxOutlined";sr.inheritAttrs=!1;var Io=Ns,Co=Vs,je=[],Oe=[],Ps=typeof Uint8Array<"u"?Uint8Array:Array,mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Tt=0,Ms=mi.length;Tt<Ms;++Tt)je[Tt]=mi[Tt],Oe[mi.charCodeAt(Tt)]=Tt;Oe[45]=62;Oe[95]=63;function zs(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=n);var i=t===n?0:4-t%4;return[t,i]}function Bs(e,n,t){return(n+t)*3/4-t}function Ns(e){var n,t=zs(e),i=t[0],r=t[1],a=new Ps(Bs(e,i,r)),o=0,l=r>0?i-4:i,f;for(f=0;f<l;f+=4)n=Oe[e.charCodeAt(f)]<<18|Oe[e.charCodeAt(f+1)]<<12|Oe[e.charCodeAt(f+2)]<<6|Oe[e.charCodeAt(f+3)],a[o++]=n>>16&255,a[o++]=n>>8&255,a[o++]=n&255;return r===2&&(n=Oe[e.charCodeAt(f)]<<2|Oe[e.charCodeAt(f+1)]>>4,a[o++]=n&255),r===1&&(n=Oe[e.charCodeAt(f)]<<10|Oe[e.charCodeAt(f+1)]<<4|Oe[e.charCodeAt(f+2)]>>2,a[o++]=n>>8&255,a[o++]=n&255),a}function Us(e){return je[e>>18&63]+je[e>>12&63]+je[e>>6&63]+je[e&63]}function Gs(e,n,t){for(var i,r=[],a=n;a<t;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),r.push(Us(i));return r.join("")}function Vs(e){for(var n,t=e.length,i=t%3,r=[],a=16383,o=0,l=t-i;o<l;o+=a)r.push(Gs(e,o,o+a>l?l:o+a));return i===1?(n=e[t-1],r.push(je[n>>2]+je[n<<4&63]+"==")):i===2&&(n=(e[t-2]<<8)+e[t-1],r.push(je[n>>10]+je[n>>4&63]+je[n<<2&63]+"=")),r.join("")}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Hs=4,Tr=0,Lr=1,js=2;function $t(e){let n=e.length;for(;--n>=0;)e[n]=0}const Zs=0,Eo=1,Ws=2,Xs=3,$s=258,fr=29,In=256,mn=In+1+fr,Vt=30,cr=19,Do=2*mn+1,St=15,bi=16,Ys=7,ur=256,Ao=16,Oo=17,To=18,Zi=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Kn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ks=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Lo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qs=512,qe=new Array((mn+2)*2);$t(qe);const cn=new Array(Vt*2);$t(cn);const bn=new Array(qs);$t(bn);const yn=new Array($s-Xs+1);$t(yn);const dr=new Array(fr);$t(dr);const ei=new Array(Vt);$t(ei);function yi(e,n,t,i,r){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let Ro,Po,Mo;function _i(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const zo=e=>e<256?bn[e]:bn[256+(e>>>7)],_n=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},ye=(e,n,t)=>{e.bi_valid>bi-t?(e.bi_buf|=n<<e.bi_valid&65535,_n(e,e.bi_buf),e.bi_buf=n>>bi-e.bi_valid,e.bi_valid+=t-bi):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},Ze=(e,n,t)=>{ye(e,t[n*2],t[n*2+1])},Bo=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},Js=e=>{e.bi_valid===16?(_n(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Qs=(e,n)=>{const t=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,a=n.stat_desc.has_stree,o=n.stat_desc.extra_bits,l=n.stat_desc.extra_base,f=n.stat_desc.max_length;let s,c,p,d,h,v,g=0;for(d=0;d<=St;d++)e.bl_count[d]=0;for(t[e.heap[e.heap_max]*2+1]=0,s=e.heap_max+1;s<Do;s++)c=e.heap[s],d=t[t[c*2+1]*2+1]+1,d>f&&(d=f,g++),t[c*2+1]=d,!(c>i)&&(e.bl_count[d]++,h=0,c>=l&&(h=o[c-l]),v=t[c*2],e.opt_len+=v*(d+h),a&&(e.static_len+=v*(r[c*2+1]+h)));if(g!==0){do{for(d=f-1;e.bl_count[d]===0;)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[f]--,g-=2}while(g>0);for(d=f;d!==0;d--)for(c=e.bl_count[d];c!==0;)p=e.heap[--s],!(p>i)&&(t[p*2+1]!==d&&(e.opt_len+=(d-t[p*2+1])*t[p*2],t[p*2+1]=d),c--)}},No=(e,n,t)=>{const i=new Array(St+1);let r=0,a,o;for(a=1;a<=St;a++)r=r+t[a-1]<<1,i[a]=r;for(o=0;o<=n;o++){let l=e[o*2+1];l!==0&&(e[o*2]=Bo(i[l]++,l))}},ef=()=>{let e,n,t,i,r;const a=new Array(St+1);for(t=0,i=0;i<fr-1;i++)for(dr[i]=t,e=0;e<1<<Zi[i];e++)yn[t++]=i;for(yn[t-1]=i,r=0,i=0;i<16;i++)for(ei[i]=r,e=0;e<1<<Kn[i];e++)bn[r++]=i;for(r>>=7;i<Vt;i++)for(ei[i]=r<<7,e=0;e<1<<Kn[i]-7;e++)bn[256+r++]=i;for(n=0;n<=St;n++)a[n]=0;for(e=0;e<=143;)qe[e*2+1]=8,e++,a[8]++;for(;e<=255;)qe[e*2+1]=9,e++,a[9]++;for(;e<=279;)qe[e*2+1]=7,e++,a[7]++;for(;e<=287;)qe[e*2+1]=8,e++,a[8]++;for(No(qe,mn+1,a),e=0;e<Vt;e++)cn[e*2+1]=5,cn[e*2]=Bo(e,5);Ro=new yi(qe,Zi,In+1,mn,St),Po=new yi(cn,Kn,0,Vt,St),Mo=new yi(new Array(0),Ks,0,cr,Ys)},Uo=e=>{let n;for(n=0;n<mn;n++)e.dyn_ltree[n*2]=0;for(n=0;n<Vt;n++)e.dyn_dtree[n*2]=0;for(n=0;n<cr;n++)e.bl_tree[n*2]=0;e.dyn_ltree[ur*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Go=e=>{e.bi_valid>8?_n(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Rr=(e,n,t,i)=>{const r=n*2,a=t*2;return e[r]<e[a]||e[r]===e[a]&&i[n]<=i[t]},Si=(e,n,t)=>{const i=e.heap[t];let r=t<<1;for(;r<=e.heap_len&&(r<e.heap_len&&Rr(n,e.heap[r+1],e.heap[r],e.depth)&&r++,!Rr(n,i,e.heap[r],e.depth));)e.heap[t]=e.heap[r],t=r,r<<=1;e.heap[t]=i},Pr=(e,n,t)=>{let i,r,a=0,o,l;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+a++]&255,i+=(e.pending_buf[e.sym_buf+a++]&255)<<8,r=e.pending_buf[e.sym_buf+a++],i===0?Ze(e,r,n):(o=yn[r],Ze(e,o+In+1,n),l=Zi[o],l!==0&&(r-=dr[o],ye(e,r,l)),i--,o=zo(i),Ze(e,o,t),l=Kn[o],l!==0&&(i-=ei[o],ye(e,i,l)));while(a<e.sym_next);Ze(e,ur,n)},Wi=(e,n)=>{const t=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,a=n.stat_desc.elems;let o,l,f=-1,s;for(e.heap_len=0,e.heap_max=Do,o=0;o<a;o++)t[o*2]!==0?(e.heap[++e.heap_len]=f=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)s=e.heap[++e.heap_len]=f<2?++f:0,t[s*2]=1,e.depth[s]=0,e.opt_len--,r&&(e.static_len-=i[s*2+1]);for(n.max_code=f,o=e.heap_len>>1;o>=1;o--)Si(e,t,o);s=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Si(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,t[s*2]=t[o*2]+t[l*2],e.depth[s]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,t[o*2+1]=t[l*2+1]=s,e.heap[1]=s++,Si(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Qs(e,n),No(t,f,e.bl_count)},Mr=(e,n,t)=>{let i,r=-1,a,o=n[0*2+1],l=0,f=7,s=4;for(o===0&&(f=138,s=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)a=o,o=n[(i+1)*2+1],!(++l<f&&a===o)&&(l<s?e.bl_tree[a*2]+=l:a!==0?(a!==r&&e.bl_tree[a*2]++,e.bl_tree[Ao*2]++):l<=10?e.bl_tree[Oo*2]++:e.bl_tree[To*2]++,l=0,r=a,o===0?(f=138,s=3):a===o?(f=6,s=3):(f=7,s=4))},zr=(e,n,t)=>{let i,r=-1,a,o=n[0*2+1],l=0,f=7,s=4;for(o===0&&(f=138,s=3),i=0;i<=t;i++)if(a=o,o=n[(i+1)*2+1],!(++l<f&&a===o)){if(l<s)do Ze(e,a,e.bl_tree);while(--l!==0);else a!==0?(a!==r&&(Ze(e,a,e.bl_tree),l--),Ze(e,Ao,e.bl_tree),ye(e,l-3,2)):l<=10?(Ze(e,Oo,e.bl_tree),ye(e,l-3,3)):(Ze(e,To,e.bl_tree),ye(e,l-11,7));l=0,r=a,o===0?(f=138,s=3):a===o?(f=6,s=3):(f=7,s=4)}},tf=e=>{let n;for(Mr(e,e.dyn_ltree,e.l_desc.max_code),Mr(e,e.dyn_dtree,e.d_desc.max_code),Wi(e,e.bl_desc),n=cr-1;n>=3&&e.bl_tree[Lo[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},nf=(e,n,t,i)=>{let r;for(ye(e,n-257,5),ye(e,t-1,5),ye(e,i-4,4),r=0;r<i;r++)ye(e,e.bl_tree[Lo[r]*2+1],3);zr(e,e.dyn_ltree,n-1),zr(e,e.dyn_dtree,t-1)},rf=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return Tr;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Lr;for(t=32;t<In;t++)if(e.dyn_ltree[t*2]!==0)return Lr;return Tr};let Br=!1;const af=e=>{Br||(ef(),Br=!0),e.l_desc=new _i(e.dyn_ltree,Ro),e.d_desc=new _i(e.dyn_dtree,Po),e.bl_desc=new _i(e.bl_tree,Mo),e.bi_buf=0,e.bi_valid=0,Uo(e)},Vo=(e,n,t,i)=>{ye(e,(Zs<<1)+(i?1:0),3),Go(e),_n(e,t),_n(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},of=e=>{ye(e,Eo<<1,3),Ze(e,ur,qe),Js(e)},lf=(e,n,t,i)=>{let r,a,o=0;e.level>0?(e.strm.data_type===js&&(e.strm.data_type=rf(e)),Wi(e,e.l_desc),Wi(e,e.d_desc),o=tf(e),r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=r&&(r=a)):r=a=t+5,t+4<=r&&n!==-1?Vo(e,n,t,i):e.strategy===Hs||a===r?(ye(e,(Eo<<1)+(i?1:0),3),Pr(e,qe,cn)):(ye(e,(Ws<<1)+(i?1:0),3),nf(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Pr(e,e.dyn_ltree,e.dyn_dtree)),Uo(e),i&&Go(e)},sf=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(yn[t]+In+1)*2]++,e.dyn_dtree[zo(n)*2]++),e.sym_next===e.sym_end);var ff=af,cf=Vo,uf=lf,df=sf,hf=of,pf={_tr_init:ff,_tr_stored_block:cf,_tr_flush_block:uf,_tr_tally:df,_tr_align:hf};const vf=(e,n,t,i)=>{let r=e&65535|0,a=e>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do r=r+n[i++]|0,a=a+r|0;while(--o);r%=65521,a%=65521}return r|a<<16|0};var Sn=vf;const gf=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},mf=new Uint32Array(gf()),bf=(e,n,t,i)=>{const r=mf,a=i+t;e^=-1;for(let o=i;o<a;o++)e=e>>>8^r[(e^n[o])&255];return e^-1};var fe=bf,jt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Cn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:yf,_tr_stored_block:Xi,_tr_flush_block:_f,_tr_tally:ut,_tr_align:Sf}=pf,{Z_NO_FLUSH:dt,Z_PARTIAL_FLUSH:xf,Z_FULL_FLUSH:kf,Z_FINISH:Te,Z_BLOCK:Nr,Z_OK:he,Z_STREAM_END:Ur,Z_STREAM_ERROR:We,Z_DATA_ERROR:Ff,Z_BUF_ERROR:xi,Z_DEFAULT_COMPRESSION:wf,Z_FILTERED:If,Z_HUFFMAN_ONLY:Ln,Z_RLE:Cf,Z_FIXED:Ef,Z_DEFAULT_STRATEGY:Df,Z_UNKNOWN:Af,Z_DEFLATED:si}=Cn,Of=9,Tf=15,Lf=8,Rf=29,Pf=256,$i=Pf+1+Rf,Mf=30,zf=19,Bf=2*$i+1,Nf=15,W=3,ft=258,Xe=ft+W+1,Uf=32,Zt=42,hr=57,Yi=69,Ki=73,qi=91,Ji=103,xt=113,ln=666,be=1,Yt=2,wt=3,Kt=4,Gf=3,kt=(e,n)=>(e.msg=jt[n],n),Gr=e=>e*2-(e>4?9:0),st=e=>{let n=e.length;for(;--n>=0;)e[n]=0},Vf=e=>{let n,t,i,r=e.w_size;n=e.hash_size,i=n;do t=e.head[--i],e.head[i]=t>=r?t-r:0;while(--n);n=r,i=n;do t=e.prev[--i],e.prev[i]=t>=r?t-r:0;while(--n)};let Hf=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,ht=Hf;const Fe=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},De=(e,n)=>{_f(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,Fe(e.strm)},J=(e,n)=>{e.pending_buf[e.pending++]=n},tn=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},Qi=(e,n,t,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,n.set(e.input.subarray(e.next_in,e.next_in+r),t),e.state.wrap===1?e.adler=Sn(e.adler,n,r,t):e.state.wrap===2&&(e.adler=fe(e.adler,n,r,t)),e.next_in+=r,e.total_in+=r,r)},Ho=(e,n)=>{let t=e.max_chain_length,i=e.strstart,r,a,o=e.prev_length,l=e.nice_match;const f=e.strstart>e.w_size-Xe?e.strstart-(e.w_size-Xe):0,s=e.window,c=e.w_mask,p=e.prev,d=e.strstart+ft;let h=s[i+o-1],v=s[i+o];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(r=n,!(s[r+o]!==v||s[r+o-1]!==h||s[r]!==s[i]||s[++r]!==s[i+1])){i+=2,r++;do;while(s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&s[++i]===s[++r]&&i<d);if(a=ft-(d-i),i=d-ft,a>o){if(e.match_start=n,o=a,a>=l)break;h=s[i+o-1],v=s[i+o]}}while((n=p[n&c])>f&&--t!==0);return o<=e.lookahead?o:e.lookahead},Wt=e=>{const n=e.w_size;let t,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-Xe)&&(e.window.set(e.window.subarray(n,n+n-i),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),Vf(e),i+=n),e.strm.avail_in===0)break;if(t=Qi(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=W)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=ht(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=ht(e,e.ins_h,e.window[r+W-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<W)););}while(e.lookahead<Xe&&e.strm.avail_in!==0)},jo=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,r,a,o=0,l=e.strm.avail_in;do{if(i=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,r=e.strstart-e.block_start,i>r+e.strm.avail_in&&(i=r+e.strm.avail_in),i>a&&(i=a),i<t&&(i===0&&n!==Te||n===dt||i!==r+e.strm.avail_in)))break;o=n===Te&&i===r+e.strm.avail_in?1:0,Xi(e,0,0,o),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,Fe(e.strm),r&&(r>i&&(r=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,i-=r),i&&(Qi(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Kt:n!==dt&&n!==Te&&e.strm.avail_in===0&&e.strstart===e.block_start?Yt:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Qi(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=t||(r||n===Te)&&n!==dt&&e.strm.avail_in===0&&r<=a)&&(i=r>a?a:r,o=n===Te&&e.strm.avail_in===0&&i===r?1:0,Xi(e,e.block_start,i,o),e.block_start+=i,Fe(e.strm)),o?wt:be)},ki=(e,n)=>{let t,i;for(;;){if(e.lookahead<Xe){if(Wt(e),e.lookahead<Xe&&n===dt)return be;if(e.lookahead===0)break}if(t=0,e.lookahead>=W&&(e.ins_h=ht(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-Xe&&(e.match_length=Ho(e,t)),e.match_length>=W)if(i=ut(e,e.strstart-e.match_start,e.match_length-W),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=W){e.match_length--;do e.strstart++,e.ins_h=ht(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ht(e,e.ins_h,e.window[e.strstart+1]);else i=ut(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(De(e,!1),e.strm.avail_out===0))return be}return e.insert=e.strstart<W-1?e.strstart:W-1,n===Te?(De(e,!0),e.strm.avail_out===0?wt:Kt):e.sym_next&&(De(e,!1),e.strm.avail_out===0)?be:Yt},Lt=(e,n)=>{let t,i,r;for(;;){if(e.lookahead<Xe){if(Wt(e),e.lookahead<Xe&&n===dt)return be;if(e.lookahead===0)break}if(t=0,e.lookahead>=W&&(e.ins_h=ht(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=W-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-Xe&&(e.match_length=Ho(e,t),e.match_length<=5&&(e.strategy===If||e.match_length===W&&e.strstart-e.match_start>4096)&&(e.match_length=W-1)),e.prev_length>=W&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-W,i=ut(e,e.strstart-1-e.prev_match,e.prev_length-W),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=ht(e,e.ins_h,e.window[e.strstart+W-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=W-1,e.strstart++,i&&(De(e,!1),e.strm.avail_out===0))return be}else if(e.match_available){if(i=ut(e,0,e.window[e.strstart-1]),i&&De(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return be}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=ut(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<W-1?e.strstart:W-1,n===Te?(De(e,!0),e.strm.avail_out===0?wt:Kt):e.sym_next&&(De(e,!1),e.strm.avail_out===0)?be:Yt},jf=(e,n)=>{let t,i,r,a;const o=e.window;for(;;){if(e.lookahead<=ft){if(Wt(e),e.lookahead<=ft&&n===dt)return be;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=W&&e.strstart>0&&(r=e.strstart-1,i=o[r],i===o[++r]&&i===o[++r]&&i===o[++r])){a=e.strstart+ft;do;while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<a);e.match_length=ft-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=W?(t=ut(e,1,e.match_length-W),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=ut(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(De(e,!1),e.strm.avail_out===0))return be}return e.insert=0,n===Te?(De(e,!0),e.strm.avail_out===0?wt:Kt):e.sym_next&&(De(e,!1),e.strm.avail_out===0)?be:Yt},Zf=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(Wt(e),e.lookahead===0)){if(n===dt)return be;break}if(e.match_length=0,t=ut(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(De(e,!1),e.strm.avail_out===0))return be}return e.insert=0,n===Te?(De(e,!0),e.strm.avail_out===0?wt:Kt):e.sym_next&&(De(e,!1),e.strm.avail_out===0)?be:Yt};function Ve(e,n,t,i,r){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=r}const sn=[new Ve(0,0,0,0,jo),new Ve(4,4,8,4,ki),new Ve(4,5,16,8,ki),new Ve(4,6,32,32,ki),new Ve(4,4,16,16,Lt),new Ve(8,16,32,32,Lt),new Ve(8,16,128,128,Lt),new Ve(8,32,128,256,Lt),new Ve(32,128,258,1024,Lt),new Ve(32,258,258,4096,Lt)],Wf=e=>{e.window_size=2*e.w_size,st(e.head),e.max_lazy_match=sn[e.level].max_lazy,e.good_match=sn[e.level].good_length,e.nice_match=sn[e.level].nice_length,e.max_chain_length=sn[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=W-1,e.match_available=0,e.ins_h=0};function Xf(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=si,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Bf*2),this.dyn_dtree=new Uint16Array((2*Mf+1)*2),this.bl_tree=new Uint16Array((2*zf+1)*2),st(this.dyn_ltree),st(this.dyn_dtree),st(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Nf+1),this.heap=new Uint16Array(2*$i+1),st(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*$i+1),st(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const En=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.status!==Zt&&n.status!==hr&&n.status!==Yi&&n.status!==Ki&&n.status!==qi&&n.status!==Ji&&n.status!==xt&&n.status!==ln?1:0},Zo=e=>{if(En(e))return kt(e,We);e.total_in=e.total_out=0,e.data_type=Af;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?hr:n.wrap?Zt:xt,e.adler=n.wrap===2?0:1,n.last_flush=-2,yf(n),he},Wo=e=>{const n=Zo(e);return n===he&&Wf(e.state),n},$f=(e,n)=>En(e)||e.state.wrap!==2?We:(e.state.gzhead=n,he),Xo=(e,n,t,i,r,a)=>{if(!e)return We;let o=1;if(n===wf&&(n=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>Of||t!==si||i<8||i>15||n<0||n>9||a<0||a>Ef||i===8&&o!==1)return kt(e,We);i===8&&(i=9);const l=new Xf;return e.state=l,l.strm=e,l.status=Zt,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+W-1)/W),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=n,l.strategy=a,l.method=t,Wo(e)},Yf=(e,n)=>Xo(e,n,si,Tf,Lf,Df),Kf=(e,n)=>{if(En(e)||n>Nr||n<0)return e?kt(e,We):We;const t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===ln&&n!==Te)return kt(e,e.avail_out===0?xi:We);const i=t.last_flush;if(t.last_flush=n,t.pending!==0){if(Fe(e),e.avail_out===0)return t.last_flush=-1,he}else if(e.avail_in===0&&Gr(n)<=Gr(i)&&n!==Te)return kt(e,xi);if(t.status===ln&&e.avail_in!==0)return kt(e,xi);if(t.status===Zt&&t.wrap===0&&(t.status=xt),t.status===Zt){let r=si+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=Ln||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,r|=a<<6,t.strstart!==0&&(r|=Uf),r+=31-r%31,tn(t,r),t.strstart!==0&&(tn(t,e.adler>>>16),tn(t,e.adler&65535)),e.adler=1,t.status=xt,Fe(e),t.pending!==0)return t.last_flush=-1,he}if(t.status===hr){if(e.adler=0,J(t,31),J(t,139),J(t,8),t.gzhead)J(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),J(t,t.gzhead.time&255),J(t,t.gzhead.time>>8&255),J(t,t.gzhead.time>>16&255),J(t,t.gzhead.time>>24&255),J(t,t.level===9?2:t.strategy>=Ln||t.level<2?4:0),J(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(J(t,t.gzhead.extra.length&255),J(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=fe(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=Yi;else if(J(t,0),J(t,0),J(t,0),J(t,0),J(t,0),J(t,t.level===9?2:t.strategy>=Ln||t.level<2?4:0),J(t,Gf),t.status=xt,Fe(e),t.pending!==0)return t.last_flush=-1,he}if(t.status===Yi){if(t.gzhead.extra){let r=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(e.adler=fe(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=l,Fe(e),t.pending!==0)return t.last_flush=-1,he;r=0,a-=l}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>r&&(e.adler=fe(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Ki}if(t.status===Ki){if(t.gzhead.name){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=fe(e.adler,t.pending_buf,t.pending-r,r)),Fe(e),t.pending!==0)return t.last_flush=-1,he;r=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,J(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=fe(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=qi}if(t.status===qi){if(t.gzhead.comment){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=fe(e.adler,t.pending_buf,t.pending-r,r)),Fe(e),t.pending!==0)return t.last_flush=-1,he;r=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,J(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=fe(e.adler,t.pending_buf,t.pending-r,r))}t.status=Ji}if(t.status===Ji){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Fe(e),t.pending!==0))return t.last_flush=-1,he;J(t,e.adler&255),J(t,e.adler>>8&255),e.adler=0}if(t.status=xt,Fe(e),t.pending!==0)return t.last_flush=-1,he}if(e.avail_in!==0||t.lookahead!==0||n!==dt&&t.status!==ln){let r=t.level===0?jo(t,n):t.strategy===Ln?Zf(t,n):t.strategy===Cf?jf(t,n):sn[t.level].func(t,n);if((r===wt||r===Kt)&&(t.status=ln),r===be||r===wt)return e.avail_out===0&&(t.last_flush=-1),he;if(r===Yt&&(n===xf?Sf(t):n!==Nr&&(Xi(t,0,0,!1),n===kf&&(st(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Fe(e),e.avail_out===0))return t.last_flush=-1,he}return n!==Te?he:t.wrap<=0?Ur:(t.wrap===2?(J(t,e.adler&255),J(t,e.adler>>8&255),J(t,e.adler>>16&255),J(t,e.adler>>24&255),J(t,e.total_in&255),J(t,e.total_in>>8&255),J(t,e.total_in>>16&255),J(t,e.total_in>>24&255)):(tn(t,e.adler>>>16),tn(t,e.adler&65535)),Fe(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?he:Ur)},qf=e=>{if(En(e))return We;const n=e.state.status;return e.state=null,n===xt?kt(e,Ff):he},Jf=(e,n)=>{let t=n.length;if(En(e))return We;const i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==Zt||i.lookahead)return We;if(r===1&&(e.adler=Sn(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){r===0&&(st(i.head),i.strstart=0,i.block_start=0,i.insert=0);let f=new Uint8Array(i.w_size);f.set(n.subarray(t-i.w_size,t),0),n=f,t=i.w_size}const a=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,Wt(i);i.lookahead>=W;){let f=i.strstart,s=i.lookahead-(W-1);do i.ins_h=ht(i,i.ins_h,i.window[f+W-1]),i.prev[f&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=f,f++;while(--s);i.strstart=f,i.lookahead=W-1,Wt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=W-1,i.match_available=0,e.next_in=o,e.input=l,e.avail_in=a,i.wrap=r,he};var Qf=Yf,ec=Xo,tc=Wo,nc=Zo,ic=$f,rc=Kf,ac=qf,oc=Jf,lc="pako deflate (from Nodeca project)",un={deflateInit:Qf,deflateInit2:ec,deflateReset:tc,deflateResetKeep:nc,deflateSetHeader:ic,deflate:rc,deflateEnd:ac,deflateSetDictionary:oc,deflateInfo:lc};const sc=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var fc=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)sc(t,i)&&(e[i]=t[i])}}return e},cc=e=>{let n=0;for(let i=0,r=e.length;i<r;i++)n+=e[i].length;const t=new Uint8Array(n);for(let i=0,r=0,a=e.length;i<a;i++){let o=e[i];t.set(o,r),r+=o.length}return t},fi={assign:fc,flattenChunks:cc};let $o=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$o=!1}const xn=new Uint8Array(256);for(let e=0;e<256;e++)xn[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;xn[254]=xn[254]=1;var uc=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,r,a,o=e.length,l=0;for(r=0;r<o;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(l),a=0,r=0;a<l;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n};const dc=(e,n)=>{if(n<65534&&e.subarray&&$o)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t};var hc=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,r;const a=new Array(t*2);for(r=0,i=0;i<t;){let o=e[i++];if(o<128){a[r++]=o;continue}let l=xn[o];if(l>4){a[r++]=65533,i+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&i<t;)o=o<<6|e[i++]&63,l--;if(l>1){a[r++]=65533;continue}o<65536?a[r++]=o:(o-=65536,a[r++]=55296|o>>10&1023,a[r++]=56320|o&1023)}return dc(a,r)},pc=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+xn[e[t]]>n?t:n},kn={string2buf:uc,buf2string:hc,utf8border:pc};function vc(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Yo=vc;const Ko=Object.prototype.toString,{Z_NO_FLUSH:gc,Z_SYNC_FLUSH:mc,Z_FULL_FLUSH:bc,Z_FINISH:yc,Z_OK:ti,Z_STREAM_END:_c,Z_DEFAULT_COMPRESSION:Sc,Z_DEFAULT_STRATEGY:xc,Z_DEFLATED:kc}=Cn;function pr(e){this.options=fi.assign({level:Sc,method:kc,chunkSize:16384,windowBits:15,memLevel:8,strategy:xc},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yo,this.strm.avail_out=0;let t=un.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==ti)throw new Error(jt[t]);if(n.header&&un.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=kn.string2buf(n.dictionary):Ko.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=un.deflateSetDictionary(this.strm,i),t!==ti)throw new Error(jt[t]);this._dict_set=!0}}pr.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize;let r,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?yc:gc,typeof e=="string"?t.input=kn.string2buf(e):Ko.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(a===mc||a===bc)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=un.deflate(t,a),r===_c)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=un.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===ti;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};pr.prototype.onData=function(e){this.chunks.push(e)};pr.prototype.onEnd=function(e){e===ti&&(this.result=fi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Rn=16209,Fc=16191;var wc=function(n,t){let i,r,a,o,l,f,s,c,p,d,h,v,g,y,m,b,_,S,C,B,k,N,z,R;const L=n.state;i=n.next_in,z=n.input,r=i+(n.avail_in-5),a=n.next_out,R=n.output,o=a-(t-n.avail_out),l=a+(n.avail_out-257),f=L.dmax,s=L.wsize,c=L.whave,p=L.wnext,d=L.window,h=L.hold,v=L.bits,g=L.lencode,y=L.distcode,m=(1<<L.lenbits)-1,b=(1<<L.distbits)-1;e:do{v<15&&(h+=z[i++]<<v,v+=8,h+=z[i++]<<v,v+=8),_=g[h&m];t:for(;;){if(S=_>>>24,h>>>=S,v-=S,S=_>>>16&255,S===0)R[a++]=_&65535;else if(S&16){C=_&65535,S&=15,S&&(v<S&&(h+=z[i++]<<v,v+=8),C+=h&(1<<S)-1,h>>>=S,v-=S),v<15&&(h+=z[i++]<<v,v+=8,h+=z[i++]<<v,v+=8),_=y[h&b];n:for(;;){if(S=_>>>24,h>>>=S,v-=S,S=_>>>16&255,S&16){if(B=_&65535,S&=15,v<S&&(h+=z[i++]<<v,v+=8,v<S&&(h+=z[i++]<<v,v+=8)),B+=h&(1<<S)-1,B>f){n.msg="invalid distance too far back",L.mode=Rn;break e}if(h>>>=S,v-=S,S=a-o,B>S){if(S=B-S,S>c&&L.sane){n.msg="invalid distance too far back",L.mode=Rn;break e}if(k=0,N=d,p===0){if(k+=s-S,S<C){C-=S;do R[a++]=d[k++];while(--S);k=a-B,N=R}}else if(p<S){if(k+=s+p-S,S-=p,S<C){C-=S;do R[a++]=d[k++];while(--S);if(k=0,p<C){S=p,C-=S;do R[a++]=d[k++];while(--S);k=a-B,N=R}}}else if(k+=p-S,S<C){C-=S;do R[a++]=d[k++];while(--S);k=a-B,N=R}for(;C>2;)R[a++]=N[k++],R[a++]=N[k++],R[a++]=N[k++],C-=3;C&&(R[a++]=N[k++],C>1&&(R[a++]=N[k++]))}else{k=a-B;do R[a++]=R[k++],R[a++]=R[k++],R[a++]=R[k++],C-=3;while(C>2);C&&(R[a++]=R[k++],C>1&&(R[a++]=R[k++]))}}else if(S&64){n.msg="invalid distance code",L.mode=Rn;break e}else{_=y[(_&65535)+(h&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){L.mode=Fc;break e}else{n.msg="invalid literal/length code",L.mode=Rn;break e}else{_=g[(_&65535)+(h&(1<<S)-1)];continue t}break}}while(i<r&&a<l);C=v>>3,i-=C,v-=C<<3,h&=(1<<v)-1,n.next_in=i,n.next_out=a,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=a<l?257+(l-a):257-(a-l),L.hold=h,L.bits=v};const Rt=15,Vr=852,Hr=592,jr=0,Fi=1,Zr=2,Ic=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Cc=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ec=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Dc=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ac=(e,n,t,i,r,a,o,l)=>{const f=l.bits;let s=0,c=0,p=0,d=0,h=0,v=0,g=0,y=0,m=0,b=0,_,S,C,B,k,N=null,z;const R=new Uint16Array(Rt+1),L=new Uint16Array(Rt+1);let oe=null,ge,re,de;for(s=0;s<=Rt;s++)R[s]=0;for(c=0;c<i;c++)R[n[t+c]]++;for(h=f,d=Rt;d>=1&&R[d]===0;d--);if(h>d&&(h=d),d===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<d&&R[p]===0;p++);for(h<p&&(h=p),y=1,s=1;s<=Rt;s++)if(y<<=1,y-=R[s],y<0)return-1;if(y>0&&(e===jr||d!==1))return-1;for(L[1]=0,s=1;s<Rt;s++)L[s+1]=L[s]+R[s];for(c=0;c<i;c++)n[t+c]!==0&&(o[L[n[t+c]]++]=c);if(e===jr?(N=oe=o,z=20):e===Fi?(N=Ic,oe=Cc,z=257):(N=Ec,oe=Dc,z=0),b=0,c=0,s=p,k=a,v=h,g=0,C=-1,m=1<<h,B=m-1,e===Fi&&m>Vr||e===Zr&&m>Hr)return 1;for(;;){ge=s-g,o[c]+1<z?(re=0,de=o[c]):o[c]>=z?(re=oe[o[c]-z],de=N[o[c]-z]):(re=96,de=0),_=1<<s-g,S=1<<v,p=S;do S-=_,r[k+(b>>g)+S]=ge<<24|re<<16|de|0;while(S!==0);for(_=1<<s-1;b&_;)_>>=1;if(_!==0?(b&=_-1,b+=_):b=0,c++,--R[s]===0){if(s===d)break;s=n[t+o[c]]}if(s>h&&(b&B)!==C){for(g===0&&(g=h),k+=p,v=s-g,y=1<<v;v+g<d&&(y-=R[v+g],!(y<=0));)v++,y<<=1;if(m+=1<<v,e===Fi&&m>Vr||e===Zr&&m>Hr)return 1;C=b&B,r[C]=h<<24|v<<16|k-a|0}}return b!==0&&(r[k+b]=s-g<<24|64<<16|0),l.bits=h,0};var dn=Ac;const Oc=0,qo=1,Jo=2,{Z_FINISH:Wr,Z_BLOCK:Tc,Z_TREES:Pn,Z_OK:It,Z_STREAM_END:Lc,Z_NEED_DICT:Rc,Z_STREAM_ERROR:Pe,Z_DATA_ERROR:Qo,Z_MEM_ERROR:el,Z_BUF_ERROR:Pc,Z_DEFLATED:Xr}=Cn,ci=16180,$r=16181,Yr=16182,Kr=16183,qr=16184,Jr=16185,Qr=16186,ea=16187,ta=16188,na=16189,ni=16190,$e=16191,wi=16192,ia=16193,Ii=16194,ra=16195,aa=16196,oa=16197,la=16198,Mn=16199,zn=16200,sa=16201,fa=16202,ca=16203,ua=16204,da=16205,Ci=16206,ha=16207,pa=16208,ie=16209,tl=16210,nl=16211,Mc=852,zc=592,Bc=15,Nc=Bc,va=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Uc(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Et=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<ci||n.mode>nl?1:0},il=e=>{if(Et(e))return Pe;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=ci,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(Mc),n.distcode=n.distdyn=new Int32Array(zc),n.sane=1,n.back=-1,It},rl=e=>{if(Et(e))return Pe;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,il(e)},al=(e,n)=>{let t;if(Et(e))return Pe;const i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?Pe:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,rl(e))},ol=(e,n)=>{if(!e)return Pe;const t=new Uc;e.state=t,t.strm=e,t.window=null,t.mode=ci;const i=al(e,n);return i!==It&&(e.state=null),i},Gc=e=>ol(e,Nc);let ga=!0,Ei,Di;const Vc=e=>{if(ga){Ei=new Int32Array(512),Di=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(dn(qo,e.lens,0,288,Ei,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;dn(Jo,e.lens,0,32,Di,0,e.work,{bits:5}),ga=!1}e.lencode=Ei,e.lenbits=9,e.distcode=Di,e.distbits=5},ll=(e,n,t,i)=>{let r;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(n.subarray(t-i,t-i+r),a.wnext),i-=r,i?(a.window.set(n.subarray(t-i,t),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},Hc=(e,n)=>{let t,i,r,a,o,l,f,s,c,p,d,h,v,g,y=0,m,b,_,S,C,B,k,N;const z=new Uint8Array(4);let R,L;const oe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Et(e)||!e.output||!e.input&&e.avail_in!==0)return Pe;t=e.state,t.mode===$e&&(t.mode=wi),o=e.next_out,r=e.output,f=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,s=t.hold,c=t.bits,p=l,d=f,N=It;e:for(;;)switch(t.mode){case ci:if(t.wrap===0){t.mode=wi;break}for(;c<16;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}if(t.wrap&2&&s===35615){t.wbits===0&&(t.wbits=15),t.check=0,z[0]=s&255,z[1]=s>>>8&255,t.check=fe(t.check,z,2,0),s=0,c=0,t.mode=$r;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((s&255)<<8)+(s>>8))%31){e.msg="incorrect header check",t.mode=ie;break}if((s&15)!==Xr){e.msg="unknown compression method",t.mode=ie;break}if(s>>>=4,c-=4,k=(s&15)+8,t.wbits===0&&(t.wbits=k),k>15||k>t.wbits){e.msg="invalid window size",t.mode=ie;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=s&512?na:$e,s=0,c=0;break;case $r:for(;c<16;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}if(t.flags=s,(t.flags&255)!==Xr){e.msg="unknown compression method",t.mode=ie;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=ie;break}t.head&&(t.head.text=s>>8&1),t.flags&512&&t.wrap&4&&(z[0]=s&255,z[1]=s>>>8&255,t.check=fe(t.check,z,2,0)),s=0,c=0,t.mode=Yr;case Yr:for(;c<32;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}t.head&&(t.head.time=s),t.flags&512&&t.wrap&4&&(z[0]=s&255,z[1]=s>>>8&255,z[2]=s>>>16&255,z[3]=s>>>24&255,t.check=fe(t.check,z,4,0)),s=0,c=0,t.mode=Kr;case Kr:for(;c<16;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}t.head&&(t.head.xflags=s&255,t.head.os=s>>8),t.flags&512&&t.wrap&4&&(z[0]=s&255,z[1]=s>>>8&255,t.check=fe(t.check,z,2,0)),s=0,c=0,t.mode=qr;case qr:if(t.flags&1024){for(;c<16;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}t.length=s,t.head&&(t.head.extra_len=s),t.flags&512&&t.wrap&4&&(z[0]=s&255,z[1]=s>>>8&255,t.check=fe(t.check,z,2,0)),s=0,c=0}else t.head&&(t.head.extra=null);t.mode=Jr;case Jr:if(t.flags&1024&&(h=t.length,h>l&&(h=l),h&&(t.head&&(k=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(a,a+h),k)),t.flags&512&&t.wrap&4&&(t.check=fe(t.check,i,h,a)),l-=h,a+=h,t.length-=h),t.length))break e;t.length=0,t.mode=Qr;case Qr:if(t.flags&2048){if(l===0)break e;h=0;do k=i[a+h++],t.head&&k&&t.length<65536&&(t.head.name+=String.fromCharCode(k));while(k&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=fe(t.check,i,h,a)),l-=h,a+=h,k)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=ea;case ea:if(t.flags&4096){if(l===0)break e;h=0;do k=i[a+h++],t.head&&k&&t.length<65536&&(t.head.comment+=String.fromCharCode(k));while(k&&h<l);if(t.flags&512&&t.wrap&4&&(t.check=fe(t.check,i,h,a)),l-=h,a+=h,k)break e}else t.head&&(t.head.comment=null);t.mode=ta;case ta:if(t.flags&512){for(;c<16;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}if(t.wrap&4&&s!==(t.check&65535)){e.msg="header crc mismatch",t.mode=ie;break}s=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=$e;break;case na:for(;c<32;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}e.adler=t.check=va(s),s=0,c=0,t.mode=ni;case ni:if(t.havedict===0)return e.next_out=o,e.avail_out=f,e.next_in=a,e.avail_in=l,t.hold=s,t.bits=c,Rc;e.adler=t.check=1,t.mode=$e;case $e:if(n===Tc||n===Pn)break e;case wi:if(t.last){s>>>=c&7,c-=c&7,t.mode=Ci;break}for(;c<3;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}switch(t.last=s&1,s>>>=1,c-=1,s&3){case 0:t.mode=ia;break;case 1:if(Vc(t),t.mode=Mn,n===Pn){s>>>=2,c-=2;break e}break;case 2:t.mode=aa;break;case 3:e.msg="invalid block type",t.mode=ie}s>>>=2,c-=2;break;case ia:for(s>>>=c&7,c-=c&7;c<32;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}if((s&65535)!==(s>>>16^65535)){e.msg="invalid stored block lengths",t.mode=ie;break}if(t.length=s&65535,s=0,c=0,t.mode=Ii,n===Pn)break e;case Ii:t.mode=ra;case ra:if(h=t.length,h){if(h>l&&(h=l),h>f&&(h=f),h===0)break e;r.set(i.subarray(a,a+h),o),l-=h,a+=h,f-=h,o+=h,t.length-=h;break}t.mode=$e;break;case aa:for(;c<14;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}if(t.nlen=(s&31)+257,s>>>=5,c-=5,t.ndist=(s&31)+1,s>>>=5,c-=5,t.ncode=(s&15)+4,s>>>=4,c-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=ie;break}t.have=0,t.mode=oa;case oa:for(;t.have<t.ncode;){for(;c<3;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}t.lens[oe[t.have++]]=s&7,s>>>=3,c-=3}for(;t.have<19;)t.lens[oe[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,R={bits:t.lenbits},N=dn(Oc,t.lens,0,19,t.lencode,0,t.work,R),t.lenbits=R.bits,N){e.msg="invalid code lengths set",t.mode=ie;break}t.have=0,t.mode=la;case la:for(;t.have<t.nlen+t.ndist;){for(;y=t.lencode[s&(1<<t.lenbits)-1],m=y>>>24,b=y>>>16&255,_=y&65535,!(m<=c);){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}if(_<16)s>>>=m,c-=m,t.lens[t.have++]=_;else{if(_===16){for(L=m+2;c<L;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}if(s>>>=m,c-=m,t.have===0){e.msg="invalid bit length repeat",t.mode=ie;break}k=t.lens[t.have-1],h=3+(s&3),s>>>=2,c-=2}else if(_===17){for(L=m+3;c<L;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}s>>>=m,c-=m,k=0,h=3+(s&7),s>>>=3,c-=3}else{for(L=m+7;c<L;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}s>>>=m,c-=m,k=0,h=11+(s&127),s>>>=7,c-=7}if(t.have+h>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=ie;break}for(;h--;)t.lens[t.have++]=k}}if(t.mode===ie)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=ie;break}if(t.lenbits=9,R={bits:t.lenbits},N=dn(qo,t.lens,0,t.nlen,t.lencode,0,t.work,R),t.lenbits=R.bits,N){e.msg="invalid literal/lengths set",t.mode=ie;break}if(t.distbits=6,t.distcode=t.distdyn,R={bits:t.distbits},N=dn(Jo,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,R),t.distbits=R.bits,N){e.msg="invalid distances set",t.mode=ie;break}if(t.mode=Mn,n===Pn)break e;case Mn:t.mode=zn;case zn:if(l>=6&&f>=258){e.next_out=o,e.avail_out=f,e.next_in=a,e.avail_in=l,t.hold=s,t.bits=c,wc(e,d),o=e.next_out,r=e.output,f=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,s=t.hold,c=t.bits,t.mode===$e&&(t.back=-1);break}for(t.back=0;y=t.lencode[s&(1<<t.lenbits)-1],m=y>>>24,b=y>>>16&255,_=y&65535,!(m<=c);){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}if(b&&!(b&240)){for(S=m,C=b,B=_;y=t.lencode[B+((s&(1<<S+C)-1)>>S)],m=y>>>24,b=y>>>16&255,_=y&65535,!(S+m<=c);){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}s>>>=S,c-=S,t.back+=S}if(s>>>=m,c-=m,t.back+=m,t.length=_,b===0){t.mode=da;break}if(b&32){t.back=-1,t.mode=$e;break}if(b&64){e.msg="invalid literal/length code",t.mode=ie;break}t.extra=b&15,t.mode=sa;case sa:if(t.extra){for(L=t.extra;c<L;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}t.length+=s&(1<<t.extra)-1,s>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=fa;case fa:for(;y=t.distcode[s&(1<<t.distbits)-1],m=y>>>24,b=y>>>16&255,_=y&65535,!(m<=c);){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}if(!(b&240)){for(S=m,C=b,B=_;y=t.distcode[B+((s&(1<<S+C)-1)>>S)],m=y>>>24,b=y>>>16&255,_=y&65535,!(S+m<=c);){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}s>>>=S,c-=S,t.back+=S}if(s>>>=m,c-=m,t.back+=m,b&64){e.msg="invalid distance code",t.mode=ie;break}t.offset=_,t.extra=b&15,t.mode=ca;case ca:if(t.extra){for(L=t.extra;c<L;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}t.offset+=s&(1<<t.extra)-1,s>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=ie;break}t.mode=ua;case ua:if(f===0)break e;if(h=d-f,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=ie;break}h>t.wnext?(h-=t.wnext,v=t.wsize-h):v=t.wnext-h,h>t.length&&(h=t.length),g=t.window}else g=r,v=o-t.offset,h=t.length;h>f&&(h=f),f-=h,t.length-=h;do r[o++]=g[v++];while(--h);t.length===0&&(t.mode=zn);break;case da:if(f===0)break e;r[o++]=t.length,f--,t.mode=zn;break;case Ci:if(t.wrap){for(;c<32;){if(l===0)break e;l--,s|=i[a++]<<c,c+=8}if(d-=f,e.total_out+=d,t.total+=d,t.wrap&4&&d&&(e.adler=t.check=t.flags?fe(t.check,r,d,o-d):Sn(t.check,r,d,o-d)),d=f,t.wrap&4&&(t.flags?s:va(s))!==t.check){e.msg="incorrect data check",t.mode=ie;break}s=0,c=0}t.mode=ha;case ha:if(t.wrap&&t.flags){for(;c<32;){if(l===0)break e;l--,s+=i[a++]<<c,c+=8}if(t.wrap&4&&s!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=ie;break}s=0,c=0}t.mode=pa;case pa:N=Lc;break e;case ie:N=Qo;break e;case tl:return el;case nl:default:return Pe}return e.next_out=o,e.avail_out=f,e.next_in=a,e.avail_in=l,t.hold=s,t.bits=c,(t.wsize||d!==e.avail_out&&t.mode<ie&&(t.mode<Ci||n!==Wr))&&ll(e,e.output,e.next_out,d-e.avail_out),p-=e.avail_in,d-=e.avail_out,e.total_in+=p,e.total_out+=d,t.total+=d,t.wrap&4&&d&&(e.adler=t.check=t.flags?fe(t.check,r,d,e.next_out-d):Sn(t.check,r,d,e.next_out-d)),e.data_type=t.bits+(t.last?64:0)+(t.mode===$e?128:0)+(t.mode===Mn||t.mode===Ii?256:0),(p===0&&d===0||n===Wr)&&N===It&&(N=Pc),N},jc=e=>{if(Et(e))return Pe;let n=e.state;return n.window&&(n.window=null),e.state=null,It},Zc=(e,n)=>{if(Et(e))return Pe;const t=e.state;return t.wrap&2?(t.head=n,n.done=!1,It):Pe},Wc=(e,n)=>{const t=n.length;let i,r,a;return Et(e)||(i=e.state,i.wrap!==0&&i.mode!==ni)?Pe:i.mode===ni&&(r=1,r=Sn(r,n,t,0),r!==i.check)?Qo:(a=ll(e,n,t,t),a?(i.mode=tl,el):(i.havedict=1,It))};var Xc=rl,$c=al,Yc=il,Kc=Gc,qc=ol,Jc=Hc,Qc=jc,eu=Zc,tu=Wc,nu="pako inflate (from Nodeca project)",Je={inflateReset:Xc,inflateReset2:$c,inflateResetKeep:Yc,inflateInit:Kc,inflateInit2:qc,inflate:Jc,inflateEnd:Qc,inflateGetHeader:eu,inflateSetDictionary:tu,inflateInfo:nu};function iu(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ru=iu;const sl=Object.prototype.toString,{Z_NO_FLUSH:au,Z_FINISH:ou,Z_OK:Fn,Z_STREAM_END:Ai,Z_NEED_DICT:Oi,Z_STREAM_ERROR:lu,Z_DATA_ERROR:ma,Z_MEM_ERROR:su}=Cn;function Dn(e){this.options=fi.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yo,this.strm.avail_out=0;let t=Je.inflateInit2(this.strm,n.windowBits);if(t!==Fn)throw new Error(jt[t]);if(this.header=new ru,Je.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=kn.string2buf(n.dictionary):sl.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=Je.inflateSetDictionary(this.strm,n.dictionary),t!==Fn)))throw new Error(jt[t])}Dn.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(n===~~n?o=n:o=n===!0?ou:au,sl.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),a=Je.inflate(t,o),a===Oi&&r&&(a=Je.inflateSetDictionary(t,r),a===Fn?a=Je.inflate(t,o):a===ma&&(a=Oi));t.avail_in>0&&a===Ai&&t.state.wrap>0&&e[t.next_in]!==0;)Je.inflateReset(t),a=Je.inflate(t,o);switch(a){case lu:case ma:case Oi:case su:return this.onEnd(a),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||a===Ai))if(this.options.to==="string"){let f=kn.utf8border(t.output,t.next_out),s=t.next_out-f,c=kn.buf2string(t.output,f);t.next_out=s,t.avail_out=i-s,s&&t.output.set(t.output.subarray(f,f+s),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Fn&&l===0)){if(a===Ai)return a=Je.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Dn.prototype.onData=function(e){this.chunks.push(e)};Dn.prototype.onEnd=function(e){e===Fn&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fi.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function vr(e,n){const t=new Dn(n);if(t.push(e),t.err)throw t.msg||jt[t.err];return t.result}function fu(e,n){return n=n||{},n.raw=!0,vr(e,n)}var cu=Dn,uu=vr,du=fu,hu=vr,pu=Cn,vu={Inflate:cu,inflate:uu,inflateRaw:du,ungzip:hu,constants:pu};const{Inflate:Fd,inflate:gu,inflateRaw:wd,ungzip:Id}=vu;var mu=gu,fl={},wn={pass:"pass through",norm:"normal",diss:"dissolve",dark:"darken","mul ":"multiply",idiv:"color burn",lbrn:"linear burn",dkCl:"darker color",lite:"lighten",scrn:"screen","div ":"color dodge",lddg:"linear dodge",lgCl:"lighter color",over:"overlay",sLit:"soft light",hLit:"hard light",vLit:"vivid light",lLit:"linear light",pLit:"pin light",hMix:"hard mix",diff:"difference",smud:"exclusion",fsub:"subtract",fdiv:"divide","hue ":"hue","sat ":"saturation",colr:"color","lum ":"luminosity"};Object.keys(wn).forEach(function(e){return fl[wn[e]]=e});var ba=["none","red","orange","yellow","green","blue","violet","gray"],bu=["LMsk","Lr16","Lr32","Layr","Mt16","Mt32","Mtrn","Alph","FMsk","lnk2","FEid","FXid","PxSD","cinf"];function yu(e){var n={};return Object.keys(e).forEach(function(t){return n[e[t]]=t}),n}function M(e,n,t){var i=yu(t),r=function(o){var l=o.split(".")[1];if(l&&!i[l])throw new Error("Unrecognized value for enum: '".concat(o,"'"));return i[l]||n},a=function(o){if(o&&!t[o])throw new Error("Invalid value for enum: '".concat(o,"'"));return"".concat(e,".").concat(t[o]||t[n])};return{decode:r,encode:a}}var ya;(function(e){e[e.RGB=0]="RGB",e[e.HSB=1]="HSB",e[e.CMYK=2]="CMYK",e[e.Lab=7]="Lab",e[e.Grayscale=8]="Grayscale"})(ya||(ya={}));var _a;(function(e){e[e.PositionRelativeToLayer=1]="PositionRelativeToLayer",e[e.LayerMaskDisabled=2]="LayerMaskDisabled",e[e.InvertLayerMaskWhenBlending=4]="InvertLayerMaskWhenBlending",e[e.LayerMaskFromRenderingOtherData=8]="LayerMaskFromRenderingOtherData",e[e.MaskHasParametersAppliedToIt=16]="MaskHasParametersAppliedToIt"})(_a||(_a={}));var Sa;(function(e){e[e.UserMaskDensity=1]="UserMaskDensity",e[e.UserMaskFeather=2]="UserMaskFeather",e[e.VectorMaskDensity=4]="VectorMaskDensity",e[e.VectorMaskFeather=8]="VectorMaskFeather"})(Sa||(Sa={}));var xa;(function(e){e[e.Color0=0]="Color0",e[e.Color1=1]="Color1",e[e.Color2=2]="Color2",e[e.Color3=3]="Color3",e[e.Transparency=-1]="Transparency",e[e.UserMask=-2]="UserMask",e[e.RealUserMask=-3]="RealUserMask"})(xa||(xa={}));var ka;(function(e){e[e.RawData=0]="RawData",e[e.RleCompressed=1]="RleCompressed",e[e.ZipWithoutPrediction=2]="ZipWithoutPrediction",e[e.ZipWithPrediction=3]="ZipWithPrediction"})(ka||(ka={}));function _u(e,n){switch(e){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return n?3:e+1;case-1:return n?4:3;default:return e+1}}function cl(e,n,t){return e<n?n:e>t?t:e}function er(e){for(var n=e.data,t=n instanceof Float32Array?1:n instanceof Uint16Array?65535:255,i=0,r=n.length|0;i<r;i=i+4|0)n[i+0]=0,n[i+1]=0,n[i+2]=0,n[i+3]=t}function tr(e){var n=gr(e.width,e.height),t;if(e.data instanceof Uint8ClampedArray)t=e;else{t=mr(e.width,e.height);var i=e.data,r=t.data;if(i instanceof Float32Array)for(var a=0,o=i.length;a<o;a+=4)r[a+0]=Math.round(Math.pow(i[a+0],1/2.2)*255),r[a+1]=Math.round(Math.pow(i[a+1],1/2.2)*255),r[a+2]=Math.round(Math.pow(i[a+2],1/2.2)*255),r[a+3]=Math.round(i[a+3]*255);else for(var l=i instanceof Uint16Array?8:0,a=0,o=i.length;a<o;a++)r[a]=i[a]>>>l}return n.getContext("2d").putImageData(t,0,0),n}function Su(e,n,t,i){if(!(e instanceof Uint8Array||e instanceof Uint8ClampedArray))throw new Error("Invalid bit depth");for(var r=0,a=0,o=0;r<i;r++)for(var l=0;l<t;)for(var f=e[o++],s=0;s<8&&l<t;s++,l++,a+=4){var c=f&128?0:255;f=f<<1,n[a+0]=c,n[a+1]=c,n[a+2]=c,n[a+3]=255}}var gr=function(){throw new Error("Canvas not initialized, use initializeCanvas method to set up createCanvas method")},ul=function(){throw new Error("Canvas not initialized, use initializeCanvas method to set up createCanvasFromData method")},Ti=void 0,mr=function(e,n){return Ti||(Ti=gr(1,1)),Ti.getContext("2d").createImageData(e,n)};typeof document<"u"&&(gr=function(e,n){var t=document.createElement("canvas");return t.width=e,t.height=n,t},ul=function(e){var n=new Image;n.src="data:image/jpeg;base64,"+Co(e);var t=document.createElement("canvas");return t.width=n.width,t.height=n.height,t.getContext("2d").drawImage(n,0,0),t});function nr(e){return e&4294967168?e&4294965248?e&4294901760?4:3:2:1}function xu(e){for(var n=0,t=0;t<e.length;t++){var i=e.charCodeAt(t);if(i>=55296&&i<=56319){if(t+1<e.length){var r=e.charCodeAt(t+1);(r&64512)===56320&&(t++,n+=nr(((i&1023)<<10)+(r&1023)+65536))}}else n+=nr(i)}return n}function Fa(e,n,t){var i=nr(t);switch(i){case 1:e[n]=t;break;case 2:e[n]=t>>6&31|192,e[n+1]=t&63|128;break;case 3:e[n]=t>>12&15|224,e[n+1]=t>>6&63|128,e[n+2]=t&63|128;break;default:e[n]=t>>18&7|240,e[n+1]=t>>12&63|128,e[n+2]=t>>6&63|128,e[n+3]=t&63|128;break}return i}function ku(e,n,t){for(var i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){if(i+1<t.length){var a=t.charCodeAt(i+1);if((a&64512)===56320){i++;var o=((r&1023)<<10)+(a&1023)+65536;n+=Fa(e,n,o)}}}else n+=Fa(e,n,r)}return n}function Fu(e){if(e.length>1e3&&typeof TextEncoder<"u")return new TextEncoder().encode(e);var n=new Uint8Array(xu(e));return ku(n,0,e),n}function Pt(e,n){if(n>=e.length)throw Error("Invalid byte index");var t=e[n];if((t&192)===128)return t&63;throw Error("Invalid continuation byte")}function wu(e){if(e.byteLength>1e3&&typeof TextDecoder<"u")return new TextDecoder().decode(e);for(var n=[],t=0;t<e.length;){var i=e[t++],r=void 0;if(!(i&128))r=i;else if((i&224)===192){var a=Pt(e,t++);if(r=(i&31)<<6|a,r<128)throw Error("Invalid continuation byte")}else if((i&240)===224){var a=Pt(e,t++),o=Pt(e,t++);if(r=(i&15)<<12|a<<6|o,r<2048)throw Error("Invalid continuation byte");if(r>=55296&&r<=57343)throw Error("Lone surrogate U+".concat(r.toString(16).toUpperCase()," is not a scalar value"))}else if((i&248)===240){var a=Pt(e,t++),o=Pt(e,t++),l=Pt(e,t++);if(r=(i&15)<<18|a<<12|o<<6|l,r<65536||r>1114111)throw Error("Invalid continuation byte")}else throw Error("Invalid UTF-8 detected");r>65535&&(r-=65536,n.push(String.fromCharCode(r>>>10&1023|55296)),r=56320|r&1023),n.push(String.fromCharCode(r))}return n.join("")}var Qe=function(){return Qe=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)};function Iu(e){var n={};return Object.keys(e).forEach(function(t){return n[e[t]]=t}),n}var fn={"#Ang":"Angle","#Rsl":"Density","#Rlt":"Distance","#Nne":"None","#Prc":"Percent","#Pxl":"Pixels","#Mlm":"Millimeters","#Pnt":"Points",RrPi:"Picas",RrIn:"Inches",RrCm:"Centimeters"},Bn=Iu(fn);function I(e,n){return{name:e,classID:n}}var H=I("","null"),dl={strokeStyleContent:I("","solidColorLayer"),printProofSetup:I("Proof Setup","proofSetup"),patternFill:I("","patternFill"),Grad:I("Gradient","Grdn"),ebbl:I("","ebbl"),SoFi:I("","SoFi"),GrFl:I("","GrFl"),sdwC:I("","RGBC"),hglC:I("","RGBC"),"Clr ":I("","RGBC"),tintColor:I("","RGBC"),Ofst:I("","Pnt "),ChFX:I("","ChFX"),MpgS:I("","ShpC"),DrSh:I("","DrSh"),IrSh:I("","IrSh"),OrGl:I("","OrGl"),IrGl:I("","IrGl"),TrnS:I("","ShpC"),Ptrn:I("","Ptrn"),FrFX:I("","FrFX"),phase:I("","Pnt "),frameStep:H,duration:H,workInTime:H,workOutTime:H,audioClipGroupList:H,bounds:I("","Rctn"),customEnvelopeWarp:I("","customEnvelopeWarp"),warp:I("","warp"),"Sz  ":I("","Pnt "),origin:I("","Pnt "),autoExpandOffset:I("","Pnt "),keyOriginShapeBBox:I("","unitRect"),Vrsn:H,psVersion:H,docDefaultNewArtboardBackgroundColor:I("","RGBC"),artboardRect:I("","classFloatRect"),keyOriginRRectRadii:I("","radii"),keyOriginBoxCorners:H,rectangleCornerA:I("","Pnt "),rectangleCornerB:I("","Pnt "),rectangleCornerC:I("","Pnt "),rectangleCornerD:I("","Pnt "),compInfo:H,Trnf:I("Transform","Trnf"),quiltWarp:I("","quiltWarp"),generatorSettings:H,crema:H,FrIn:H,blendOptions:H,FXRf:H,Lefx:H,time:H,animKey:H,timeScope:H,inTime:H,outTime:H,sheetStyle:H,translation:H,Skew:H,boundingBox:I("","boundingBox"),"Lnk ":I("","ExternalFileLink"),frameReader:I("","FrameReader"),effectParams:I("","motionTrackEffectParams"),Impr:I("None","none"),Anch:I("","Pnt "),"Fwd ":I("","Pnt "),"Bwd ":I("","Pnt "),FlrC:I("","Pnt "),meshBoundaryPath:I("","pathClass"),filterFX:I("","filterFXStyle"),Fltr:I("","rigidTransform"),FrgC:I("","RGBC"),BckC:I("","RGBC"),sdwM:I("Parameters","adaptCorrectTones"),hglM:I("Parameters","adaptCorrectTones"),customShape:I("","customShape"),origFXRefPoint:H,FXRefPoint:H},hl={"Crv ":I("","CrPt"),Clrs:I("","Clrt"),Trns:I("","TrnS"),keyDescriptorList:H,solidFillMulti:I("","SoFi"),gradientFillMulti:I("","GrFl"),dropShadowMulti:I("","DrSh"),innerShadowMulti:I("","IrSh"),frameFXMulti:I("","FrFX"),FrIn:H,FSts:H,LaSt:H,sheetTimelineOptions:H,trackList:I("","animationTrack"),globalTrackList:I("","animationTrack"),keyList:H,audioClipGroupList:H,audioClipList:H,countObjectList:I("","countObject"),countGroupList:I("","countGroup"),slices:I("","slice"),"Pts ":I("","Pthp"),SbpL:I("","SbpL"),pathComponents:I("","PaCm"),filterFXList:I("","filterFX"),puppetShapeList:I("","puppetShape"),channelDenoise:I("","channelDenoiseParams"),ShrP:I("","Pnt "),layerSettings:H,list:H},wa={TEXT:["Txt ","printerName","Nm  ","Idnt","blackAndWhitePresetFileName","LUT3DFileName","presetFileName","curvesPresetFileName","mixerPresetFileName","placed","description","reason","artboardPresetName","json","clipID","relPath","fullPath","mediaDescriptor","Msge","altTag","url","cellText","preset","KnNm","FPth","comment"],tdta:["EngineData","LUT3DFileData","indexArray","originalVertexArray","deformedVertexArray","LqMe"],long:["TextIndex","RndS","Mdpn","Smth","Lctn","strokeStyleVersion","LaID","Vrsn","Cnt ","Brgh","Cntr","means","vibrance","Strt","bwPresetKind","presetKind","comp","compID","originalCompID","curvesPresetKind","mixerPresetKind","uOrder","vOrder","PgNm","totalPages","Crop","numerator","denominator","frameCount","Annt","keyOriginType","unitValueQuadVersion","keyOriginIndex","major","minor","fix","docDefaultNewArtboardBackgroundType","artboardBackgroundType","numModifyingFX","deformNumRows","deformNumCols","FrID","FrDl","FsID","LCnt","AFrm","AFSt","numBefore","numAfter","Spcn","minOpacity","maxOpacity","BlnM","sheetID","gblA","globalAltitude","descVersion","frameReaderType","LyrI","zoomOrigin","fontSize","Rds ","sliceID","topOutset","leftOutset","bottomOutset","rightOutset","filterID","meshQuality","meshExpansion","meshRigidity","VrsM","VrsN","NmbG","WLMn","WLMx","AmMn","AmMx","SclH","SclV","Lvl ","TlNm","TlOf","FlRs","Thsh","ShrS","ShrE","FlRs","Vrnc","Strg","ExtS","ExtD","HrzS","VrtS","NmbR","EdgF","Ang1","Ang2","Ang3","Ang4","lastAppliedComp","capturedInfo"],enum:["textGridding","Ornt","warpStyle","warpRotate","Inte","Bltn","ClrS","BlrQ","bvlT","bvlS","bvlD","Md  ","glwS","GrdF","GlwT","RplS","BlrM","SmBM","strokeStyleLineCapType","strokeStyleLineJoinType","strokeStyleLineAlignment","strokeStyleBlendMode","PntT","Styl","lookupType","LUTFormat","dataOrder","tableOrder","enableCompCore","enableCompCoreGPU","compCoreSupport","compCoreGPUSupport","Engn","enableCompCoreThreads","gs99","FrDs","trackID","animInterpStyle","horzAlign","vertAlign","bgColorType","shapeOperation","UndA","Wvtp","Drct","WndM","Edg ","FlCl","IntE","IntC","Cnvr","Fl  ","Dstr","MztT","Lns ","ExtT","DspM","ExtR","ZZTy","SphM","SmBQ"],bool:["PstS","printSixteenBit","masterFXSwitch","enab","uglg","antialiasGloss","useShape","useTexture","uglg","antialiasGloss","useShape","Vsbl","useTexture","Algn","Rvrs","Dthr","Invr","VctC","ShTr","layerConceals","strokeEnabled","fillEnabled","strokeStyleScaleLock","strokeStyleStrokeAdjust","hardProof","MpBl","paperWhite","useLegacy","Auto","Lab ","useTint","keyShapeInvalidated","autoExpandEnabled","autoNestEnabled","autoPositionEnabled","shrinkwrapOnSaveEnabled","present","showInDialog","overprint","sheetDisclosed","lightsDisclosed","meshesDisclosed","materialsDisclosed","hasMotion","muted","Effc","selected","autoScope","fillCanvas","cellTextIsHTML","Smoo","Clsp","validAtPosition","rigidType","hasoptions","filterMaskEnable","filterMaskLinked","filterMaskExtendWithWhite","removeJPEGArtifact","Mnch","ExtF","ExtM","moreAccurate","GpuY","LIWy"],doub:["warpValue","warpPerspective","warpPerspectiveOther","Intr","Wdth","Hght","strokeStyleMiterLimit","strokeStyleResolution","layerTime","keyOriginResolution","xx","xy","yx","yy","tx","ty","FrGA","frameRate","audioLevel","rotation","X   ","Y   ","redFloat","greenFloat","blueFloat","imageResolution","PuX0","PuX1","PuX2","PuX3","PuY0","PuY1","PuY2","PuY3"],UntF:["sdwO","hglO","lagl","Lald","srgR","blur","Sftn","Opct","Dstn","Angl","Ckmt","Nose","Inpr","ShdN","strokeStyleLineWidth","strokeStyleLineDashOffset","strokeStyleOpacity","H   ","Top ","Left","Btom","Rght","Rslt","topRight","topLeft","bottomLeft","bottomRight","ClNs","Shrp"],VlLs:["Crv ","Clrs","Mnm ","Mxm ","Trns","pathList","strokeStyleLineDashSet","FrLs","slices","LaSt","Trnf","nonAffineTransform","keyDescriptorList","guideIndeces","gradientFillMulti","solidFillMulti","frameFXMulti","innerShadowMulti","dropShadowMulti","FrIn","FSts","FsFr","sheetTimelineOptions","audioClipList","trackList","globalTrackList","keyList","audioClipList","warpValues","selectedPin","Pts ","SbpL","pathComponents","pinOffsets","posFinalPins","pinVertexIndices","PinP","PnRt","PnOv","PnDp","filterFXList","puppetShapeList","ShrP","channelDenoise","Mtrx","layerSettings","list","compList"],ObAr:["meshPoints","quiltSliceX","quiltSliceY"],"obj ":["null","Chnl"],"Pth ":["DspF"]},Cu=["Rd  ","Grn ","Bl  ","Yllw","Ylw ","Cyn ","Mgnt","Blck","Gry ","Lmnc","A   ","B   "],pl={"Mnm ":"long","Mxm ":"long",FrLs:"long",strokeStyleLineDashSet:"UntF",Trnf:"doub",nonAffineTransform:"doub",keyDescriptorList:"Objc",gradientFillMulti:"Objc",solidFillMulti:"Objc",frameFXMulti:"Objc",innerShadowMulti:"Objc",dropShadowMulti:"Objc",LaSt:"Objc",FrIn:"Objc",FSts:"Objc",FsFr:"long",blendOptions:"Objc",sheetTimelineOptions:"Objc",keyList:"Objc",warpValues:"doub",selectedPin:"long","Pts ":"Objc",SbpL:"Objc",pathComponents:"Objc",pinOffsets:"doub",posFinalPins:"doub",pinVertexIndices:"long",PinP:"doub",PnRt:"long",PnOv:"bool",PnDp:"doub",filterFXList:"Objc",puppetShapeList:"Objc",ShrP:"Objc",channelDenoise:"Objc",Mtrx:"long",compList:"long"},ii={};for(var Li=0,Ia=Object.keys(wa);Li<Ia.length;Li++)for(var Ca=Ia[Li],Ri=0,Ea=wa[Ca];Ri<Ea.length;Ri++){var Xt=Ea[Ri];ii[Xt]=Ca}for(var Pi=0,Da=Object.keys(dl);Pi<Da.length;Pi++){var Xt=Da[Pi];ii[Xt]||(ii[Xt]="Objc")}for(var Mi=0,Aa=Object.keys(hl);Mi<Aa.length;Mi++){var Xt=Aa[Mi];pl[Xt]="Objc"}function Eu(e,n,t,i){return e==="null"&&t==="slices"?"TEXT":e==="groupID"?t==="slices"?"long":"TEXT":e==="Sz  "?"Wdth"in n?"Objc":"units"in n?"UntF":"doub":e==="Type"?typeof n=="string"?"enum":"long":e==="AntA"?typeof n=="string"?"enum":"bool":(e==="Hrzn"||e==="Vrtc")&&i.Type==="keyType.Pstn"?"long":e==="Hrzn"||e==="Vrtc"||e==="Top "||e==="Left"||e==="Btom"||e==="Rght"?t==="slices"?"long":typeof n=="number"?"doub":"UntF":e==="Vrsn"?typeof n=="number"?"long":"Objc":e==="Rd  "||e==="Grn "||e==="Bl  "?t==="artd"?"long":"doub":e==="Trnf"?Array.isArray(n)?"VlLs":"Objc":ii[e]}function et(e){var n=P(e);return Sr(e,n||4)}function tt(e,n){if(n.length===4&&n!=="warp"&&n!=="time"&&n!=="hold"&&n!=="list")G(e,0),U(e,n);else{G(e,n.length);for(var t=0;t<n.length;t++)O(e,n.charCodeAt(t))}}function vl(e,n){for(var t=yt(e),i=n?{_name:t.name,_classID:t.classID}:{},r=w(e),a=0;a<r;a++){var o=et(e),l=te(e),f=ml(e,l,n);i[o]=f}return i}function gl(e,n,t,i,r){Ct(e,n),tt(e,t);var a=Object.keys(i),o=a.length;"_name"in i&&o--,"_classID"in i&&o--,E(e,o);for(var l=0,f=a;l<f.length;l++){var s=f[l];if(!(s==="_name"||s==="_classID")){var c=Eu(s,i[s],r,i),p=dl[s];s==="bounds"&&r==="text"?p=I("","bounds"):s==="origin"?c=r==="slices"?"enum":"Objc":(s==="Cyn "||s==="Mgnt"||s==="Ylw "||s==="Blck")&&i._classID==="CMYC"?c="doub":/^PN[a-z][a-z]$/.test(s)?c="TEXT":/^PT[a-z][a-z]$/.test(s)?c="long":/^PF[a-z][a-z]$/.test(s)?c="doub":s==="ClSz"||s==="Rds "||s==="Amnt"?c=typeof i[s]=="number"?"long":"UntF":(s==="sdwM"||s==="hglM")&&typeof i[s]=="string"||s==="blur"&&typeof i[s]=="string"?c="enum":s==="Angl"&&typeof i[s]=="number"?c="doub":s==="bounds"&&r==="slices"?(c="Objc",p=I("","Rct1")):s==="Scl "?typeof i[s]=="object"&&"Hrzn"in i[s]?(c="Objc",p=H):typeof i[s]=="number"?c="long":c="UntF":s==="audioClipGroupList"&&a.length===1?c="VlLs":(s==="Strt"||s==="Brgh")&&"H   "in i?c="doub":s==="Wdth"&&typeof i[s]=="object"?c="UntF":s==="Ofst"&&typeof i[s]=="number"?c="long":s==="Strt"&&typeof i[s]=="object"?(c="Objc",p=H):Cu.indexOf(s)!==-1?c=t==="RGBC"&&r!=="artd"?"doub":"long":s==="profile"?c=t==="printOutput"?"TEXT":"tdta":s==="strokeStyleContent"?i[s]["Clr "]?p=I("","solidColorLayer"):i[s].Grad?p=I("","gradientLayer"):i[s].Ptrn&&(p=I("","patternLayer")):s==="bounds"&&r==="quiltWarp"&&(p=I("","classFloatRect")),p&&p.classID==="RGBC"&&"H   "in i[s]&&(p={classID:"HSBC",name:""}),tt(e,s),U(e,c||"long"),bl(e,c||"long",i[s],s,p,r)}}}function ml(e,n,t){switch(n){case"obj ":return Au(e);case"Objc":case"GlbO":return vl(e,t);case"VlLs":{for(var i=P(e),r=[],a=0;a<i;a++){var o=te(e);r.push(ml(e,o,t))}return r}case"doub":return Re(e);case"UntF":{var l=te(e),f=Re(e);if(!fn[l])throw new Error("Invalid units: ".concat(l));return{units:fn[l],value:f}}case"UnFl":{var l=te(e),f=Be(e);if(!fn[l])throw new Error("Invalid units: ".concat(l));return{units:fn[l],value:f}}case"TEXT":return le(e);case"enum":{var s=et(e),f=et(e);return"".concat(s,".").concat(f)}case"long":return P(e);case"comp":{var c=w(e),p=w(e);return{low:c,high:p}}case"bool":return!!A(e);case"type":case"GlbC":return yt(e);case"alis":{var d=P(e);return Sr(e,d)}case"tdta":{var h=P(e);return pe(e,h)}case"ObAr":{P(e),le(e),et(e);for(var v=P(e),r=[],a=0;a<v;a++){var g=et(e);te(e),te(e);for(var y=P(e),m=[],b=0;b<y;b++)m.push(Re(e));r.push({type:g,values:m})}return r}case"Pth ":{P(e);var _=te(e);ro(e);var S=ro(e),C=zu(e,S);return{sig:_,path:C}}default:throw new Error("Invalid TySh descriptor OSType: ".concat(n," at ").concat(e.offset.toString(16)))}}var Du={meshPoints:"rationalPoint",quiltSliceX:"UntF",quiltSliceY:"UntF"};function bl(e,n,t,i,r,a){switch(n){case"obj ":Ou(e,i,t);break;case"Objc":case"GlbO":{if(typeof t!="object")throw new Error("Invalid struct value: ".concat(JSON.stringify(t),", key: ").concat(i));if(!r)throw new Error("Missing ext type for: '".concat(i,"' (").concat(JSON.stringify(t),")"));var o=t._name||r.name,l=t._classID||r.classID;gl(e,o,l,t,a);break}case"VlLs":if(!Array.isArray(t))throw new Error("Invalid list value: ".concat(JSON.stringify(t),", key: ").concat(i));G(e,t.length);for(var f=0;f<t.length;f++){var s=pl[i];U(e,s||"long"),bl(e,s||"long",t[f],"".concat(i,"[]"),hl[i],a)}break;case"doub":if(typeof t!="number")throw new Error("Invalid number value: ".concat(JSON.stringify(t),", key: ").concat(i));it(e,t);break;case"UntF":if(!Bn[t.units])throw new Error("Invalid units: ".concat(t.units," in ").concat(i));U(e,Bn[t.units]),it(e,t.value);break;case"UnFl":if(!Bn[t.units])throw new Error("Invalid units: ".concat(t.units," in ").concat(i));U(e,Bn[t.units]),Ne(e,t.value);break;case"TEXT":Ct(e,t);break;case"enum":{if(typeof t!="string")throw new Error("Invalid enum value: ".concat(JSON.stringify(t),", key: ").concat(i));var c=t.split("."),p=c[0],d=c[1];tt(e,p),tt(e,d);break}case"long":if(typeof t!="number")throw new Error("Invalid integer value: ".concat(JSON.stringify(t),", key: ").concat(i));G(e,t);break;case"bool":if(typeof t!="boolean")throw new Error("Invalid boolean value: ".concat(JSON.stringify(t),", key: ").concat(i));O(e,t?1:0);break;case"tdta":G(e,t.byteLength),vt(e,t);break;case"ObAr":{G(e,16),Ct(e,"");var h=Du[i];if(!h)throw new Error("Not implemented ObArType for: ".concat(i));tt(e,h),G(e,t.length);for(var f=0;f<t.length;f++){tt(e,t[f].type),U(e,"UnFl"),U(e,"#Pxl"),G(e,t[f].values.length);for(var v=0;v<t[f].values.length;v++)it(e,t[f].values[v])}break}case"Pth ":{var g=12+t.path.length*2;G(e,g),U(e,t.sig),xo(e,g),xo(e,t.path.length),gd(e,t.path);break}default:throw new Error("Not implemented descriptor OSType: ".concat(n))}}function Au(e){for(var n=P(e),t=[],i=0;i<n;i++){var r=te(e);switch(r){case"prop":{yt(e);var a=et(e);t.push(a);break}case"Clss":t.push(yt(e));break;case"Enmr":{yt(e);var o=et(e),l=et(e);t.push("".concat(o,".").concat(l));break}case"rele":{yt(e),t.push(w(e));break}case"Idnt":t.push(P(e));break;case"indx":t.push(P(e));break;case"name":{yt(e),t.push(le(e));break}default:throw new Error("Invalid descriptor reference type: ".concat(r))}}return t}function Ou(e,n,t){G(e,t.length);for(var i=0;i<t.length;i++){var r=t[i],a="unknown";switch(typeof r=="string"&&(/^[a-z]+\.[a-z]+$/i.test(r)?a="Enmr":a="name"),U(e,a),a){case"Enmr":{var o=r.split("."),l=o[0],f=o[1];Oa(e,"\0",l),tt(e,l),tt(e,f);break}case"name":{Oa(e,"\0","Lyr "),Ce(e,r+"\0");break}default:throw new Error("Invalid descriptor reference type: ".concat(a))}}return t}function yt(e){var n=le(e),t=et(e);return{name:n,classID:t}}function Oa(e,n,t){Ce(e,n),tt(e,t)}function j(e,n){n===void 0&&(n=!1);var t=w(e);if(t!==16)throw new Error("Invalid descriptor version: ".concat(t));var i=vl(e,n);return i}function Z(e,n,t,i,r){r===void 0&&(r=""),E(e,16),gl(e,n,t,i,r)}function hn(e){return{x:e.Hrzn,y:e.Vrtc}}function pn(e){return{Hrzn:e.x,Vrtc:e.y}}function Ta(e){return{top:K(e["Top "]),left:K(e.Left),right:K(e.Rght),bottom:K(e.Btom)}}function La(e){var n;return n={Left:ne(e.left,"bounds.left")},n["Top "]=ne(e.top,"bounds.top"),n.Rght=ne(e.right,"bounds.right"),n.Btom=ne(e.bottom,"bounds.bottom"),n}function Ra(e){var n={enabled:!!e.enab,position:pi.decode(e.Styl),fillType:Pl.decode(e.PntT),blendMode:Le.decode(e["Md  "]),opacity:ee(e.Opct),size:K(e["Sz  "])};return e.present!==void 0&&(n.present=e.present),e.showInDialog!==void 0&&(n.showInDialog=e.showInDialog),e.overprint!==void 0&&(n.overprint=e.overprint),e["Clr "]&&(n.color=Ue(e["Clr "])),e.Grad&&(n.gradient=kl(e)),e.Ptrn&&(n.pattern=Fl(e)),n}function Pa(e){var n={};return n.enab=!!e.enabled,e.present!==void 0&&(n.present=!!e.present),e.showInDialog!==void 0&&(n.showInDialog=!!e.showInDialog),n.Styl=pi.encode(e.position),n.PntT=Pl.encode(e.fillType),n["Md  "]=Le.encode(e.blendMode),n.Opct=ce(e.opacity),n["Sz  "]=ne(e.size,"size"),e.color&&(n["Clr "]=Ge(e.color)),e.gradient&&(n=Qe(Qe({},n),wl(e.gradient))),e.pattern&&(n=Qe(Qe({},n),Il(e.pattern))),e.overprint!==void 0&&(n.overprint=!!e.overprint),n}function ui(e,n,t){for(var i,r,a,o,l,f,s,c,p,d,h,v,g,y=t?{"Scl ":Ae((i=e.scale)!==null&&i!==void 0?i:1),masterFXSwitch:!e.disabled}:{masterFXSwitch:!e.disabled,"Scl ":Ae((r=e.scale)!==null&&r!==void 0?r:1)},m=["dropShadow","innerShadow","solidFill","gradientOverlay","stroke"],b=0,_=m;b<_.length;b++){var S=_[b];if(e[S]&&!Array.isArray(e[S]))throw new Error("".concat(S," should be an array"))}if(!((a=e.dropShadow)===null||a===void 0)&&a[0]&&!t&&(y.DrSh=xe(e.dropShadow[0],"dropShadow",n)),!((o=e.dropShadow)===null||o===void 0)&&o[0]&&t&&(y.dropShadowMulti=e.dropShadow.map(function(L){return xe(L,"dropShadow",n)})),!((l=e.innerShadow)===null||l===void 0)&&l[0]&&!t&&(y.IrSh=xe(e.innerShadow[0],"innerShadow",n)),!((f=e.innerShadow)===null||f===void 0)&&f[0]&&t&&(y.innerShadowMulti=e.innerShadow.map(function(L){return xe(L,"innerShadow",n)})),e.outerGlow&&(y.OrGl=xe(e.outerGlow,"outerGlow",n)),!((s=e.solidFill)===null||s===void 0)&&s[0]&&t&&(y.solidFillMulti=e.solidFill.map(function(L){return xe(L,"solidFill",n)})),!((c=e.gradientOverlay)===null||c===void 0)&&c[0]&&t&&(y.gradientFillMulti=e.gradientOverlay.map(function(L){return xe(L,"gradientOverlay",n)})),!((p=e.stroke)===null||p===void 0)&&p[0]&&t&&(y.frameFXMulti=e.stroke.map(function(L){return Pa(L)})),e.innerGlow&&(y.IrGl=xe(e.innerGlow,"innerGlow",n)),e.bevel&&(y.ebbl=xe(e.bevel,"bevel",n)),!((d=e.solidFill)===null||d===void 0)&&d[0]&&!t&&(y.SoFi=xe(e.solidFill[0],"solidFill",n)),e.patternOverlay&&(y.patternFill=xe(e.patternOverlay,"patternOverlay",n)),!((h=e.gradientOverlay)===null||h===void 0)&&h[0]&&!t&&(y.GrFl=xe(e.gradientOverlay[0],"gradientOverlay",n)),e.satin&&(y.ChFX=xe(e.satin,"satin",n)),!((v=e.stroke)===null||v===void 0)&&v[0]&&!t&&(y.FrFX=Pa((g=e.stroke)===null||g===void 0?void 0:g[0])),t){y.numModifyingFX=0;for(var C=0,B=Object.keys(e);C<B.length;C++){var S=B[C],k=e[S];if(Array.isArray(k))for(var N=0,z=k;N<z.length;N++){var R=z[N];R.enabled&&y.numModifyingFX++}else k.enabled&&y.numModifyingFX++}}return y}function di(e,n){var t={};return e.masterFXSwitch||(t.disabled=!0),e["Scl "]&&(t.scale=ee(e["Scl "])),e.DrSh&&(t.dropShadow=[Se(e.DrSh,n)]),e.dropShadowMulti&&(t.dropShadow=e.dropShadowMulti.map(function(i){return Se(i,n)})),e.IrSh&&(t.innerShadow=[Se(e.IrSh,n)]),e.innerShadowMulti&&(t.innerShadow=e.innerShadowMulti.map(function(i){return Se(i,n)})),e.OrGl&&(t.outerGlow=Se(e.OrGl,n)),e.IrGl&&(t.innerGlow=Se(e.IrGl,n)),e.ebbl&&(t.bevel=Se(e.ebbl,n)),e.SoFi&&(t.solidFill=[Se(e.SoFi,n)]),e.solidFillMulti&&(t.solidFill=e.solidFillMulti.map(function(i){return Se(i,n)})),e.patternFill&&(t.patternOverlay=Se(e.patternFill,n)),e.GrFl&&(t.gradientOverlay=[Se(e.GrFl,n)]),e.gradientFillMulti&&(t.gradientOverlay=e.gradientFillMulti.map(function(i){return Se(i,n)})),e.ChFX&&(t.satin=Se(e.ChFX,n)),e.FrFX&&(t.stroke=[Ra(e.FrFX)]),e.frameFXMulti&&(t.stroke=e.frameFXMulti.map(function(i){return Ra(i)})),t}function Ma(e,n){for(var t=[],i=0;i<e.length;i++){var r=e[i],a=r.time,o=a.denominator,l=a.numerator,f=r.selected,s=r.animKey,c={numerator:l,denominator:o},p=Tl.decode(r.animInterpStyle);switch(s.Type){case"keyType.Opct":t.push({interpolation:p,time:c,selected:f,type:"opacity",value:ee(s.Opct)});break;case"keyType.Pstn":t.push({interpolation:p,time:c,selected:f,type:"position",x:s.Hrzn,y:s.Vrtc});break;case"keyType.Trnf":t.push({interpolation:p,time:c,selected:f,type:"transform",scale:hn(s["Scl "]),skew:hn(s.Skew),rotation:s.rotation,translation:hn(s.translation)});break;case"keyType.sheetStyle":{var d={interpolation:p,time:c,selected:f,type:"style"};s.sheetStyle.Lefx&&(d.style=di(s.sheetStyle.Lefx,n)),t.push(d);break}case"keyType.globalLighting":{t.push({interpolation:p,time:c,selected:f,type:"globalLighting",globalAngle:s.gblA,globalAltitude:s.globalAltitude});break}default:throw new Error("Unsupported keyType value")}}return t}function za(e){for(var n=[],t=0;t<e.length;t++){var i=e[t],r=i.time,a=i.selected,o=a===void 0?!1:a,l=i.interpolation,f=Tl.encode(l),s=void 0;switch(i.type){case"opacity":s={Type:"keyType.Opct",Opct:ce(i.value)};break;case"position":s={Type:"keyType.Pstn",Hrzn:i.x,Vrtc:i.y};break;case"transform":s={Type:"keyType.Trnf","Scl ":pn(i.scale),Skew:pn(i.skew),rotation:i.rotation,translation:pn(i.translation)};break;case"style":s={Type:"keyType.sheetStyle",sheetStyle:{Vrsn:1,blendOptions:{}}},i.style&&(s.sheetStyle={Vrsn:1,Lefx:ui(i.style,!1,!1),blendOptions:{}});break;case"globalLighting":{s={Type:"keyType.globalLighting",gblA:i.globalAngle,globalAltitude:i.globalAltitude};break}default:throw new Error("Unsupported keyType value")}n.push({Vrsn:1,animInterpStyle:f,time:r,animKey:s,selected:o})}return n}function yl(e,n){for(var t=[],i=0;i<e.length;i++){var r=e[i],a={type:Ll.decode(r.trackID),enabled:r.enab,keys:Ma(r.keyList,n)};r.effectParams&&(a.effectParams={fillCanvas:r.effectParams.fillCanvas,zoomOrigin:r.effectParams.zoomOrigin,keys:Ma(r.effectParams.keyList,n)}),t.push(a)}return t}function _l(e){for(var n=[],t=0;t<e.length;t++){var i=e[t];n.push(Qe(Qe({trackID:Ll.encode(i.type),Vrsn:1,enab:!!i.enabled,Effc:!!i.effectParams},i.effectParams?{effectParams:{keyList:za(i.keys),fillCanvas:i.effectParams.fillCanvas,zoomOrigin:i.effectParams.zoomOrigin}}:{}),{keyList:za(i.keys)}))}return n}function Se(e,n){for(var t={},i=0,r=Object.keys(e);i<r.length;i++){var a=r[i],o=e[a];switch(a){case"enab":t.enabled=!!o;break;case"uglg":t.useGlobalLight=!!o;break;case"AntA":t.antialiased=!!o;break;case"Algn":t.align=!!o;break;case"Dthr":t.dither=!!o;break;case"Invr":t.invert=!!o;break;case"Rvrs":t.reverse=!!o;break;case"Clr ":t.color=Ue(o);break;case"hglC":t.highlightColor=Ue(o);break;case"sdwC":t.shadowColor=Ue(o);break;case"Styl":t.position=pi.decode(o);break;case"Md  ":t.blendMode=Le.decode(o);break;case"hglM":t.highlightBlendMode=Le.decode(o);break;case"sdwM":t.shadowBlendMode=Le.decode(o);break;case"bvlS":t.style=Cl.decode(o);break;case"bvlD":t.direction=Dl.decode(o);break;case"bvlT":t.technique=El.decode(o);break;case"GlwT":t.technique=Al.decode(o);break;case"glwS":t.source=Ol.decode(o);break;case"Type":t.type=hi.decode(o);break;case"gs99":t.interpolationMethod=Rl.decode(o);break;case"Opct":t.opacity=ee(o);break;case"hglO":t.highlightOpacity=ee(o);break;case"sdwO":t.shadowOpacity=ee(o);break;case"lagl":t.angle=qn(o);break;case"Angl":t.angle=qn(o);break;case"Lald":t.altitude=qn(o);break;case"Sftn":t.soften=K(o);break;case"srgR":t.strength=ee(o);break;case"blur":t.size=K(o);break;case"Nose":t.noise=ee(o);break;case"Inpr":t.range=ee(o);break;case"Ckmt":t.choke=K(o);break;case"ShdN":t.jitter=ee(o);break;case"Dstn":t.distance=K(o);break;case"Scl ":t.scale=ee(o);break;case"Ptrn":t.pattern={name:o["Nm  "],id:o.Idnt};break;case"phase":t.phase={x:o.Hrzn,y:o.Vrtc};break;case"Ofst":t.offset={x:ee(o.Hrzn),y:ee(o.Vrtc)};break;case"MpgS":case"TrnS":t.contour={name:o["Nm  "],curve:o["Crv "].map(function(l){return{x:l.Hrzn,y:l.Vrtc}})};break;case"Grad":t.gradient=Sl(o);break;case"useTexture":case"useShape":case"layerConceals":case"present":case"showInDialog":case"antialiasGloss":t[a]=o;break;case"_name":case"_classID":break;default:n&&console.log("Invalid effect key: '".concat(a,"', value:"),o)}}return t}function xe(e,n,t){for(var i={},r=0,a=Object.keys(e);r<a.length;r++){var o=a[r],l=o,f=e[l];switch(l){case"enabled":i.enab=!!f;break;case"useGlobalLight":i.uglg=!!f;break;case"antialiased":i.AntA=!!f;break;case"align":i.Algn=!!f;break;case"dither":i.Dthr=!!f;break;case"invert":i.Invr=!!f;break;case"reverse":i.Rvrs=!!f;break;case"color":i["Clr "]=Ge(f);break;case"highlightColor":i.hglC=Ge(f);break;case"shadowColor":i.sdwC=Ge(f);break;case"position":i.Styl=pi.encode(f);break;case"blendMode":i["Md  "]=Le.encode(f);break;case"highlightBlendMode":i.hglM=Le.encode(f);break;case"shadowBlendMode":i.sdwM=Le.encode(f);break;case"style":i.bvlS=Cl.encode(f);break;case"direction":i.bvlD=Dl.encode(f);break;case"technique":n==="bevel"?i.bvlT=El.encode(f):i.GlwT=Al.encode(f);break;case"source":i.glwS=Ol.encode(f);break;case"type":i.Type=hi.encode(f);break;case"interpolationMethod":i.gs99=Rl.encode(f);break;case"opacity":i.Opct=ce(f);break;case"highlightOpacity":i.hglO=ce(f);break;case"shadowOpacity":i.sdwO=ce(f);break;case"angle":n==="gradientOverlay"||n==="patternFill"?i.Angl=vn(f):i.lagl=vn(f);break;case"altitude":i.Lald=vn(f);break;case"soften":i.Sftn=ne(f,l);break;case"strength":i.srgR=ce(f);break;case"size":i.blur=ne(f,l);break;case"noise":i.Nose=ce(f);break;case"range":i.Inpr=ce(f);break;case"choke":i.Ckmt=ne(f,l);break;case"jitter":i.ShdN=ce(f);break;case"distance":i.Dstn=ne(f,l);break;case"scale":i["Scl "]=ce(f);break;case"pattern":i.Ptrn={"Nm  ":f.name,Idnt:f.id};break;case"phase":i.phase={Hrzn:f.x,Vrtc:f.y};break;case"offset":i.Ofst={Hrzn:ce(f.x),Vrtc:ce(f.y)};break;case"contour":{i[n==="satin"?"MpgS":"TrnS"]={"Nm  ":f.name,"Crv ":f.curve.map(function(s){return{Hrzn:s.x,Vrtc:s.y}})};break}case"gradient":i.Grad=xl(f);break;case"useTexture":case"useShape":case"layerConceals":case"present":case"showInDialog":case"antialiasGloss":i[l]=f;break;default:t&&console.log("Invalid effect key: '".concat(l,"', value:"),f)}}return i}function Sl(e){if(e.GrdF==="GrdF.CstS"){var n=e.Intr||4096;return{type:"solid",name:e["Nm  "],smoothness:e.Intr/4096,colorStops:e.Clrs.map(function(t){return{color:Ue(t["Clr "]),location:t.Lctn/n,midpoint:t.Mdpn/100}}),opacityStops:e.Trns.map(function(t){return{opacity:ee(t.Opct),location:t.Lctn/n,midpoint:t.Mdpn/100}})}}else return{type:"noise",name:e["Nm  "],roughness:e.Smth/4096,colorModel:ri.decode(e.ClrS),randomSeed:e.RndS,restrictColors:!!e.VctC,addTransparency:!!e.ShTr,min:e["Mnm "].map(function(t){return t/100}),max:e["Mxm "].map(function(t){return t/100})}}function xl(e){var n,t;if(e.type==="solid"){var i=Math.round(((n=e.smoothness)!==null&&n!==void 0?n:1)*4096);return{"Nm  ":e.name||"",GrdF:"GrdF.CstS",Intr:i,Clrs:e.colorStops.map(function(r){var a;return{"Clr ":Ge(r.color),Type:"Clry.UsrS",Lctn:Math.round(r.location*i),Mdpn:Math.round(((a=r.midpoint)!==null&&a!==void 0?a:.5)*100)}}),Trns:e.opacityStops.map(function(r){var a;return{Opct:ce(r.opacity),Lctn:Math.round(r.location*i),Mdpn:Math.round(((a=r.midpoint)!==null&&a!==void 0?a:.5)*100)}})}}else return{GrdF:"GrdF.ClNs","Nm  ":e.name||"",ShTr:!!e.addTransparency,VctC:!!e.restrictColors,ClrS:ri.encode(e.colorModel),RndS:e.randomSeed||0,Smth:Math.round(((t=e.roughness)!==null&&t!==void 0?t:1)*4096),"Mnm ":(e.min||[0,0,0,0]).map(function(r){return r*100}),"Mxm ":(e.max||[1,1,1,1]).map(function(r){return r*100})}}function kl(e){var n=Sl(e.Grad);return n.style=hi.decode(e.Type),e.Dthr!==void 0&&(n.dither=e.Dthr),e.Rvrs!==void 0&&(n.reverse=e.Rvrs),e.Angl!==void 0&&(n.angle=qn(e.Angl)),e["Scl "]!==void 0&&(n.scale=ee(e["Scl "])),e.Algn!==void 0&&(n.align=e.Algn),e.Ofst!==void 0&&(n.offset={x:ee(e.Ofst.Hrzn),y:ee(e.Ofst.Vrtc)}),n}function Fl(e){var n={name:e.Ptrn["Nm  "],id:e.Ptrn.Idnt};return e.Lnkd!==void 0&&(n.linked=e.Lnkd),e.phase!==void 0&&(n.phase={x:e.phase.Hrzn,y:e.phase.Vrtc}),n}function An(e){if("Grad"in e)return kl(e);if("Ptrn"in e)return Qe({type:"pattern"},Fl(e));if("Clr "in e)return{type:"color",color:Ue(e["Clr "])};throw new Error("Invalid vector content")}function wl(e){var n={};return e.dither!==void 0&&(n.Dthr=e.dither),e.reverse!==void 0&&(n.Rvrs=e.reverse),e.angle!==void 0&&(n.Angl=vn(e.angle)),n.Type=hi.encode(e.style),e.align!==void 0&&(n.Algn=e.align),e.scale!==void 0&&(n["Scl "]=ce(e.scale)),e.offset&&(n.Ofst={Hrzn:ce(e.offset.x),Vrtc:ce(e.offset.y)}),n.Grad=xl(e),n}function Il(e){var n={Ptrn:{"Nm  ":e.name||"",Idnt:e.id||""}};return e.linked!==void 0&&(n.Lnkd=!!e.linked),e.phase!==void 0&&(n.phase={Hrzn:e.phase.x,Vrtc:e.phase.y}),n}function On(e){return e.type==="color"?{key:"SoCo",descriptor:{"Clr ":Ge(e.color)}}:e.type==="pattern"?{key:"PtFl",descriptor:Il(e)}:{key:"GdFl",descriptor:wl(e)}}function Ue(e){if("H   "in e)return{h:Tu(e["H   "]),s:e.Strt,b:e.Brgh};if("Rd  "in e)return{r:e["Rd  "],g:e["Grn "],b:e["Bl  "]};if("Cyn "in e)return{c:e["Cyn "],m:e.Mgnt,y:e["Ylw "],k:e.Blck};if("Gry "in e)return{k:e["Gry "]};if("Lmnc"in e)return{l:e.Lmnc,a:e["A   "],b:e["B   "]};if("redFloat"in e)return{fr:e.redFloat,fg:e.greenFloat,fb:e.blueFloat};throw new Error("Unsupported color descriptor")}function Ge(e){if(e){if("r"in e)return{_name:"",_classID:"RGBC","Rd  ":e.r||0,"Grn ":e.g||0,"Bl  ":e.b||0};if("fr"in e)return{_name:"",_classID:"RGBC",redFloat:e.fr,greenFloat:e.fg,blueFloat:e.fb};if("h"in e)return{_name:"",_classID:"HSBC","H   ":vn(e.h*360),Strt:e.s||0,Brgh:e.b||0};if("c"in e)return{_name:"",_classID:"CMYC","Cyn ":e.c||0,Mgnt:e.m||0,"Ylw ":e.y||0,Blck:e.k||0};if("l"in e)return{_name:"",_classID:"LABC",Lmnc:e.l||0,"A   ":e.a||0,"B   ":e.b||0};if("k"in e)return{_name:"",_classID:"GRYC","Gry ":e.k};throw new Error("Invalid color value")}else return{_name:"",_classID:"RGBC","Rd  ":0,"Grn ":0,"Bl  ":0}}function qn(e){if(e===void 0)return 0;if(e.units!=="Angle")throw new Error("Invalid units: ".concat(e.units));return e.value}function ee(e){if(e===void 0)return 1;if(e.units!=="Percent")throw new Error("Invalid units: ".concat(e.units));return e.value/100}function Tu(e){if(e===void 0)return 1;if(e.units==="Percent")return e.value/100;if(e.units==="Angle")return e.value/360;throw new Error("Invalid units: ".concat(e.units))}function K(e){var n=e.units,t=e.value;if(n!=="Pixels"&&n!=="Millimeters"&&n!=="Points"&&n!=="None"&&n!=="Picas"&&n!=="Inches"&&n!=="Centimeters"&&n!=="Density")throw new Error("Invalid units: ".concat(JSON.stringify({units:n,value:t})));return{value:t,units:n}}function ct(e,n){return n===void 0&&(n="Pixels"),typeof e=="number"?{value:e,units:n}:K(e)}function vn(e){return{units:"Angle",value:e||0}}function ce(e){return{units:"Percent",value:Math.round((e||0)*100)}}function Ae(e){return{units:"Percent",value:(e||0)*100}}function ne(e,n){if(e==null)return{units:"Pixels",value:0};if(typeof e!="object")throw new Error("Invalid value: ".concat(JSON.stringify(e)," (key: ").concat(n,") (should have value and units)"));var t=e.units,i=e.value;if(typeof i!="number")throw new Error("Invalid value in ".concat(JSON.stringify(e)," (key: ").concat(n,")"));if(t!=="Pixels"&&t!=="Millimeters"&&t!=="Points"&&t!=="None"&&t!=="Picas"&&t!=="Inches"&&t!=="Centimeters"&&t!=="Density")throw new Error("Invalid units in ".concat(JSON.stringify(e)," (key: ").concat(n,")"));return{units:t,value:i}}function me(e){var n=e.numerator,t=e.denominator;return{numerator:n,denominator:t}}var Ba=M("textGridding","none",{none:"None",round:"Rnd "}),gn=M("Ornt","horizontal",{horizontal:"Hrzn",vertical:"Vrtc"}),Na=M("Annt","sharp",{none:"Anno",sharp:"antiAliasSharp",crisp:"AnCr",strong:"AnSt",smooth:"AnSm",platform:"antiAliasPlatformGray",platformLCD:"antiAliasPlatformLCD"}),br=M("warpStyle","none",{none:"warpNone",arc:"warpArc",arcLower:"warpArcLower",arcUpper:"warpArcUpper",arch:"warpArch",bulge:"warpBulge",shellLower:"warpShellLower",shellUpper:"warpShellUpper",flag:"warpFlag",wave:"warpWave",fish:"warpFish",rise:"warpRise",fisheye:"warpFisheye",inflate:"warpInflate",squeeze:"warpSqueeze",twist:"warpTwist",cylinder:"warpCylinder",custom:"warpCustom"}),Le=M("BlnM","normal",{normal:"Nrml",dissolve:"Dslv",darken:"Drkn",multiply:"Mltp","color burn":"CBrn","linear burn":"linearBurn","darker color":"darkerColor",lighten:"Lghn",screen:"Scrn","color dodge":"CDdg","linear dodge":"linearDodge","lighter color":"lighterColor",overlay:"Ovrl","soft light":"SftL","hard light":"HrdL","vivid light":"vividLight","linear light":"linearLight","pin light":"pinLight","hard mix":"hardMix",difference:"Dfrn",exclusion:"Xclu",subtract:"blendSubtraction",divide:"blendDivide",hue:"H   ",saturation:"Strt",color:"Clr ",luminosity:"Lmns","linear height":"linearHeight",height:"Hght",subtraction:"Sbtr"}),Cl=M("BESl","inner bevel",{"inner bevel":"InrB","outer bevel":"OtrB",emboss:"Embs","pillow emboss":"PlEb","stroke emboss":"strokeEmboss"}),El=M("bvlT","smooth",{smooth:"SfBL","chisel hard":"PrBL","chisel soft":"Slmt"}),Dl=M("BESs","up",{up:"In  ",down:"Out "}),Al=M("BETE","softer",{softer:"SfBL",precise:"PrBL"}),Ol=M("IGSr","edge",{edge:"SrcE",center:"SrcC"}),hi=M("GrdT","linear",{linear:"Lnr ",radial:"Rdl ",angle:"Angl",reflected:"Rflc",diamond:"Dmnd"}),Tl=M("animInterpStyle","linear",{linear:"Lnr ",hold:"hold"}),Ll=M("stdTrackID","opacity",{opacity:"opacityTrack",style:"styleTrack",sheetTransform:"sheetTransformTrack",sheetPosition:"sheetPositionTrack",globalLighting:"globalLightingTrack"}),Rl=M("gradientInterpolationMethodType","perceptual",{perceptual:"Perc",linear:"Lnr",classic:"Gcls"}),ri=M("ClrS","rgb",{rgb:"RGBC",hsb:"HSBl",lab:"LbCl",hsl:"HSLC"}),pi=M("FStl","outside",{outside:"OutF",center:"CtrF",inside:"InsF"}),Pl=M("FrFl","color",{color:"SClr",gradient:"GrFl",pattern:"Ptrn"}),Ua=M("ESliceType","image",{image:"Img ",noImage:"noImage"}),Ga=M("ESliceHorzAlign","default",{default:"default"}),Va=M("ESliceVertAlign","default",{default:"default"}),Ha=M("ESliceOrigin","userGenerated",{userGenerated:"userGenerated",autoGenerated:"autoGenerated",layer:"layer"}),ja=M("ESliceBGColorType","none",{none:"None",matte:"matte",color:"Clr "}),Za=M("strokeStyleLineCapType","butt",{butt:"strokeStyleButtCap",round:"strokeStyleRoundCap",square:"strokeStyleSquareCap"}),Wa=M("strokeStyleLineJoinType","miter",{miter:"strokeStyleMiterJoin",round:"strokeStyleRoundJoin",bevel:"strokeStyleBevelJoin"}),Xa=M("strokeStyleLineAlignment","inside",{inside:"strokeStyleAlignInside",center:"strokeStyleAlignCenter",outside:"strokeStyleAlignOutside"}),Ml=M("BlrM","ispinmage",{spin:"Spn ",zoom:"Zm  "}),zl=M("BlrQ","good",{draft:"Drft",good:"Gd  ",best:"Bst "}),Bl=M("SmBM","normal",{normal:"SBMN","edge only":"SBME","overlay edge":"SBMO"}),Nl=M("SmBQ","medium",{low:"SBQL",medium:"SBQM",high:"SBQH"}),Ul=M("DspM","stretch to fit",{"stretch to fit":"StrF",tile:"Tile"}),Ht=M("UndA","repeat edge pixels",{"wrap around":"WrpA","repeat edge pixels":"RptE"}),Gl=M("Cnvr","rectangular to polar",{"rectangular to polar":"RctP","polar to rectangular":"PlrR"}),Vl=M("RplS","medium",{small:"Sml ",medium:"Mdm ",large:"Lrg "}),Hl=M("SphM","normal",{normal:"Nrml","horizontal only":"HrzO","vertical only":"VrtO"}),jl=M("Wvtp","sine",{sine:"WvSn",triangle:"WvTr",square:"WvSq"}),Zl=M("ZZTy","pond ripples",{"around center":"ArnC","out from center":"OtFr","pond ripples":"PndR"}),Wl=M("Dstr","uniform",{uniform:"Unfr",gaussian:"Gsn "}),Xl=M("Chnl","composite",{red:"Rd  ",green:"Grn ",blue:"Bl  ",composite:"Cmps"}),$l=M("MztT","fine dots",{"fine dots":"FnDt","medium dots":"MdmD","grainy dots":"GrnD","coarse dots":"CrsD","short lines":"ShrL","medium lines":"MdmL","long lines":"LngL","short strokes":"ShSt","medium strokes":"MdmS","long strokes":"LngS"}),Yl=M("Lns ","50-300mm zoom",{"50-300mm zoom":"Zm  ","32mm prime":"Nkn ","105mm prime":"Nkn1","movie prime":"PnVs"}),Kl=M("blurType","gaussian blur",{"gaussian blur":"GsnB","lens blur":"lensBlur","motion blur":"MtnB"}),ql=M("DfsM","normal",{normal:"Nrml","darken only":"DrkO","lighten only":"LghO",anisotropic:"anisotropic"}),Jl=M("ExtT","blocks",{blocks:"Blks",pyramids:"Pyrm"}),Ql=M("ExtR","random",{random:"Rndm","level-based":"LvlB"}),es=M("FlCl","background color",{"background color":"FlBc","foreground color":"FlFr","inverse image":"FlIn","unaltered image":"FlSm"}),ts=M("CntE","upper",{lower:"Lwr ",upper:"Upr "}),ns=M("WndM","wind",{wind:"Wnd ",blast:"Blst",stagger:"Stgr"}),is=M("Drct","from the right",{left:"Left",right:"Rght"}),rs=M("IntE","odd lines",{"odd lines":"ElmO","even lines":"ElmE"}),as=M("IntC","interpolation",{duplication:"CrtD",interpolation:"CrtI"}),os=M("FlMd","wrap around",{"set to transparent":"Bckg","repeat edge pixels":"Rpt ","wrap around":"Wrp "});M("prjM","fisheye",{fisheye:"fisP",perspective:"perP",auto:"auto","full spherical":"fusP"});var Ut=function(){return Ut=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ut.apply(this,arguments)},ls={};function Y(e,n,t,i){var r={key:e,has:n,read:t,write:i};ls[r.key]=r}var Nn=[void 0,"PPI","PPCM"],Un=[void 0,"Inches","Centimeters","Points","Picas","Columns"],$a="0123456789abcdef";function Ya(e){return e<=57?e-48:e-87}function Lu(e,n){return Ya(e.charCodeAt(n))<<4|Ya(e.charCodeAt(n+1))}function yr(e,n){var t=pe(e,n);return wu(t)}function _r(e,n){var t=Fu(n);vt(e,t)}Y(1061,function(e){return e.captionDigest!==void 0},function(e,n){for(var t="",i=0;i<16;i++){var r=A(e);t+=$a[r>>4],t+=$a[r&15]}n.captionDigest=t},function(e,n){for(var t=0;t<16;t++)O(e,Lu(n.captionDigest,t*2))});Y(1060,function(e){return e.xmpMetadata!==void 0},function(e,n,t){n.xmpMetadata=yr(e,t())},function(e,n){_r(e,n.xmpMetadata)});var Gn=M("Inte","perceptual",{perceptual:"Img ",saturation:"Grp ","relative colorimetric":"Clrm","absolute colorimetric":"AClr"});Y(1082,function(e){return e.printInformation!==void 0},function(e,n){var t,i,r=j(e);n.printInformation={printerName:r.printerName||"",renderingIntent:Gn.decode((t=r.Inte)!==null&&t!==void 0?t:"Inte.Img ")};var a=n.printInformation;r.PstS!==void 0&&(a.printerManagesColors=r.PstS),r["Nm  "]!==void 0&&(a.printerProfile=r["Nm  "]),r.MpBl!==void 0&&(a.blackPointCompensation=r.MpBl),r.printSixteenBit!==void 0&&(a.printSixteenBit=r.printSixteenBit),r.hardProof!==void 0&&(a.hardProof=r.hardProof),r.printProofSetup&&("Bltn"in r.printProofSetup?a.proofSetup={builtin:r.printProofSetup.Bltn.split(".")[1]}:a.proofSetup={profile:r.printProofSetup.profile,renderingIntent:Gn.decode((i=r.printProofSetup.Inte)!==null&&i!==void 0?i:"Inte.Img "),blackPointCompensation:!!r.printProofSetup.MpBl,paperWhite:!!r.printProofSetup.paperWhite})},function(e,n){var t,i,r=n.printInformation,a={};r.printerManagesColors?a.PstS=!0:(r.hardProof!==void 0&&(a.hardProof=!!r.hardProof),a.ClrS="ClrS.RGBC",a["Nm  "]=(t=r.printerProfile)!==null&&t!==void 0?t:"CIE RGB"),a.Inte=Gn.encode(r.renderingIntent),r.printerManagesColors||(a.MpBl=!!r.blackPointCompensation),a.printSixteenBit=!!r.printSixteenBit,a.printerName=r.printerName||"",r.proofSetup&&"profile"in r.proofSetup?a.printProofSetup={profile:r.proofSetup.profile||"",Inte:Gn.encode(r.proofSetup.renderingIntent),MpBl:!!r.proofSetup.blackPointCompensation,paperWhite:!!r.proofSetup.paperWhite}:a.printProofSetup={Bltn:!((i=r.proofSetup)===null||i===void 0)&&i.builtin?"builtinProof.".concat(r.proofSetup.builtin):"builtinProof.proofCMYK"},Z(e,"","printOutput",a)});Y(1005,function(e){return e.resolutionInfo!==void 0},function(e,n){var t=ke(e),i=F(e),r=F(e),a=ke(e),o=F(e),l=F(e);n.resolutionInfo={horizontalResolution:t,horizontalResolutionUnit:Nn[i]||"PPI",widthUnit:Un[r]||"Inches",verticalResolution:a,verticalResolutionUnit:Nn[o]||"PPI",heightUnit:Un[l]||"Inches"}},function(e,n){var t=n.resolutionInfo;Ie(e,t.horizontalResolution||0),x(e,Math.max(1,Nn.indexOf(t.horizontalResolutionUnit))),x(e,Math.max(1,Un.indexOf(t.widthUnit))),Ie(e,t.verticalResolution||0),x(e,Math.max(1,Nn.indexOf(t.verticalResolutionUnit))),x(e,Math.max(1,Un.indexOf(t.heightUnit)))});var Ka=["centered","size to fit","user defined"];Y(1062,function(e){return e.printScale!==void 0},function(e,n){n.printScale={style:Ka[V(e)],x:Be(e),y:Be(e),scale:Be(e)}},function(e,n){var t=n.printScale,i=t.style,r=t.x,a=t.y,o=t.scale;$(e,Math.max(0,Ka.indexOf(i))),Ne(e,r||0),Ne(e,a||0),Ne(e,o||0)});Y(1006,function(e){return e.alphaChannelNames!==void 0},function(e,n,t){for(n.alphaChannelNames=[];t()>0;){var i=nt(e,1);n.alphaChannelNames.push(i)}},function(e,n){for(var t=0,i=n.alphaChannelNames;t<i.length;t++){var r=i[t];Ft(e,r,1)}});Y(1045,function(e){return e.alphaChannelNames!==void 0},function(e,n,t){for(n.alphaChannelNames=[];t()>0;)n.alphaChannelNames.push(le(e))},function(e,n){for(var t=0,i=n.alphaChannelNames;t<i.length;t++){var r=i[t];Ct(e,r)}});Y(1053,function(e){return e.alphaIdentifiers!==void 0},function(e,n,t){for(n.alphaIdentifiers=[];t()>=4;)n.alphaIdentifiers.push(w(e))},function(e,n){for(var t=0,i=n.alphaIdentifiers;t<i.length;t++){var r=i[t];E(e,r)}});Y(1010,function(e){return e.backgroundColor!==void 0},function(e,n){return n.backgroundColor=se(e)},function(e,n){return ue(e,n.backgroundColor)});Y(1037,function(e){return e.globalAngle!==void 0},function(e,n){return n.globalAngle=P(e)},function(e,n){return G(e,n.globalAngle)});Y(1049,function(e){return e.globalAltitude!==void 0},function(e,n){return n.globalAltitude=w(e)},function(e,n){return E(e,n.globalAltitude)});Y(1011,function(e){return e.printFlags!==void 0},function(e,n){n.printFlags={labels:!!A(e),cropMarks:!!A(e),colorBars:!!A(e),registrationMarks:!!A(e),negative:!!A(e),flip:!!A(e),interpolate:!!A(e),caption:!!A(e),printFlags:!!A(e)}},function(e,n){var t=n.printFlags;O(e,t.labels?1:0),O(e,t.cropMarks?1:0),O(e,t.colorBars?1:0),O(e,t.registrationMarks?1:0),O(e,t.negative?1:0),O(e,t.flip?1:0),O(e,t.interpolate?1:0),O(e,t.caption?1:0),O(e,t.printFlags?1:0)});Y(1080,function(e){return e.countInformation!==void 0},function(e,n){var t=j(e);n.countInformation=t.countGroupList.map(function(i){return{color:{r:i["Rd  "],g:i["Grn "],b:i["Bl  "]},name:i["Nm  "],size:i["Rds "],fontSize:i.fontSize,visible:i.Vsbl,points:i.countObjectList.map(function(r){return{x:r["X   "],y:r["Y   "]}})}})},function(e,n){var t={Vrsn:1,countGroupList:n.countInformation.map(function(i){return{"Rd  ":i.color.r,"Grn ":i.color.g,"Bl  ":i.color.b,"Nm  ":i.name,"Rds ":i.size,fontSize:i.fontSize,Vsbl:i.visible,countObjectList:i.points.map(function(r){return{"X   ":r.x,"Y   ":r.y}})}})};Z(e,"","Cnt ",t)});Y(1024,function(e){return e.layerState!==void 0},function(e,n){return n.layerState=F(e)},function(e,n){return x(e,n.layerState)});Y(1026,function(e){return e.layersGroup!==void 0},function(e,n,t){for(n.layersGroup=[];t()>0;)n.layersGroup.push(F(e))},function(e,n){for(var t=0,i=n.layersGroup;t<i.length;t++){var r=i[t];x(e,r)}});Y(1072,function(e){return e.layerGroupsEnabledId!==void 0},function(e,n,t){for(n.layerGroupsEnabledId=[];t()>0;)n.layerGroupsEnabledId.push(A(e))},function(e,n){for(var t=0,i=n.layerGroupsEnabledId;t<i.length;t++){var r=i[t];O(e,r)}});Y(1069,function(e){return e.layerSelectionIds!==void 0},function(e,n){var t=F(e);for(n.layerSelectionIds=[];t--;)n.layerSelectionIds.push(w(e))},function(e,n){x(e,n.layerSelectionIds.length);for(var t=0,i=n.layerSelectionIds;t<i.length;t++){var r=i[t];E(e,r)}});Y(1032,function(e){return e.gridAndGuidesInformation!==void 0},function(e,n){var t=w(e),i=w(e),r=w(e),a=w(e);if(t!==1)throw new Error("Invalid 1032 resource version: ".concat(t));n.gridAndGuidesInformation={grid:{horizontal:i,vertical:r},guides:[]};for(var o=0;o<a;o++)n.gridAndGuidesInformation.guides.push({location:w(e)/32,direction:A(e)?"horizontal":"vertical"})},function(e,n){var t=n.gridAndGuidesInformation,i=t.grid||{horizontal:18*32,vertical:18*32},r=t.guides||[];E(e,1),E(e,i.horizontal),E(e,i.vertical),E(e,r.length);for(var a=0,o=r;a<o.length;a++){var l=o[a];E(e,l.location*32),O(e,l.direction==="horizontal"?1:0)}});Y(1065,function(e){return e.layerComps!==void 0},function(e,n){var t=j(e,!0);n.layerComps={list:[]};for(var i=0,r=t.list;i<r.length;i++){var a=r[i];n.layerComps.list.push({id:a.compID,name:a["Nm  "],capturedInfo:a.capturedInfo}),"comment"in a&&(n.layerComps.list[n.layerComps.list.length-1].comment=a.comment)}"lastAppliedComp"in t&&(n.layerComps.lastApplied=t.lastAppliedComp)},function(e,n){for(var t=n.layerComps,i={list:[]},r=0,a=t.list;r<a.length;r++){var o=a[r],l={};l._classID="Comp",l["Nm  "]=o.name,"comment"in o&&(l.comment=o.comment),l.compID=o.id,l.capturedInfo=o.capturedInfo,i.list.push(l)}"lastApplied"in t&&(i.lastAppliedComp=t.lastApplied),Z(e,"","CompList",i)});var qa=["normal",void 0,void 0,void 0,void 0,void 0,void 0,"multiply","screen",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"difference"];Y(1078,function(e){return e.onionSkins!==void 0},function(e,n){var t=j(e);n.onionSkins={enabled:t.enab,framesBefore:t.numBefore,framesAfter:t.numAfter,frameSpacing:t.Spcn,minOpacity:t.minOpacity/100,maxOpacity:t.maxOpacity/100,blendMode:qa[t.BlnM]||"normal"}},function(e,n){var t=n.onionSkins,i={Vrsn:1,enab:t.enabled,numBefore:t.framesBefore,numAfter:t.framesAfter,Spcn:t.frameSpacing,minOpacity:t.minOpacity*100|0,maxOpacity:t.maxOpacity*100|0,BlnM:Math.max(0,qa.indexOf(t.blendMode))};Z(e,"","null",i)});Y(1075,function(e){return e.timelineInformation!==void 0},function(e,n,t,i){var r,a,o=j(e);n.timelineInformation={enabled:o.enab,frameStep:me(o.frameStep),frameRate:o.frameRate,time:me(o.time),duration:me(o.duration),workInTime:me(o.workInTime),workOutTime:me(o.workOutTime),repeats:o.LCnt,hasMotion:o.hasMotion,globalTracks:yl(o.globalTrackList,!!i.logMissingFeatures)},!((a=(r=o.audioClipGroupList)===null||r===void 0?void 0:r.audioClipGroupList)===null||a===void 0)&&a.length&&(n.timelineInformation.audioClipGroups=o.audioClipGroupList.audioClipGroupList.map(function(l){return{id:l.groupID,muted:l.muted,audioClips:l.audioClipList.map(function(f){var s=f.clipID,c=f.timeScope,p=f.muted,d=f.audioLevel,h=f.frameReader;return{id:s,start:me(c.Strt),duration:me(c.duration),inTime:me(c.inTime),outTime:me(c.outTime),muted:p,audioLevel:d,frameReader:{type:h.frameReaderType,mediaDescriptor:h.mediaDescriptor,link:{name:h["Lnk "]["Nm  "],fullPath:h["Lnk "].fullPath,relativePath:h["Lnk "].relPath}}}})}}))},function(e,n){var t,i=n.timelineInformation,r={Vrsn:1,enab:i.enabled,frameStep:i.frameStep,frameRate:i.frameRate,time:i.time,duration:i.duration,workInTime:i.workInTime,workOutTime:i.workOutTime,LCnt:i.repeats,globalTrackList:_l(i.globalTracks),audioClipGroupList:{audioClipGroupList:(t=i.audioClipGroups)===null||t===void 0?void 0:t.map(function(a){return{groupID:a.id,muted:a.muted,audioClipList:a.audioClips.map(function(o){return{clipID:o.id,timeScope:{Vrsn:1,Strt:o.start,duration:o.duration,inTime:o.inTime,outTime:o.outTime},frameReader:{frameReaderType:o.frameReader.type,descVersion:1,"Lnk ":{descVersion:1,"Nm  ":o.frameReader.link.name,fullPath:o.frameReader.link.fullPath,relPath:o.frameReader.link.relativePath},mediaDescriptor:o.frameReader.mediaDescriptor},muted:o.muted,audioLevel:o.audioLevel}})}})},hasMotion:i.hasMotion};Z(e,"","null",r,"anim")});Y(1076,function(e){return e.sheetDisclosure!==void 0},function(e,n){var t=j(e);n.sheetDisclosure={},t.sheetTimelineOptions&&(n.sheetDisclosure.sheetTimelineOptions=t.sheetTimelineOptions.map(function(i){return{sheetID:i.sheetID,sheetDisclosed:i.sheetDisclosed,lightsDisclosed:i.lightsDisclosed,meshesDisclosed:i.meshesDisclosed,materialsDisclosed:i.materialsDisclosed}}))},function(e,n){var t=n.sheetDisclosure,i={Vrsn:1};t.sheetTimelineOptions&&(i.sheetTimelineOptions=t.sheetTimelineOptions.map(function(r){return{Vrsn:2,sheetID:r.sheetID,sheetDisclosed:r.sheetDisclosed,lightsDisclosed:r.lightsDisclosed,meshesDisclosed:r.meshesDisclosed,materialsDisclosed:r.materialsDisclosed}})),Z(e,"","null",i)});Y(1054,function(e){return e.urlsList!==void 0},function(e,n,t,i){var r=w(e);n.urlsList=[];for(var a=0;a<r;a++){var o=te(e);if(o!=="slic"&&i.throwForMissingFeatures)throw new Error("Unknown long");var l=w(e),f=le(e);n.urlsList.push({id:l,url:f,ref:"slice"})}},function(e,n){var t=n.urlsList;E(e,t.length);for(var i=0;i<t.length;i++)U(e,"slic"),E(e,t[i].id),Ce(e,t[i].url)});function Ja(e){return{"Top ":e.top,Left:e.left,Btom:e.bottom,Rght:e.right}}function Qa(e){return{top:e["Top "],left:e.Left,bottom:e.Btom,right:e.Rght}}function Vn(e,n){return e[Math.max(0,Math.min(e.length-1,n))]}var eo=["autoGenerated","layer","userGenerated"],to=["noImage","image"],Hn=["default"];Y(1050,function(e){return e.slices?e.slices.length:0},function(e,n){var t=w(e);if(t===6){n.slices||(n.slices=[]);var i=P(e),r=P(e),a=P(e),o=P(e),l=le(e),f=w(e);n.slices.push({bounds:{top:i,left:r,bottom:a,right:o},groupName:l,slices:[]});for(var s=n.slices[n.slices.length-1].slices,c=0;c<f;c++){var p=w(e),d=w(e),h=Vn(eo,w(e)),v=h=="layer"?w(e):0,g=le(e),y=Vn(to,w(e)),m=P(e),b=P(e),_=P(e),S=P(e),C=le(e),B=le(e),k=le(e),N=le(e),z=!!A(e),R=le(e),L=Vn(Hn,w(e)),oe=Vn(Hn,w(e)),ge=A(e),re=A(e),de=A(e),at=A(e),gt=ge+re+de+at===0?"none":ge===0?"matte":"color";s.push({id:p,groupId:d,origin:h,associatedLayerId:v,name:g,target:B,message:k,altTag:N,cellTextIsHTML:z,cellText:R,horizontalAlignment:L,verticalAlignment:oe,type:y,url:C,bounds:{top:b,left:m,bottom:S,right:_},backgroundColorType:gt,backgroundColor:{r:re,g:de,b:at,a:ge}})}var _e=j(e);_e.slices.forEach(function(ot){var X=s.find(function(At){return ot.sliceID==At.id});X&&(X.topOutset=ot.topOutset,X.leftOutset=ot.leftOutset,X.bottomOutset=ot.bottomOutset,X.rightOutset=ot.rightOutset)})}else if(t===7||t===8){var _e=j(e);n.slices||(n.slices=[]),n.slices.push({groupName:_e.baseName,bounds:Qa(_e.bounds),slices:_e.slices.map(function(X){return Ut(Ut({},X["Nm  "]?{name:X["Nm  "]}:{}),{id:X.sliceID,groupId:X.groupID,associatedLayerId:0,origin:Ha.decode(X.origin),type:Ua.decode(X.Type),bounds:Qa(X.bounds),url:X.url,target:X.null,message:X.Msge,altTag:X.altTag,cellTextIsHTML:X.cellTextIsHTML,cellText:X.cellText,horizontalAlignment:Ga.decode(X.horzAlign),verticalAlignment:Va.decode(X.vertAlign),backgroundColorType:ja.decode(X.bgColorType),backgroundColor:X.bgColor?{r:X.bgColor["Rd  "],g:X.bgColor["Grn "],b:X.bgColor["Bl  "],a:X.bgColor.alpha}:{r:0,g:0,b:0,a:0},topOutset:X.topOutset||0,leftOutset:X.leftOutset||0,bottomOutset:X.bottomOutset||0,rightOutset:X.rightOutset||0})})})}else throw new Error("Invalid slices version (".concat(t,")"))},function(e,n,t){var i=n.slices[t],r=i.bounds,a=i.groupName,o=i.slices;E(e,6),G(e,r.top),G(e,r.left),G(e,r.bottom),G(e,r.right),Ce(e,a),E(e,o.length);for(var l=0;l<o.length;l++){var f=o[l],s=f.backgroundColor,c=s.a,p=s.r,d=s.g,h=s.b;f.backgroundColorType==="none"?c=p=d=h=0:f.backgroundColorType==="matte"&&(c=0,p=d=h=255),E(e,f.id),E(e,f.groupId),E(e,eo.indexOf(f.origin)),f.origin==="layer"&&E(e,f.associatedLayerId),Ce(e,f.name||""),E(e,to.indexOf(f.type)),G(e,f.bounds.left),G(e,f.bounds.top),G(e,f.bounds.right),G(e,f.bounds.bottom),Ce(e,f.url),Ce(e,f.target),Ce(e,f.message),Ce(e,f.altTag),O(e,f.cellTextIsHTML?1:0),Ce(e,f.cellText),E(e,Hn.indexOf(f.horizontalAlignment)),E(e,Hn.indexOf(f.verticalAlignment)),O(e,c),O(e,p),O(e,d),O(e,h)}var v={bounds:Ja(r),slices:[]};o.forEach(function(g){var y=Ut(Ut({sliceID:g.id,groupID:g.groupId,origin:Ha.encode(g.origin),Type:Ua.encode(g.type),bounds:Ja(g.bounds)},g.name?{"Nm  ":g.name}:{}),{url:g.url,null:g.target,Msge:g.message,altTag:g.altTag,cellTextIsHTML:g.cellTextIsHTML,cellText:g.cellText,horzAlign:Ga.encode(g.horizontalAlignment),vertAlign:Va.encode(g.verticalAlignment),bgColorType:ja.encode(g.backgroundColorType)});if(g.backgroundColorType==="color"){var m=g.backgroundColor,b=m.r,_=m.g,S=m.b,C=m.a;y.bgColor={"Rd  ":b,"Grn ":_,"Bl  ":S,alpha:C}}y.topOutset=g.topOutset||0,y.leftOutset=g.leftOutset||0,y.bottomOutset=g.bottomOutset||0,y.rightOutset=g.rightOutset||0,v.slices.push(y)}),Z(e,"","null",v,"slices")});Y(1064,function(e){return e.pixelAspectRatio!==void 0},function(e,n){if(w(e)>2)throw new Error("Invalid pixelAspectRatio version");n.pixelAspectRatio={aspect:Re(e)}},function(e,n){E(e,2),it(e,n.pixelAspectRatio.aspect)});Y(1041,function(e){return e.iccUntaggedProfile!==void 0},function(e,n){n.iccUntaggedProfile=!!A(e)},function(e,n){O(e,n.iccUntaggedProfile?1:0)});Y(1044,function(e){return e.idsSeedNumber!==void 0},function(e,n){return n.idsSeedNumber=w(e)},function(e,n){return E(e,n.idsSeedNumber)});Y(1036,function(e){return e.thumbnail!==void 0||e.thumbnailRaw!==void 0},function(e,n,t,i){var r=w(e),a=w(e),o=w(e);w(e),w(e),w(e);var l=F(e),f=F(e);if(r!==1||l!==24||f!==1){i.logMissingFeatures&&console.log("Invalid thumbnail data (format: ".concat(r,", bitsPerPixel: ").concat(l,", planes: ").concat(f,")")),D(e,t());return}var s=t(),c=pe(e,s);i.useRawThumbnail?n.thumbnailRaw={width:a,height:o,data:c}:c.byteLength&&(n.thumbnail=ul(c))},function(e,n){var t,i=0,r=0,a;if(n.thumbnailRaw)i=n.thumbnailRaw.width,r=n.thumbnailRaw.height,a=n.thumbnailRaw.data;else{var o=(t=n.thumbnail.toDataURL("image/jpeg",1))===null||t===void 0?void 0:t.substring(23);o?(i=n.thumbnail.width,r=n.thumbnail.height,a=Io(o)):a=new Uint8Array(0)}var l=24,f=Math.floor((i*l+31)/32)*4,s=1,c=f*r*s,p=a.length;E(e,1),E(e,i),E(e,r),E(e,f),E(e,c),E(e,p),x(e,l),x(e,s),vt(e,a)});Y(1057,function(e){return e.versionInfo!==void 0},function(e,n,t){var i=w(e);if(i!==1)throw new Error("Invalid versionInfo version");n.versionInfo={hasRealMergedData:!!A(e),writerName:le(e),readerName:le(e),fileVersion:w(e)},D(e,t())},function(e,n){var t=n.versionInfo;E(e,1),O(e,t.hasRealMergedData?1:0),Ce(e,t.writerName),Ce(e,t.readerName),E(e,t.fileVersion)});Y(7e3,function(e){return e.imageReadyVariables!==void 0},function(e,n,t){n.imageReadyVariables=yr(e,t())},function(e,n){_r(e,n.imageReadyVariables)});Y(7001,function(e){return e.imageReadyDataSets!==void 0},function(e,n,t){n.imageReadyDataSets=yr(e,t())},function(e,n){_r(e,n.imageReadyDataSets)});Y(1088,function(e){return e.pathSelectionState!==void 0},function(e,n,t){var i=j(e);n.pathSelectionState=i.null},function(e,n){var t={null:n.pathSelectionState};Z(e,"","null",t)});var no=M("FrmD","",{auto:"Auto",none:"None",dispose:"Disp"});Y(4e3,function(e){return e.animations!==void 0},function(e,n,t,i){var r=i.logMissingFeatures,a=i.logDevFeatures,o=te(e);if(o==="mani")pt(e,"IRFR"),Ee(e,1,function(f){for(var s=function(){pt(e,"8BIM");var c=te(e);Ee(e,1,function(p){if(c==="AnDs"){var d=j(e);n.animations={frames:d.FrIn.map(function(v){return{id:v.FrID,delay:(v.FrDl||0)/100,dispose:v.FrDs?no.decode(v.FrDs):"auto"}}),animations:d.FSts.map(function(v){return{id:v.FsID,frames:v.FsFr,repeats:v.LCnt,activeFrame:v.AFrm||0}})}}else if(c==="Roll"){var h=pe(e,p());a&&console.log("#4000 Roll",h)}else r&&console.log("Unhandled subsection in #4000",c)})};f()>0;)s()});else if(o==="mopt"){var l=pe(e,t());a&&console.log("#4000 mopt",l)}else r&&console.log("Unhandled key in #4000:",o)},function(e,n){n.animations&&(U(e,"mani"),U(e,"IRFR"),_t(e,1,function(){U(e,"8BIM"),U(e,"AnDs"),_t(e,1,function(){for(var t={FrIn:[],FSts:[]},i=0;i<n.animations.frames.length;i++){var r=n.animations.frames[i],a={FrID:r.id};r.delay&&(a.FrDl=r.delay*100|0),a.FrDs=no.encode(r.dispose),t.FrIn.push(a)}for(var i=0;i<n.animations.animations.length;i++){var o=n.animations.animations[i],l={FsID:o.id,AFrm:o.activeFrame|0,FsFr:o.frames,LCnt:o.repeats|0};t.FSts.push(l)}Z(e,"","null",t)})}))});var ai=function(){return ai=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ai.apply(this,arguments)},ss=[0,1,3],Ru=["bitmap","grayscale","indexed","RGB","CMYK","multichannel","duotone","lab"];function ir(e){for(var n=e.width*e.height*4,t=0;t<n;t+=4)e.data[t+1]=e.data[t],e.data[t+2]=e.data[t]}function io(e,n,t){var i=new DataView(e,n,t);return{view:i,offset:0,strict:!1,debug:!1}}function rr(e,n){if(e.strict)throw new Error(n);e.debug&&console.warn(n)}function A(e){return e.offset+=1,e.view.getUint8(e.offset-1)}function Pu(e){return e.view.getUint8(e.offset)}function V(e){return e.offset+=2,e.view.getInt16(e.offset-2,!1)}function F(e){return e.offset+=2,e.view.getUint16(e.offset-2,!1)}function Mu(e){return e.offset+=2,e.view.getUint16(e.offset-2,!0)}function P(e){return e.offset+=4,e.view.getInt32(e.offset-4,!1)}function ro(e){return e.offset+=4,e.view.getInt32(e.offset-4,!0)}function w(e){return e.offset+=4,e.view.getUint32(e.offset-4,!1)}function Be(e){return e.offset+=4,e.view.getFloat32(e.offset-4,!1)}function Re(e){return e.offset+=8,e.view.getFloat64(e.offset-8,!1)}function ke(e){return P(e)/65536}function Me(e){return P(e)/(1<<24)}function pe(e,n){var t=e.view.byteOffset+e.offset;if(e.offset+=n,t+n>e.view.buffer.byteLength){if(rr(e,"Reading bytes exceeding buffer length"),n>100*1024*1024)throw new Error("Reading past end of file");var i=new Uint8Array(n),r=Math.min(n,e.view.byteLength-t);return r>0&&i.set(new Uint8Array(e.view.buffer,t,r)),i}else return new Uint8Array(e.view.buffer,t,n)}function te(e){return cs(e,4)}function nt(e,n){for(var t=A(e),i=t?cs(e,t):"";++t%n;)e.offset++;return i}function le(e){var n=w(e);return fs(e,n)}function fs(e,n){for(var t="";n--;){var i=F(e);(i||n>0)&&(t+=String.fromCharCode(i))}return t}function zu(e,n){for(var t="";n--;){var i=Mu(e);(i||n>0)&&(t+=String.fromCharCode(i))}return t}function Sr(e,n){for(var t="";n--;)t+=String.fromCharCode(A(e));return t}function D(e,n){e.offset+=n}function pt(e,n,t){var i=e.offset,r=te(e);if(r!==n&&r!==t)throw new Error("Invalid signature: '".concat(r,"' at 0x").concat(i.toString(16)))}function cs(e,n){for(var t=pe(e,n),i="",r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return i}function ao(e){return e==="8BIM"||e==="MeSa"||e==="AgHg"||e==="PHUT"||e==="DCSR"}function Bu(e,n){var t;n===void 0&&(n={}),pt(e,"8BPS");var i=F(e);if(i!==1&&i!==2)throw new Error("Invalid PSD file version: ".concat(i));D(e,6);var r=F(e),a=w(e),o=w(e),l=F(e),f=F(e),s=i===1?3e4:3e5;if(o>s||a>s)throw new Error("Invalid size: ".concat(o,"x").concat(a));if(r>16)throw new Error("Invalid channel count: ".concat(r));if(![1,8,16,32].includes(l))throw new Error("Invalid bitsPerChannel: ".concat(l));if(ss.indexOf(f)===-1)throw new Error("Color mode not supported: ".concat((t=Ru[f])!==null&&t!==void 0?t:f));var c={width:o,height:a,channels:r,bitsPerChannel:l,colorMode:f},p=ai(ai({},n),{large:i===2,globalAlpha:!1}),d=[0,1,-1,2,-2,3,-3,4,-4];Ee(e,1,function(g){g()&&D(e,g())}),Ee(e,1,function(g){for(var y=function(){for(var m=e.offset,b="",_=0,S=d;_<S.length;_++){var C=S[_];try{e.offset=m+C,b=te(e)}catch{}if(ao(b))break}if(!ao(b))throw new Error("Invalid signature: '".concat(b,"' at 0x").concat(m.toString(16)));var B=F(e);nt(e,2),Ee(e,2,function(k){var N=ls[B],z=B===1036&&!!p.skipThumbnail;if(c.imageResources||(c.imageResources={}),N&&!z)try{N.read(e,c.imageResources,k,p)}catch(R){if(p.throwForMissingFeatures)throw R;D(e,k())}else D(e,k())})};g()>0;)y()}),Ee(e,1,function(g){if(Ee(e,2,function(m){xr(e,c,p),D(e,m())},void 0,p.large),g()>0){var y=Hu(e);y&&(c.globalLayerMaskInfo=y)}else D(e,g());for(;g()>0;){for(;g()&&Pu(e)===0;)D(e,1);g()>=12?us(e,c,c,p):D(e,g())}},void 0,p.large);var h=c.children&&c.children.length,v=p.skipCompositeImageData&&(p.skipLayerImageData||h);return v||ju(e,c,p),c}function xr(e,n,t){var i=V(e);i<0&&(t.globalAlpha=!0,i=-i);for(var r=[],a=[],o=0;o<i;o++){var l=Nu(e,n,t),f=l.layer,s=l.channels;r.push(f),a.push(s)}if(!t.skipLayerImageData)for(var o=0;o<i;o++)Vu(e,n,r[o],a[o],t);n.children||(n.children=[]);for(var c=[n],o=r.length-1;o>=0;o--){var p=r[o],d=p.sectionDivider?p.sectionDivider.type:0;d===1||d===2?(p.opened=d===1,p.children=[],c[c.length-1].children.unshift(p),c.push(p)):d===3?c.pop():c[c.length-1].children.unshift(p)}}function Nu(e,n,t){var i={};i.top=P(e),i.left=P(e),i.bottom=P(e),i.right=P(e);for(var r=F(e),a=[],o=0;o<r;o++){var l=V(e),f=w(e);if(t.large){if(f!==0)throw new Error("Sizes larger than 4GB are not supported");f=w(e)}a.push({id:l,length:f})}pt(e,"8BIM");var s=te(e);if(!wn[s])throw new Error("Invalid blend mode: '".concat(s,"'"));i.blendMode=wn[s],i.opacity=A(e)/255,i.clipping=A(e)===1;var c=A(e);return i.transparencyProtected=(c&1)!==0,i.hidden=(c&2)!==0,c&32&&(i.effectsOpen=!0),D(e,1),Ee(e,1,function(p){var d=Uu(e,t);for(d&&(i.mask=d),Gu(e),i.name=nt(e,4);p()>0;)us(e,i,n,t)}),{layer:i,channels:a}}function Uu(e,n){return Ee(e,1,function(t){if(t()){var i={};i.top=P(e),i.left=P(e),i.bottom=P(e),i.right=P(e),i.defaultColor=A(e);var r=A(e);if(i.positionRelativeToLayer=(r&1)!==0,i.disabled=(r&2)!==0,i.fromVectorData=(r&8)!==0,r&16){var a=A(e);a&1&&(i.userMaskDensity=A(e)/255),a&2&&(i.userMaskFeather=Re(e)),a&4&&(i.vectorMaskDensity=A(e)/255),a&8&&(i.vectorMaskFeather=Re(e))}return t()>2&&n.logMissingFeatures&&console.log("Unhandled extra real user mask params"),D(e,t()),i}})}function Gu(e){return Ee(e,1,function(n){for(var t=w(e),i=w(e),r=[];n()>0;){var a=w(e),o=w(e);r.push({sourceRange:a,destRange:o})}return{compositeGrayBlendSource:t,compositeGraphBlendDestinationRange:i,ranges:r}})}function Vu(e,n,t,i,r){var a,o,l,f,s=(t.right||0)-(t.left||0),c=(t.bottom||0)-(t.top||0),p=n.colorMode===4,d;if(s&&c)if(p){if(n.bitsPerChannel!==8)throw new Error("bitsPerChannel Not supproted");d={width:s,height:c,data:new Uint8ClampedArray(s*c*5)};for(var h=4;h<d.data.byteLength;h+=5)d.data[h]=255}else d=ar(s,c,(a=n.bitsPerChannel)!==null&&a!==void 0?a:8),er(d);for(var v=0,g=i;v<g.length;v++){var y=g[v];if(y.length!==0){if(y.length<2)throw new Error("Invalid channel length");var m=e.offset,b=F(e);if(b>3&&(e.offset-=1,b=F(e)),b>3&&(e.offset-=3,b=F(e)),b>3)throw new Error("Invalid compression: ".concat(b));if(y.id===-2){var _=t.mask;if(!_)throw new Error("Missing layer mask data");var S=(_.right||0)-(_.left||0),C=(_.bottom||0)-(_.top||0);if(S&&C){var B=ar(S,C,(o=n.bitsPerChannel)!==null&&o!==void 0?o:8);er(B),e.offset,oo(e,y.length,B,b,S,C,(l=n.bitsPerChannel)!==null&&l!==void 0?l:8,0,r.large,4),ir(B),r.useImageData?_.imageData=B:_.canvas=tr(B)}}else if(y.id===-3)r.logMissingFeatures&&console.log("RealUserMask not supported"),e.offset=m+y.length;else{var k=_u(y.id,p),N=d;if(k<0&&(N=void 0,r.throwForMissingFeatures))throw new Error("Channel not supported: ".concat(y.id));oo(e,y.length,N,b,s,c,(f=n.bitsPerChannel)!==null&&f!==void 0?f:8,k,r.large,p?5:4),e.offset=m+y.length,N&&n.colorMode===1&&ir(N)}}}if(d){if(p){var z=d;d=mr(z.width,z.height),ds(z,d,!1)}r.useImageData?t.imageData=d:t.canvas=tr(d)}}function oo(e,n,t,i,r,a,o,l,f,s){if(i===0)ps(e,t,r,a,o,s,l);else if(i===1)Jn(e,t,r,a,o,s,[l],f);else if(i===2)lo(e,n,t,r,a,o,s,l,!1);else if(i===3)lo(e,n,t,r,a,o,s,l,!0);else throw new Error("Invalid Compression type: ".concat(i))}function Hu(e){return Ee(e,1,function(n){if(n()){var t=F(e),i=F(e),r=F(e),a=F(e),o=F(e),l=F(e)/255,f=A(e);return D(e,n()),{overlayColorSpace:t,colorSpace1:i,colorSpace2:r,colorSpace3:a,colorSpace4:o,opacity:l,kind:f}}})}function us(e,n,t,i){var r=te(e);if(r!=="8BIM"&&r!=="8B64")throw new Error("Invalid signature: '".concat(r,"' at 0x").concat((e.offset-4).toString(16)));var a=te(e),o=r==="8B64"||i.large&&bu.indexOf(a)!==-1;Ee(e,2,function(l){var f=oi[a];if(f)try{f.read(e,n,l,t,i)}catch(s){if(i.throwForMissingFeatures)throw s}else i.logMissingFeatures&&console.log("Unhandled additional info: ".concat(a)),D(e,l());l()&&(i.logMissingFeatures&&console.log("Unread ".concat(l()," bytes left for additional info: ").concat(a)),D(e,l()))},!1,o)}function ar(e,n,t){if(t===1||t===8)return mr(e,n);if(t===16)return{width:e,height:n,data:new Uint16Array(e*n*4)};if(t===32)return{width:e,height:n,data:new Float32Array(e*n*4)};throw new Error("Invalid bitDepth (".concat(t,")"))}function ju(e,n,t){var i,r,a=F(e),o=(i=n.bitsPerChannel)!==null&&i!==void 0?i:8;if(ss.indexOf(n.colorMode)===-1)throw new Error("Color mode not supported: ".concat(n.colorMode));if(a!==0&&a!==1)throw new Error("Compression type not supported: ".concat(a));var l=ar(n.width,n.height,o);switch(er(l),n.colorMode){case 0:{if(o!==1)throw new Error("Invalid bitsPerChannel for bitmap color mode");var f=void 0;if(a===0)f=pe(e,Math.ceil(n.width/8)*n.height);else if(a===1)f=new Uint8Array(n.width*n.height),Jn(e,{data:f,width:n.width,height:n.height},n.width,n.height,8,1,[0],t.large);else throw new Error("Bitmap compression not supported: ".concat(a));Su(f,l.data,n.width,n.height);break}case 3:case 1:{var s=n.colorMode===1?[0]:[0,1,2];if(n.channels&&n.channels>3)for(var c=3;c<n.channels;c++)s.push(c);else t.globalAlpha&&s.push(3);if(a===0)for(var c=0;c<s.length;c++)ps(e,l,n.width,n.height,o,4,s[c]);else a===1&&(e.offset,Jn(e,l,n.width,n.height,o,4,s,t.large));n.colorMode===1&&ir(l);break}case 4:{if(n.bitsPerChannel!==8)throw new Error("bitsPerChannel Not supproted");if(n.channels!==4)throw new Error("Invalid channel count");var s=[0,1,2,3];if(t.globalAlpha&&s.push(4),a===0)throw new Error("Not implemented");if(a===1){var p={width:l.width,height:l.height,data:new Uint8Array(l.width*l.height*5)};e.offset,Jn(e,p,n.width,n.height,(r=n.bitsPerChannel)!==null&&r!==void 0?r:8,5,s,t.large),ds(p,l,!0)}break}default:throw new Error("Color mode not supported: ".concat(n.colorMode))}if(t.globalAlpha){if(n.bitsPerChannel!==8)throw new Error("bitsPerChannel Not supproted");for(var d=l.data,h=l.width*l.height*4,c=0;c<h;c+=4){var v=d[c+3];if(v!=0&&v!=255){var g=v/255,y=1/g,m=255*(1-y);d[c+0]=d[c+0]*y+m,d[c+1]=d[c+1]*y+m,d[c+2]=d[c+2]*y+m}}}t.useImageData?n.imageData=l:n.canvas=tr(l)}function ds(e,n,t){for(var i=n.width*n.height*4,r=e.data,a=n.data,o=0,l=0;l<i;o+=5,l+=4){var f=r[o],s=r[o+1],c=r[o+2],p=r[o+3];a[l]=(f*p|0)/255|0,a[l+1]=(s*p|0)/255|0,a[l+2]=(c*p|0)/255|0,a[l+3]=t?255-r[o+4]:r[o+4]}}function Zu(e,n){if(e.byteLength/e.length!==n.byteLength/n.length)throw new Error("Invalid array types")}function hs(e,n){if(n===8)return e;if(n===16)if(e.byteOffset%2){var t=new Uint16Array(e.byteLength/2);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(e),t}else return new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2);else if(n===32)if(e.byteOffset%4){var t=new Float32Array(e.byteLength/4);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(e),t}else return new Float32Array(e.buffer,e.byteOffset,e.byteLength/4);else throw new Error("Invalid bitDepth (".concat(n,")"))}function or(e,n,t,i){Zu(e.data,n);for(var r=e.width*e.height,a=e.data,o=0,l=t|0;o<r;o++,l=l+i|0)a[l]=n[o]}function ps(e,n,t,i,r,a,o){var l=pe(e,t*i*Math.floor(r/8));if(r==32)for(var f=0;f<l.byteLength;f+=4){var s=l[f+0],c=l[f+1],p=l[f+2],d=l[f+3];l[f+0]=d,l[f+1]=p,l[f+2]=c,l[f+3]=s}var h=hs(l,r);n&&o<a&&or(n,h,o,a)}function zi(e,n,t,i){for(var r=0;r<t;r++)for(var a=r*n,o=1,l=a+1;o<n;o++,l++)e[l]=(e[l-1]+e[l])%i}function lo(e,n,t,i,r,a,o,l,f){var s=pe(e,n),c=mu(s);if(t&&l<o){var p=hs(c,a);if(a===8)f&&zi(c,i,r,256),or(t,c,l,o);else if(a===16)f&&zi(p,i,r,65536),or(t,p,l,o);else if(a===32){f&&zi(c,i*4,r,256);for(var d=l,h=new Uint32Array(t.data.buffer,t.data.byteOffset,t.data.length),v=0;v<r;v++)for(var g=i*4*v,y=0;y<i;y++,g++,d+=o){var m=g+i,b=m+i,_=b+i;h[d]=(c[g]<<24|c[m]<<16|c[b]<<8|c[_])>>>0}}else throw new Error("Invalid bitDepth")}}function Jn(e,n,t,i,r,a,o,l){var f=n&&n.data,s;if(l){s=new Uint32Array(o.length*i);for(var c=0,p=0;c<o.length;c++)for(var d=0;d<i;d++,p++)s[p]=w(e)}else{s=new Uint16Array(o.length*i);for(var c=0,p=0;c<o.length;c++)for(var d=0;d<i;d++,p++)s[p]=F(e)}if(r!==1&&r!==8)throw new Error("Invalid bit depth (".concat(r,")"));for(var h=a-1|0,v=0,p=0;v<o.length;v++){var g=o[v]|0,y=v>h||g>h;if(!f||y)for(var d=0;d<i;d++,p++)D(e,s[p]);else for(var d=0,m=g|0;d<i;d++,p++)for(var b=s[p],_=pe(e,b),S=0;S<b;S++){var C=_[S];if(C>128){var B=_[++S];C=256-C|0;for(var k=0;k<=C;k=k+1|0)f[m]=B,m=m+a|0}else if(C<128)for(var k=0;k<=C;k=k+1|0)f[m]=_[++S],m=m+a|0}}}function Ee(e,n,t,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var a=w(e);if(r){if(a!==0)throw new Error("Sizes larger than 4GB are not supported");a=w(e)}if(!(a<=0&&i)){var o=e.offset+a;if(o>e.view.byteLength)throw new Error("Section exceeds file size");var l=t(function(){return o-e.offset});for(e.offset!==o&&(e.offset>o?rr(e,"Exceeded section limits"):rr(e,"Unread section data"));o%n;)o++;return e.offset=o,l}}function se(e){var n=F(e);switch(n){case 0:{var t=F(e)/257,i=F(e)/257,r=F(e)/257;return D(e,2),{r:t,g:i,b:r}}case 1:{var a=F(e)/65535,o=F(e)/65535,r=F(e)/65535;return D(e,2),{h:a,s:o,b:r}}case 2:{var l=F(e)/257,f=F(e)/257,s=F(e)/257,c=F(e)/257;return{c:l,m:f,y:s,k:c}}case 7:{var p=V(e)/1e4,d=V(e),h=V(e),v=d<0?d/12800:d/12700,r=h<0?h/12800:h/12700;return D(e,2),{l:p,a:v,b:r}}case 8:{var c=F(e)*255/1e4;return D(e,6),{k:c}}default:throw new Error("Invalid color space")}}var vs=[void 0,"outer bevel","inner bevel","emboss","pillow emboss","stroke emboss"];function Mt(e){return pt(e,"8BIM"),wn[te(e)]||"normal"}function Bt(e,n){U(e,"8BIM"),U(e,fl[n]||"norm")}function zt(e){return A(e)/255}function Nt(e,n){O(e,Math.round(n*255)|0)}function Wu(e){var n=F(e);if(n!==0)throw new Error("Invalid effects layer version: ".concat(n));for(var t=F(e),i={},r=0;r<t;r++){pt(e,"8BIM");var a=te(e);switch(a){case"cmnS":{var o=w(e),l=w(e),f=!!A(e);if(D(e,2),o!==7||l!==0||!f)throw new Error("Invalid effects common state");break}case"dsdw":case"isdw":{var s=w(e),c=w(e);if(s!==41&&s!==51)throw new Error("Invalid shadow size: ".concat(s));if(c!==0&&c!==2)throw new Error("Invalid shadow version: ".concat(c));var o=ke(e);ke(e);var p=ke(e),d=ke(e),h=se(e),v=Mt(e),g=!!A(e),y=!!A(e),m=zt(e);s>=51&&se(e);var b={size:{units:"Pixels",value:o},distance:{units:"Pixels",value:d},angle:p,color:h,blendMode:v,enabled:g,useGlobalLight:y,opacity:m};a==="dsdw"?i.dropShadow=[b]:i.innerShadow=[b];break}case"oglw":{var s=w(e),_=w(e);if(s!==32&&s!==42)throw new Error("Invalid outer glow size: ".concat(s));if(_!==0&&_!==2)throw new Error("Invalid outer glow version: ".concat(_));var o=ke(e);ke(e);var h=se(e),v=Mt(e),g=!!A(e),m=zt(e);s>=42&&se(e),i.outerGlow={size:{units:"Pixels",value:o},color:h,blendMode:v,enabled:g,opacity:m};break}case"iglw":{var s=w(e),S=w(e);if(s!==32&&s!==43)throw new Error("Invalid inner glow size: ".concat(s));if(S!==0&&S!==2)throw new Error("Invalid inner glow version: ".concat(S));var o=ke(e);ke(e);var h=se(e),v=Mt(e),g=!!A(e),m=zt(e);s>=43&&(A(e),se(e)),i.innerGlow={size:{units:"Pixels",value:o},color:h,blendMode:v,enabled:g,opacity:m};break}case"bevl":{var s=w(e),C=w(e);if(s!==58&&s!==78)throw new Error("Invalid bevel size: ".concat(s));if(C!==0&&C!==2)throw new Error("Invalid bevel version: ".concat(C));var p=ke(e),B=ke(e),o=ke(e),k=Mt(e),N=Mt(e),z=se(e),R=se(e),L=vs[A(e)]||"inner bevel",oe=zt(e),ge=zt(e),g=!!A(e),y=!!A(e),re=A(e)?"down":"up";s>=78&&(se(e),se(e)),i.bevel={size:{units:"Pixels",value:o},angle:p,strength:B,highlightBlendMode:k,shadowBlendMode:N,highlightColor:z,shadowColor:R,style:L,highlightOpacity:oe,shadowOpacity:ge,enabled:g,useGlobalLight:y,direction:re};break}case"sofi":{var o=w(e),de=w(e);if(o!==34)throw new Error("Invalid effects solid fill info size: ".concat(o));if(de!==2)throw new Error("Invalid effects solid fill info version: ".concat(de));var v=Mt(e),h=se(e),m=zt(e),g=!!A(e);se(e),i.solidFill=[{blendMode:v,color:h,opacity:m,enabled:g}];break}default:throw new Error("Invalid effect type: '".concat(a,"'"))}}return i}function so(e,n){var t;E(e,51),E(e,2),Ie(e,n.size&&n.size.value||0),Ie(e,0),Ie(e,n.angle||0),Ie(e,n.distance&&n.distance.value||0),ue(e,n.color),Bt(e,n.blendMode),O(e,n.enabled?1:0),O(e,n.useGlobalLight?1:0),Nt(e,(t=n.opacity)!==null&&t!==void 0?t:1),ue(e,n.color)}function Xu(e,n){var t,i,r,a,o,l,f=(t=n.dropShadow)===null||t===void 0?void 0:t[0],s=(i=n.innerShadow)===null||i===void 0?void 0:i[0],c=n.outerGlow,p=n.innerGlow,d=n.bevel,h=(r=n.solidFill)===null||r===void 0?void 0:r[0],v=1;if(f&&v++,s&&v++,c&&v++,p&&v++,d&&v++,h&&v++,x(e,0),x(e,v),U(e,"8BIM"),U(e,"cmnS"),E(e,7),E(e,0),O(e,1),q(e,2),f&&(U(e,"8BIM"),U(e,"dsdw"),so(e,f)),s&&(U(e,"8BIM"),U(e,"isdw"),so(e,s)),c&&(U(e,"8BIM"),U(e,"oglw"),E(e,42),E(e,2),Ie(e,((a=c.size)===null||a===void 0?void 0:a.value)||0),Ie(e,0),ue(e,c.color),Bt(e,c.blendMode),O(e,c.enabled?1:0),Nt(e,c.opacity||0),ue(e,c.color)),p&&(U(e,"8BIM"),U(e,"iglw"),E(e,43),E(e,2),Ie(e,((o=p.size)===null||o===void 0?void 0:o.value)||0),Ie(e,0),ue(e,p.color),Bt(e,p.blendMode),O(e,p.enabled?1:0),Nt(e,p.opacity||0),O(e,0),ue(e,p.color)),d){U(e,"8BIM"),U(e,"bevl"),E(e,78),E(e,2),Ie(e,d.angle||0),Ie(e,d.strength||0),Ie(e,((l=d.size)===null||l===void 0?void 0:l.value)||0),Bt(e,d.highlightBlendMode),Bt(e,d.shadowBlendMode),ue(e,d.highlightColor),ue(e,d.shadowColor);var g=vs.indexOf(d.style);O(e,g<=0?1:g),Nt(e,d.highlightOpacity||0),Nt(e,d.shadowOpacity||0),O(e,d.enabled?1:0),O(e,d.useGlobalLight?1:0),O(e,d.direction==="down"?1:0),ue(e,d.highlightColor),ue(e,d.shadowColor)}h&&(U(e,"8BIM"),U(e,"sofi"),E(e,34),E(e,2),Bt(e,h.blendMode),ue(e,h.color),Nt(e,h.opacity||0),O(e,h.enabled?1:0),ue(e,h.color))}function fo(e){return e===32||e===10||e===13||e===9}function co(e){return e>=48&&e<=57||e===46||e===45}function $u(e){var n=0;function t(){for(;n<e.length&&fo(e[n]);)n++}function i(){var m=e[n];return n++,m===92&&(m=e[n],n++),m}function r(){var m="";if(e[n]===41)return n++,m;if(e[n]!==254||e[n+1]!==255)throw new Error("Invalid utf-16 BOM");for(n+=2;n<e.length&&e[n]!==41;){var b=i(),_=i(),S=b<<8|_;m+=String.fromCharCode(S)}return n++,m}var a=null,o=[];function l(m){o.length?(f(m),o.push(m)):(o.push(m),a=m)}function f(m){if(!o.length)throw new Error("Invalid data");var b=o[o.length-1];if(typeof b=="string")o[o.length-2][b]=m,c();else if(Array.isArray(b))b.push(m);else throw new Error("Invalid data")}function s(m){o.length||l({});var b=o[o.length-1];if(b&&typeof b=="string")f(m==="nil"?null:"/".concat(m));else if(b&&typeof b=="object")o.push(m);else throw new Error("Invalid data")}function c(){if(!o.length)throw new Error("Invalid data");o.pop()}for(t();n<e.length;){var p=n,d=e[p];if(d===60&&e[p+1]===60)n+=2,l({});else if(d===62&&e[p+1]===62)n+=2,c();else if(d===47){n+=1;for(var h=n;n<e.length&&!fo(e[n]);)n++;for(var v="",g=h;g<n;g++)v+=String.fromCharCode(e[g]);s(v)}else if(d===40)n+=1,f(r());else if(d===91)n+=1,l([]);else if(d===93)n+=1,c();else if(d===110&&e[p+1]===117&&e[p+2]===108&&e[p+3]===108)n+=4,f(null);else if(d===116&&e[p+1]===114&&e[p+2]===117&&e[p+3]===101)n+=4,f(!0);else if(d===102&&e[p+1]===97&&e[p+2]===108&&e[p+3]===115&&e[p+4]===101)n+=5,f(!1);else if(co(d)){for(var y="";n<e.length&&co(e[n]);)y+=String.fromCharCode(e[n]),n++;f(parseFloat(y))}else n+=1,console.log("Invalid token ".concat(String.fromCharCode(d)," at ").concat(n));t()}return a}var Yu=["Axis","XY","Zone","WordSpacing","FirstLineIndent","GlyphSpacing","StartIndent","EndIndent","SpaceBefore","SpaceAfter","LetterSpacing","Values","GridSize","GridLeading","PointBase","BoxBounds","TransformPoint0","TransformPoint1","TransformPoint2","FontSize","Leading","HorizontalScale","VerticalScale","BaselineShift","Tsume","OutlineWidth","AutoLeading"],Ku=["RunLengthArray"];function qu(e,n){n===void 0&&(n=!1);var t=new Uint8Array(1024),i=0,r=0;function a(b){if(i>=t.length){var _=new Uint8Array(t.length*2);_.set(t),t=_}t[i]=b,i++}function o(b){for(var _=0;_<b.length;_++)a(b.charCodeAt(_))}function l(){if(n)o(" ");else for(var b=0;b<r;b++)o("	")}function f(b,_){l(),o("/".concat(b)),v(_,b,!0),n||o(`
`)}function s(b){return b.toString()}function c(b){return b.toFixed(5).replace(/(\d)0+$/g,"$1").replace(/^0+\.([1-9])/g,".$1").replace(/^-0+\.0(\d)/g,"-.0$1")}function p(b,_){var S=_&&Yu.indexOf(_)!==-1||(b|0)!==b;return S?c(b):s(b)}function d(b){var _=Object.keys(b);return _.indexOf("98")!==-1&&_.unshift.apply(_,_.splice(_.indexOf("99"),1)),_.indexOf("99")!==-1&&_.unshift.apply(_,_.splice(_.indexOf("99"),1)),_}function h(b){(b===40||b===41||b===92)&&a(92),a(b)}function v(b,_,S){S===void 0&&(S=!1);function C(){S?o(" "):l()}if(b===null)C(),o(n?"/nil":"null");else if(typeof b=="number")C(),o(p(b,_));else if(typeof b=="boolean")C(),o(b?"true":"false");else if(typeof b=="string")if(C(),(_==="99"||_==="98")&&b.charAt(0)==="/")o(b);else{o("("),a(254),a(255);for(var B=0;B<b.length;B++){var k=b.charCodeAt(B);h(k>>8&255),h(k&255)}o(")")}else if(Array.isArray(b))if(C(),b.every(function(gt){return typeof gt=="number"})){o("[");for(var N=Ku.indexOf(_)!==-1,z=0,R=b;z<R.length;z++){var L=R[z];o(" "),o(N?p(L):c(L))}o(" ]")}else{o("["),n||o(`
`);for(var oe=0,ge=b;oe<ge.length;oe++){var L=ge[oe];v(L,_),n||o(`
`)}l(),o("]")}else if(typeof b=="object"){S&&!n&&o(`
`),l(),o("<<"),n||o(`
`),r++;for(var re=0,de=d(b);re<de.length;re++){var at=de[re];f(at,b[at])}r--,l(),o(">>")}}if(n){if(typeof e=="object")for(var g=0,y=d(e);g<y.length;g++){var m=y[g];f(m,e[m])}}else o(`

`),v(e);return t.slice(0,i)}var ae=function(){return ae=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)},gs={name:"MyriadPro-Regular",script:0,type:0,synthetic:0},jn={justification:"left",firstLineIndent:0,startIndent:0,endIndent:0,spaceBefore:0,spaceAfter:0,autoHyphenate:!0,hyphenatedWordSize:6,preHyphen:2,postHyphen:2,consecutiveHyphens:8,zone:36,wordSpacing:[.8,1,1.33],letterSpacing:[0,0,0],glyphSpacing:[1,1,1],autoLeading:1.2,leadingType:0,hanging:!1,burasagari:!1,kinsokuOrder:0,everyLineComposer:!1},Ju={font:gs,fontSize:12,fauxBold:!1,fauxItalic:!1,autoLeading:!0,leading:0,horizontalScale:1,verticalScale:1,tracking:0,autoKerning:!0,kerning:0,baselineShift:0,fontCaps:0,fontBaseline:0,underline:!1,strikethrough:!1,ligatures:!0,dLigatures:!1,baselineDirection:2,tsume:0,styleRunAlignment:2,language:0,noBreak:!1,fillColor:{r:0,g:0,b:0},strokeColor:{r:0,g:0,b:0},fillFlag:!0,strokeFlag:!1,fillFirst:!0,yUnderline:1,outlineWidth:1,characterDirection:0,hindiNumbers:!1,kashida:1,diacriticPos:2},Qu={isOn:!1,show:!1,size:18,leading:22,color:{r:0,g:0,b:255},leadingFillColor:{r:0,g:0,b:255},alignLineHeightToGridFlags:!1},kr=["justification","firstLineIndent","startIndent","endIndent","spaceBefore","spaceAfter","autoHyphenate","hyphenatedWordSize","preHyphen","postHyphen","consecutiveHyphens","zone","wordSpacing","letterSpacing","glyphSpacing","autoLeading","leadingType","hanging","burasagari","kinsokuOrder","everyLineComposer"],Fr=["font","fontSize","fauxBold","fauxItalic","autoLeading","leading","horizontalScale","verticalScale","tracking","autoKerning","kerning","baselineShift","fontCaps","fontBaseline","underline","strikethrough","ligatures","dLigatures","baselineDirection","tsume","styleRunAlignment","language","noBreak","fillColor","strokeColor","fillFlag","strokeFlag","fillFirst","yUnderline","outlineWidth","characterDirection","hindiNumbers","kashida","diacriticPos"],ms=["none","crisp","strong","smooth","sharp"],bs=["left","right","center","justify-left","justify-right","justify-center","justify-all"];function ys(e){return e.substring(0,1).toUpperCase()+e.substring(1)}function ed(e){var n=e.Values;switch(e.Type){case 0:return{k:n[1]*255};case 1:return n[0]===1?{r:n[1]*255,g:n[2]*255,b:n[3]*255}:{r:n[1]*255,g:n[2]*255,b:n[3]*255,a:n[0]*255};case 2:return{c:n[1]*255,m:n[2]*255,y:n[3]*255,k:n[4]*255};default:throw new Error("Unknown color type in text layer")}}function lr(e){if(e){if("r"in e)return{Type:1,Values:["a"in e?e.a/255:1,e.r/255,e.g/255,e.b/255]};if("c"in e)return{Type:2,Values:[1,e.c/255,e.m/255,e.y/255,e.k/255]};if("k"in e)return{Type:0,Values:[1,e.k/255]};throw new Error("Invalid color type in text layer")}else return{Type:1,Values:[0,0,0,0]}}function uo(e,n){if(!e||!n||e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function ho(e,n){if(!e||!n)return!1;for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];if(e[r]!==n[r])return!1}for(var a=0,o=Object.keys(n);a<o.length;a++){var r=o[a];if(e[r]!==n[r])return!1}return!0}function td(e,n){for(var t=0;t<e.length;t++)if(e[t].name===n.name)return t;return e.push(n),e.length-1}function _s(e,n,t){for(var i={},r=0,a=n;r<a.length;r++){var o=a[r],l=ys(o);e[l]!==void 0&&(o==="justification"?i[o]=bs[e[l]]:o==="font"?i[o]=t[e[l]]:o==="fillColor"||o==="strokeColor"?i[o]=ed(e[l]):i[o]=e[l])}return i}function Ss(e,n,t){for(var i,r={},a=0,o=n;a<o.length;a++){var l=o[a],f=ys(l);e[l]!==void 0&&(l==="justification"?r[f]=bs.indexOf((i=e[l])!==null&&i!==void 0?i:"left"):l==="font"?r[f]=td(t,e[l]):l==="fillColor"||l==="strokeColor"?r[f]=lr(e[l]):r[f]=e[l])}return r}function nd(e,n){return _s(e,kr,n)}function id(e,n){return _s(e,Fr,n)}function Zn(e,n){return Ss(e,kr,n)}function Bi(e,n){return Ss(e,Fr,n)}function po(e,n,t){if(n.length){for(var i=function(l){var f=n[0].style[l];if(f!==void 0){var s=!1;Array.isArray(f)?s=n.every(function(g){return uo(g.style[l],f)}):typeof f=="object"?s=n.every(function(g){return ho(g.style[l],f)}):s=n.every(function(g){return g.style[l]===f}),s&&(e[l]=f)}var c=e[l];if(c!==void 0)for(var p=0,d=n;p<d.length;p++){var h=d[p],v=!1;Array.isArray(f)?v=uo(h.style[l],f):typeof f=="object"?v=ho(h.style[l],f):v=h.style[l]===f,v&&delete h.style[l]}},r=0,a=t;r<a.length;r++){var o=a[r];i(o)}n.every(function(l){return Object.keys(l.style).length===0})&&(n.length=0)}}function rd(e){for(var n,t,i,r,a,o,l=e.EngineDict,f=e.ResourceDict,s=f.FontSet.map(function(B){return{name:B.Name,script:B.Script,type:B.FontType,synthetic:B.Synthetic}}),c=l.Editor.Text.replace(/\r/g,`
`),p=0;/\n$/.test(c);)c=c.substring(0,c.length-1),p++;var d={text:c,antiAlias:(n=ms[l.AntiAlias])!==null&&n!==void 0?n:"smooth",useFractionalGlyphWidths:!!l.UseFractionalGlyphWidths,superscriptSize:f.SuperscriptSize,superscriptPosition:f.SuperscriptPosition,subscriptSize:f.SubscriptSize,subscriptPosition:f.SubscriptPosition,smallCapSize:f.SmallCapSize},h=(o=(a=(r=(i=(t=l.Rendered)===null||t===void 0?void 0:t.Shapes)===null||i===void 0?void 0:i.Children)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.Cookie)===null||o===void 0?void 0:o.Photoshop;h&&(d.shapeType=h.ShapeType===1?"box":"point",h.PointBase&&(d.pointBase=h.PointBase),h.BoxBounds&&(d.boxBounds=h.BoxBounds));var v=l.ParagraphRun;d.paragraphStyle={},d.paragraphStyleRuns=[];for(var g=0;g<v.RunArray.length;g++){var y=v.RunArray[g],m=v.RunLengthArray[g],b=nd(y.ParagraphSheet.Properties,s);d.paragraphStyleRuns.push({length:m,style:b})}for(var _=p;d.paragraphStyleRuns.length&&_>0;_--)--d.paragraphStyleRuns[d.paragraphStyleRuns.length-1].length===0&&d.paragraphStyleRuns.pop();po(d.paragraphStyle,d.paragraphStyleRuns,kr),d.paragraphStyleRuns.length||delete d.paragraphStyleRuns;var S=l.StyleRun;d.style={},d.styleRuns=[];for(var g=0;g<S.RunArray.length;g++){var C=S.RunLengthArray[g],b=id(S.RunArray[g].StyleSheet.StyleSheetData,s);b.font||(b.font=s[0]),d.styleRuns.push({length:C,style:b})}for(var _=p;d.styleRuns.length&&_>0;_--)--d.styleRuns[d.styleRuns.length-1].length===0&&d.styleRuns.pop();return po(d.style,d.styleRuns,Fr),d.styleRuns.length||delete d.styleRuns,d}function ad(e){var n,t,i,r,a,o,l,f,s,c,p,d,h="".concat((e.text||"").replace(/\r?\n/g,"\r"),"\r"),v=[{name:"AdobeInvisFont",script:0,type:0,synthetic:0}],g=((n=e.style)===null||n===void 0?void 0:n.font)||((i=(t=e.styleRuns)===null||t===void 0?void 0:t.find(function(Ot){return Ot.style.font}))===null||i===void 0?void 0:i.style.font)||gs,y=[],m=[],b=e.paragraphStyleRuns;if(b&&b.length){for(var _=h.length,S=0,C=b;S<C.length;S++){var B=C[S],k=Math.min(B.length,_);_-=k,k&&(_===1&&B===b[b.length-1]&&(k++,_--),m.push(k),y.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:Zn(ae(ae(ae({},jn),e.paragraphStyle),B.style),v)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}))}_&&(m.push(_),y.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:Zn(ae(ae({},jn),e.paragraphStyle),v)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}))}else for(var N=0,z=0;N<h.length;N++)h.charCodeAt(N)===13&&(m.push(N-z+1),y.push({ParagraphSheet:{DefaultStyleSheet:0,Properties:Zn(ae(ae({},jn),e.paragraphStyle),v)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}),z=N+1);for(var R=Bi(ae(ae({},Ju),{font:g}),v),L=e.styleRuns||[{length:h.length,style:e.style||{}}],oe=[],ge=[],re=h.length,de=0,at=L;de<at.length;de++){var gt=at[de],k=Math.min(gt.length,re);re-=k,k&&(re===1&&gt===L[L.length-1]&&(k++,re--),ge.push(k),oe.push({StyleSheet:{StyleSheetData:Bi(ae(ae({kerning:0,autoKerning:!0,fillColor:{r:0,g:0,b:0}},e.style),gt.style),v)}}))}re&&L.length&&(ge.push(re),oe.push({StyleSheet:{StyleSheetData:Bi(ae({kerning:0,autoKerning:!0,fillColor:{r:0,g:0,b:0}},e.style),v)}}));var _e=ae(ae({},Qu),e.gridInfo),ot=e.orientation==="vertical"?2:0,X=e.orientation==="vertical"?1:0,At=e.shapeType==="box"?1:0,Tn={ShapeType:At};At===0?Tn.PointBase=e.pointBase||[0,0]:Tn.BoxBounds=e.boxBounds||[0,0,0,0],Tn.Base={ShapeType:At,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]};var Ir={KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"、。，．・：；？！ー―’”）〕］｝〉》」』】ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ゛゜?!)]},.:;℃℉¢％‰",NoEnd:"‘“（〔［｛〈《「『【([{￥＄£＠§〒＃",Keep:"―‥",Hanging:"、。.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"、。，．・：；？！’”）〕］｝〉》」』】ヽヾゝゞ々",NoEnd:"‘“（〔［｛〈《「『【",Keep:"―‥",Hanging:"、。.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:Zn(ae(ae({},jn),e.paragraphStyle),v)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:R}],FontSet:v.map(function(Ot){return{Name:Ot.name,Script:Ot.script||0,FontType:Ot.type||0,Synthetic:Ot.synthetic||0}}),SuperscriptSize:(r=e.superscriptSize)!==null&&r!==void 0?r:.583,SuperscriptPosition:(a=e.superscriptPosition)!==null&&a!==void 0?a:.333,SubscriptSize:(o=e.subscriptSize)!==null&&o!==void 0?o:.583,SubscriptPosition:(l=e.subscriptPosition)!==null&&l!==void 0?l:.333,SmallCapSize:(f=e.smallCapSize)!==null&&f!==void 0?f:.7},Cs={EngineDict:{Editor:{Text:h},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:y,RunLengthArray:m,IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:oe,RunLengthArray:ge,IsJoinable:2},GridInfo:{GridIsOn:!!_e.isOn,ShowGrid:!!_e.show,GridSize:(s=_e.size)!==null&&s!==void 0?s:18,GridLeading:(c=_e.leading)!==null&&c!==void 0?c:22,GridColor:lr(_e.color),GridLeadingFillColor:lr(_e.color),AlignLineHeightToGridFlags:!!_e.alignLineHeightToGridFlags},AntiAlias:ms.indexOf((p=e.antiAlias)!==null&&p!==void 0?p:"sharp"),UseFractionalGlyphWidths:(d=e.useFractionalGlyphWidths)!==null&&d!==void 0?d:!0,Rendered:{Version:1,Shapes:{WritingDirection:ot,Children:[{ShapeType:At,Procession:X,Lines:{WritingDirection:ot,Children:[]},Cookie:{Photoshop:Tn}}]}}},ResourceDict:ae({},Ir),DocumentResources:ae({},Ir)};return Cs}var u=function(){return u=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)},we="abcdefghijklmnopqrstuvwxyz",oi={};function T(e,n,t,i){var r={key:e,has:n,read:t,write:i};oi[r.key]=r}function Dt(e,n){oi[e]=oi[n]}function Q(e){return function(n){return n[e]!==void 0}}function Ni(e){if(w(e))throw new Error("Resource size above 4 GB limit at ".concat(e.offset.toString(16)));return w(e)}function vo(e,n){E(e,0),E(e,n)}T("TySh",Q("text"),function(e,n,t){if(V(e)!==1)throw new Error("Invalid TySh version");for(var i=[],r=0;r<6;r++)i.push(Re(e));if(V(e)!==50)throw new Error("Invalid TySh text version");var a=j(e);if(V(e)!==1)throw new Error("Invalid TySh warp version");var o=j(e);if(n.text={transform:i,left:Be(e),top:Be(e),right:Be(e),bottom:Be(e),text:a["Txt "].replace(/\r/g,`
`),index:a.TextIndex||0,gridding:Ba.decode(a.textGridding),antiAlias:Na.decode(a.AntA),orientation:gn.decode(a.Ornt),warp:{style:br.decode(o.warpStyle),value:o.warpValue||0,perspective:o.warpPerspective||0,perspectiveOther:o.warpPerspectiveOther||0,rotate:gn.decode(o.warpRotate)}},a.bounds&&(n.text.bounds=Ta(a.bounds)),a.boundingBox&&(n.text.boundingBox=Ta(a.boundingBox)),a.EngineData){var l=$u(a.EngineData),f=rd(l);n.text=u(u({},n.text),f)}D(e,t())},function(e,n){var t=n.text,i=t.warp||{},r=t.transform||[1,0,0,1,0,0],a=u(u(u({"Txt ":(t.text||"").replace(/\r?\n/g,"\r"),textGridding:Ba.encode(t.gridding),Ornt:gn.encode(t.orientation),AntA:Na.encode(t.antiAlias)},t.bounds?{bounds:La(t.bounds)}:{}),t.boundingBox?{boundingBox:La(t.boundingBox)}:{}),{TextIndex:t.index||0,EngineData:qu(ad(t))});$(e,1);for(var o=0;o<6;o++)it(e,r[o]);$(e,50),Z(e,"","TxLr",a,"text"),$(e,1),Z(e,"","warp",li(i)),Ne(e,t.left),Ne(e,t.top),Ne(e,t.right),Ne(e,t.bottom)});T("SoCo",function(e){return e.vectorFill!==void 0&&e.vectorStroke===void 0&&e.vectorFill.type==="color"},function(e,n){var t=j(e);n.vectorFill=An(t)},function(e,n){var t=On(n.vectorFill).descriptor;Z(e,"","null",t)});T("GdFl",function(e){return e.vectorFill!==void 0&&e.vectorStroke===void 0&&(e.vectorFill.type==="solid"||e.vectorFill.type==="noise")},function(e,n,t){var i=j(e);n.vectorFill=An(i),D(e,t())},function(e,n){var t=On(n.vectorFill).descriptor;Z(e,"","null",t)});T("PtFl",function(e){return e.vectorFill!==void 0&&e.vectorStroke===void 0&&e.vectorFill.type==="pattern"},function(e,n){var t=j(e);n.vectorFill=An(t)},function(e,n){var t=On(n.vectorFill).descriptor;Z(e,"","null",t)});T("vscg",function(e){return e.vectorFill!==void 0&&e.vectorStroke!==void 0},function(e,n,t){te(e);var i=j(e);n.vectorFill=An(i),D(e,t())},function(e,n){var t=On(n.vectorFill),i=t.descriptor,r=t.key;U(e,r),Z(e,"","null",i)});function od(e,n,t){var i=Me(e)*t,r=Me(e)*n,a=Me(e)*t,o=Me(e)*n,l=Me(e)*t,f=Me(e)*n;return[r,i,o,a,f,l]}function ld(e,n,t,i){ze(e,n[1]/i),ze(e,n[0]/t),ze(e,n[3]/i),ze(e,n[2]/t),ze(e,n[5]/i),ze(e,n[4]/t)}var xs=["exclude","combine","subtract","intersect"];function sd(e,n,t,i,r){for(var a=e.offset+r,o=n.paths,l=void 0;a-e.offset>=26;){var f=F(e);switch(f){case 0:case 3:{F(e);var s=V(e),c=F(e);D(e,18),l={open:f===3,knots:[],fillRule:c===2?"non-zero":"even-odd"},s!==-1&&(l.operation=xs[s]),o.push(l);break}case 1:case 2:case 4:case 5:l.knots.push({linked:f===1||f===4,points:od(e,t,i)});break;case 6:D(e,24);break;case 7:{var p=Me(e),d=Me(e),h=Me(e),v=Me(e),g=Me(e);D(e,4),n.clipboard={top:p,left:d,bottom:h,right:v,resolution:g};break}case 8:n.fillStartsWithAllPixels=!!F(e),D(e,22);break;default:throw new Error("Invalid vmsk section")}}return o}T("vmsk",Q("vectorMask"),function(e,n,t,i){var r=i.width,a=i.height;if(w(e)!==3)throw new Error("Invalid vmsk version");n.vectorMask={paths:[]};var o=n.vectorMask,l=w(e);o.invert=(l&1)!==0,o.notLink=(l&2)!==0,o.disable=(l&4)!==0,sd(e,o,r,a,t()),D(e,t())},function(e,n,t){var i=t.width,r=t.height,a=n.vectorMask,o=(a.invert?1:0)|(a.notLink?2:0)|(a.disable?4:0);E(e,3),E(e,o),x(e,6),q(e,24);var l=a.clipboard;l&&(x(e,7),ze(e,l.top),ze(e,l.left),ze(e,l.bottom),ze(e,l.right),ze(e,l.resolution),q(e,4)),a.fillStartsWithAllPixels!==void 0&&(x(e,8),x(e,a.fillStartsWithAllPixels?1:0),q(e,22));for(var f=0,s=a.paths;f<s.length;f++){var c=s[f];x(e,c.open?3:0),x(e,c.knots.length),x(e,c.operation?xs.indexOf(c.operation):-1),x(e,c.fillRule==="non-zero"?2:1),q(e,18);for(var p=c.open?4:1,d=c.open?5:2,h=0,v=c.knots;h<v.length;h++){var g=v[h],y=g.linked,m=g.points;x(e,y?p:d),ld(e,m,i,r)}}});Dt("vsms","vmsk");T("vogk",Q("vectorOrigination"),function(e,n,t){if(P(e)!==1)throw new Error("Invalid vogk version");var i=j(e);n.vectorOrigination={keyDescriptorList:[]};for(var r=0,a=i.keyDescriptorList;r<a.length;r++){var o=a[r],l={};o.keyShapeInvalidated!=null&&(l.keyShapeInvalidated=o.keyShapeInvalidated),o.keyOriginType!=null&&(l.keyOriginType=o.keyOriginType),o.keyOriginResolution!=null&&(l.keyOriginResolution=o.keyOriginResolution),o.keyOriginShapeBBox&&(l.keyOriginShapeBoundingBox={top:ct(o.keyOriginShapeBBox["Top "]),left:ct(o.keyOriginShapeBBox.Left),bottom:ct(o.keyOriginShapeBBox.Btom),right:ct(o.keyOriginShapeBBox.Rght)});var f=o.keyOriginRRectRadii;f&&(l.keyOriginRRectRadii={topRight:K(f.topRight),topLeft:K(f.topLeft),bottomLeft:K(f.bottomLeft),bottomRight:K(f.bottomRight)});var s=o.keyOriginBoxCorners;s&&(l.keyOriginBoxCorners=[{x:s.rectangleCornerA.Hrzn,y:s.rectangleCornerA.Vrtc},{x:s.rectangleCornerB.Hrzn,y:s.rectangleCornerB.Vrtc},{x:s.rectangleCornerC.Hrzn,y:s.rectangleCornerC.Vrtc},{x:s.rectangleCornerD.Hrzn,y:s.rectangleCornerD.Vrtc}]);var c=o.Trnf;c&&(l.transform=[c.xx,c.xy,c.xy,c.yy,c.tx,c.ty]),n.vectorOrigination.keyDescriptorList.push(l)}D(e,t())},function(e,n){for(var t=n.vectorOrigination,i={keyDescriptorList:[]},r=0;r<t.keyDescriptorList.length;r++){var a=t.keyDescriptorList[r];if(a.keyShapeInvalidated)i.keyDescriptorList.push({keyShapeInvalidated:!0,keyOriginIndex:r});else{i.keyDescriptorList.push({});var o=i.keyDescriptorList[i.keyDescriptorList.length-1];a.keyOriginType!=null&&(o.keyOriginType=a.keyOriginType),a.keyOriginResolution!=null&&(o.keyOriginResolution=a.keyOriginResolution);var l=a.keyOriginRRectRadii;l&&(o.keyOriginRRectRadii={unitValueQuadVersion:1,topRight:ne(l.topRight,"topRight"),topLeft:ne(l.topLeft,"topLeft"),bottomLeft:ne(l.bottomLeft,"bottomLeft"),bottomRight:ne(l.bottomRight,"bottomRight")});var f=a.keyOriginShapeBoundingBox;f&&(o.keyOriginShapeBBox={unitValueQuadVersion:1,"Top ":ne(f.top,"top"),Left:ne(f.left,"left"),Btom:ne(f.bottom,"bottom"),Rght:ne(f.right,"right")});var s=a.keyOriginBoxCorners;s&&s.length===4&&(o.keyOriginBoxCorners={rectangleCornerA:{Hrzn:s[0].x,Vrtc:s[0].y},rectangleCornerB:{Hrzn:s[1].x,Vrtc:s[1].y},rectangleCornerC:{Hrzn:s[2].x,Vrtc:s[2].y},rectangleCornerD:{Hrzn:s[3].x,Vrtc:s[3].y}});var c=a.transform;c&&c.length===6&&(o.Trnf={xx:c[0],xy:c[1],yx:c[2],yy:c[3],tx:c[4],ty:c[5]}),o.keyOriginIndex=r}}G(e,1),Z(e,"","null",i)});T("lmfx",function(e){return e.effects!==void 0&&ws(e.effects)},function(e,n,t,i,r){var a=w(e);if(a!==0)throw new Error("Invalid lmfx version");var o=j(e);n.effects=di(o,!!r.logMissingFeatures),D(e,t())},function(e,n,t,i){var r=ui(n.effects,!!i.logMissingFeatures,!0);E(e,0),Z(e,"","null",r)});T("lrFX",Q("effects"),function(e,n,t){n.effects||(n.effects=Wu(e)),D(e,t())},function(e,n){Xu(e,n.effects)});T("luni",Q("name"),function(e,n,t){n.name=le(e),D(e,t())},function(e,n){Ce(e,n.name)});T("lnsr",Q("nameSource"),function(e,n){return n.nameSource=te(e)},function(e,n){return U(e,n.nameSource)});T("lyid",Q("id"),function(e,n){return n.id=w(e)},function(e,n,t,i){for(var r=n.id;i.layerIds.has(r);)r+=100;E(e,r),i.layerIds.add(r),i.layerToId.set(n,r)});T("lsct",Q("sectionDivider"),function(e,n,t){n.sectionDivider={type:w(e)},t()&&(pt(e,"8BIM"),n.sectionDivider.key=te(e)),t()&&(n.sectionDivider.subType=w(e))},function(e,n){E(e,n.sectionDivider.type),n.sectionDivider.key&&(U(e,"8BIM"),U(e,n.sectionDivider.key),n.sectionDivider.subType!==void 0&&E(e,n.sectionDivider.subType))});Dt("lsdk","lsct");T("clbl",Q("blendClippendElements"),function(e,n){n.blendClippendElements=!!A(e),D(e,3)},function(e,n){O(e,n.blendClippendElements?1:0),q(e,3)});T("infx",Q("blendInteriorElements"),function(e,n){n.blendInteriorElements=!!A(e),D(e,3)},function(e,n){O(e,n.blendInteriorElements?1:0),q(e,3)});T("knko",Q("knockout"),function(e,n){n.knockout=!!A(e),D(e,3)},function(e,n){O(e,n.knockout?1:0),q(e,3)});T("lmgm",Q("layerMaskAsGlobalMask"),function(e,n){n.layerMaskAsGlobalMask=!!A(e),D(e,3)},function(e,n){O(e,n.layerMaskAsGlobalMask?1:0),q(e,3)});T("lspf",Q("protected"),function(e,n){var t=w(e);n.protected={transparency:(t&1)!==0,composite:(t&2)!==0,position:(t&4)!==0},t&8&&(n.protected.artboards=!0)},function(e,n){var t=(n.protected.transparency?1:0)|(n.protected.composite?2:0)|(n.protected.position?4:0)|(n.protected.artboards?8:0);E(e,t)});T("lclr",Q("layerColor"),function(e,n){var t=F(e);D(e,6),n.layerColor=ba[t]},function(e,n){var t=ba.indexOf(n.layerColor);x(e,t===-1?0:t),q(e,6)});T("shmd",function(e){return e.timestamp!==void 0||e.animationFrames!==void 0||e.animationFrameFlags!==void 0||e.timeline!==void 0||e.comps!==void 0},function(e,n,t,i,r){for(var a=w(e),o=function(f){pt(e,"8BIM");var s=te(e);A(e),D(e,3),Ee(e,1,function(c){if(s==="cust"){var p=j(e);p.layerTime!==void 0&&(n.timestamp=p.layerTime)}else if(s==="mlst"){var p=j(e);n.animationFrames=[];for(var d=0;d<p.LaSt.length;d++){var h=p.LaSt[d],v={frames:h.FrLs};h.enab!==void 0&&(v.enable=h.enab),h.Ofst&&(v.offset=hn(h.Ofst)),h.FXRf&&(v.referencePoint=hn(h.FXRf)),h.Lefx&&(v.effects=di(h.Lefx,!!r.logMissingFeatures)),h.blendOptions&&h.blendOptions.Opct&&(v.opacity=ee(h.blendOptions.Opct)),n.animationFrames.push(v)}}else if(s==="mdyn"){F(e);var g=A(e),y=A(e);n.animationFrameFlags={propagateFrameOne:!g,unifyLayerPosition:(y&1)!==0,unifyLayerStyle:(y&2)!==0,unifyLayerVisibility:(y&4)!==0}}else if(s==="tmln"){var p=j(e),m=p.timeScope,b={start:me(m.Strt),duration:me(m.duration),inTime:me(m.inTime),outTime:me(m.outTime),autoScope:p.autoScope,audioLevel:p.audioLevel};p.trackList&&(b.tracks=yl(p.trackList,!!r.logMissingFeatures)),n.timeline=b}else if(s==="cmls"){var p=j(e);n.comps={settings:[]},p.origFXRefPoint&&(n.comps.originalEffectsReferencePoint={x:p.origFXRefPoint.Hrzn,y:p.origFXRefPoint.Vrtc});for(var _=0,S=p.layerSettings;_<S.length;_++){var C=S[_];n.comps.settings.push({compList:C.compList});var B=n.comps.settings[n.comps.settings.length-1];"enab"in C&&(B.enabled=C.enab),C.Ofst&&(B.offset={x:C.Ofst.Hrzn,y:C.Ofst.Vrtc}),C.FXRefPoint&&(B.effectsReferencePoint={x:C.FXRefPoint.Hrzn,y:C.FXRefPoint.Vrtc})}}else r.logMissingFeatures&&console.log('Unhandled "shmd" section key',s);D(e,c())})},l=0;l<a;l++)o();D(e,t())},function(e,n,t,i){var r=n.animationFrames,a=n.animationFrameFlags,o=n.timestamp,l=n.timeline,f=n.comps,s=0;r&&s++,a&&s++,l&&s++,o!==void 0&&s++,f&&s++,E(e,s),r&&(U(e,"8BIM"),U(e,"mlst"),O(e,0),q(e,3),_t(e,2,function(){for(var c,p={LaID:(c=n.id)!==null&&c!==void 0?c:0,LaSt:[]},d=0;d<r.length;d++){var h=r[d],v={};h.enable!==void 0&&(v.enab=h.enable),v.FrLs=h.frames,h.offset&&(v.Ofst=pn(h.offset)),h.referencePoint&&(v.FXRf=pn(h.referencePoint)),h.effects&&(v.Lefx=ui(h.effects,!1,!1)),h.opacity!==void 0&&(v.blendOptions={Opct:ce(h.opacity)}),p.LaSt.push(v)}Z(e,"","null",p)},!0)),a&&(U(e,"8BIM"),U(e,"mdyn"),O(e,0),q(e,3),_t(e,2,function(){x(e,0),O(e,a.propagateFrameOne?0:15),O(e,(a.unifyLayerPosition?1:0)|(a.unifyLayerStyle?2:0)|(a.unifyLayerVisibility?4:0))})),l&&(U(e,"8BIM"),U(e,"tmln"),O(e,0),q(e,3),_t(e,2,function(){var c={Vrsn:1,timeScope:{Vrsn:1,Strt:l.start,duration:l.duration,inTime:l.inTime,outTime:l.outTime},autoScope:l.autoScope,audioLevel:l.audioLevel};l.tracks&&(c.trackList=_l(l.tracks));var p=i.layerToId.get(n)||n.id;if(!p)throw new Error("You need to provide layer.id value whan writing document with animations");c.LyrI=p,Z(e,"","null",c,"anim")},!0)),o!==void 0&&(U(e,"8BIM"),U(e,"cust"),O(e,0),q(e,3),_t(e,2,function(){var c={layerTime:o};Z(e,"","metadata",c)},!0)),f&&(U(e,"8BIM"),U(e,"cmls"),O(e,0),q(e,3),_t(e,2,function(){var c=i.layerToId.get(n)||n.id;if(!c)throw new Error("You need to provide layer.id value whan writing document with layer comps");var p={};f.originalEffectsReferencePoint&&(p.origFXRefPoint={Hrzn:f.originalEffectsReferencePoint.x,Vrtc:f.originalEffectsReferencePoint.y}),p.LyrI=c,p.layerSettings=[];for(var d=0,h=f.settings;d<h.length;d++){var v=h[d],g={};v.enabled!==void 0&&(g.enab=v.enabled),v.offset&&(g.Ofst={Hrzn:v.offset.x,Vrtc:v.offset.y}),v.effectsReferencePoint&&(g.FXRefPoint={Hrzn:v.effectsReferencePoint.x,Vrtc:v.effectsReferencePoint.y}),g.compList=v.compList,p.layerSettings.push(g)}Z(e,"","null",p)},!0))});T("vstk",Q("vectorStroke"),function(e,n,t){var i=j(e);n.vectorStroke={strokeEnabled:i.strokeEnabled,fillEnabled:i.fillEnabled,lineWidth:K(i.strokeStyleLineWidth),lineDashOffset:K(i.strokeStyleLineDashOffset),miterLimit:i.strokeStyleMiterLimit,lineCapType:Za.decode(i.strokeStyleLineCapType),lineJoinType:Wa.decode(i.strokeStyleLineJoinType),lineAlignment:Xa.decode(i.strokeStyleLineAlignment),scaleLock:i.strokeStyleScaleLock,strokeAdjust:i.strokeStyleStrokeAdjust,lineDashSet:i.strokeStyleLineDashSet.map(K),blendMode:Le.decode(i.strokeStyleBlendMode),opacity:ee(i.strokeStyleOpacity),content:An(i.strokeStyleContent),resolution:i.strokeStyleResolution},D(e,t())},function(e,n){var t,i,r,a=n.vectorStroke,o={strokeStyleVersion:2,strokeEnabled:!!a.strokeEnabled,fillEnabled:!!a.fillEnabled,strokeStyleLineWidth:a.lineWidth||{value:3,units:"Points"},strokeStyleLineDashOffset:a.lineDashOffset||{value:0,units:"Points"},strokeStyleMiterLimit:(t=a.miterLimit)!==null&&t!==void 0?t:100,strokeStyleLineCapType:Za.encode(a.lineCapType),strokeStyleLineJoinType:Wa.encode(a.lineJoinType),strokeStyleLineAlignment:Xa.encode(a.lineAlignment),strokeStyleScaleLock:!!a.scaleLock,strokeStyleStrokeAdjust:!!a.strokeAdjust,strokeStyleLineDashSet:a.lineDashSet||[],strokeStyleBlendMode:Le.encode(a.blendMode),strokeStyleOpacity:ce((i=a.opacity)!==null&&i!==void 0?i:1),strokeStyleContent:On(a.content||{type:"color",color:{r:0,g:0,b:0}}).descriptor,strokeStyleResolution:(r=a.resolution)!==null&&r!==void 0?r:72};Z(e,"","strokeStyle",o)});T("artb",Q("artboard"),function(e,n,t){var i=j(e),r=i.artboardRect;n.artboard={rect:{top:r["Top "],left:r.Left,bottom:r.Btom,right:r.Rght},guideIndices:i.guideIndeces,presetName:i.artboardPresetName,color:Ue(i["Clr "]),backgroundType:i.artboardBackgroundType},D(e,t())},function(e,n){var t,i=n.artboard,r=i.rect,a={artboardRect:{"Top ":r.top,Left:r.left,Btom:r.bottom,Rght:r.right},guideIndeces:i.guideIndices||[],artboardPresetName:i.presetName||"","Clr ":Ge(i.color),artboardBackgroundType:(t=i.backgroundType)!==null&&t!==void 0?t:1};Z(e,"","artboard",a)});T("sn2P",Q("usingAlignedRendering"),function(e,n){return n.usingAlignedRendering=!!w(e)},function(e,n){return E(e,n.usingAlignedRendering?1:0)});var Gt=["unknown","vector","raster","image stack"];function ks(e){var n,t,i,r,a,o,l=u(u({style:br.decode(e.warpStyle)},e.warpValues?{values:e.warpValues}:{value:e.warpValue||0}),{perspective:e.warpPerspective||0,perspectiveOther:e.warpPerspectiveOther||0,rotate:gn.decode(e.warpRotate),bounds:e.bounds&&{top:ct(e.bounds["Top "]),left:ct(e.bounds.Left),bottom:ct(e.bounds.Btom),right:ct(e.bounds.Rght)},uOrder:e.uOrder,vOrder:e.vOrder});(e.deformNumRows!=null||e.deformNumCols!=null)&&(l.deformNumRows=e.deformNumRows,l.deformNumCols=e.deformNumCols);var f=e.customEnvelopeWarp;if(f){l.customEnvelopeWarp={meshPoints:[]};for(var s=((n=f.meshPoints.find(function(d){return d.type==="Hrzn"}))===null||n===void 0?void 0:n.values)||[],c=((t=f.meshPoints.find(function(d){return d.type==="Vrtc"}))===null||t===void 0?void 0:t.values)||[],p=0;p<s.length;p++)l.customEnvelopeWarp.meshPoints.push({x:s[p],y:c[p]});(f.quiltSliceX||f.quiltSliceY)&&(l.customEnvelopeWarp.quiltSliceX=((r=(i=f.quiltSliceX)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.values)||[],l.customEnvelopeWarp.quiltSliceY=((o=(a=f.quiltSliceY)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.values)||[])}return l}function wr(e){var n,t;return e.deformNumCols!=null||e.deformNumRows!=null||((n=e.customEnvelopeWarp)===null||n===void 0?void 0:n.quiltSliceX)||((t=e.customEnvelopeWarp)===null||t===void 0?void 0:t.quiltSliceY)}function li(e){var n=e.bounds,t=u(u({warpStyle:br.encode(e.style)},e.values?{warpValues:e.values}:{warpValue:e.value||0}),{warpPerspective:e.perspective||0,warpPerspectiveOther:e.perspectiveOther||0,warpRotate:gn.encode(e.rotate),bounds:{"Top ":ne(n&&n.top||{units:"Pixels",value:0},"bounds.top"),Left:ne(n&&n.left||{units:"Pixels",value:0},"bounds.left"),Btom:ne(n&&n.bottom||{units:"Pixels",value:0},"bounds.bottom"),Rght:ne(n&&n.right||{units:"Pixels",value:0},"bounds.right")},uOrder:e.uOrder||0,vOrder:e.vOrder||0}),i=wr(e);if(i){var r=t;r.deformNumRows=e.deformNumRows||0,r.deformNumCols=e.deformNumCols||0}var a=e.customEnvelopeWarp;if(a){var o=a.meshPoints||[];if(i){var r=t;r.customEnvelopeWarp={_name:"",_classID:"customEnvelopeWarp",quiltSliceX:[{type:"quiltSliceX",values:a.quiltSliceX||[]}],quiltSliceY:[{type:"quiltSliceY",values:a.quiltSliceY||[]}],meshPoints:[{type:"Hrzn",values:o.map(function(f){return f.x})},{type:"Vrtc",values:o.map(function(f){return f.y})}]}}else t.customEnvelopeWarp={_name:"",_classID:"customEnvelopeWarp",meshPoints:[{type:"Hrzn",values:o.map(function(l){return l.x})},{type:"Vrtc",values:o.map(function(l){return l.y})}]}}return t}T("PlLd",Q("placedLayer"),function(e,n,t){if(te(e)!=="plcL")throw new Error("Invalid PlLd signature");if(P(e)!==3)throw new Error("Invalid PlLd version");var i=nt(e,1),r=P(e),a=P(e);P(e);var o=P(e);if(!Gt[o])throw new Error("Invalid PlLd type");for(var l=[],f=0;f<8;f++)l.push(Re(e));var s=P(e);if(s!==0)throw new Error("Invalid Warp version ".concat(s));var c=j(e);n.placedLayer=n.placedLayer||{id:i,type:Gt[o],pageNumber:r,totalPages:a,transform:l,warp:ks(c)},D(e,t())},function(e,n){var t=n.placedLayer;if(U(e,"plcL"),G(e,3),!t.id||typeof t.id!="string"||!/^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$/.test(t.id))throw new Error("Placed layer ID must be in a GUID format (example: 20953ddb-9391-11ec-b4f1-c15674f50bc4)");if(Ft(e,t.id,1),G(e,1),G(e,1),G(e,16),Gt.indexOf(t.type)===-1)throw new Error("Invalid placedLayer type");G(e,Gt.indexOf(t.type));for(var i=0;i<8;i++)it(e,t.transform[i]);G(e,0);var r=Fs(t),a=wr(r),o=a?"quiltWarp":"warp";Z(e,"",o,li(r),o)});function fd(e){return new Float32Array(e.buffer.slice(e.byteOffset),0,e.byteLength/4)}function cd(e){return new Uint32Array(e.buffer.slice(e.byteOffset),0,e.byteLength/4)}function Ui(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function Qn(e){for(var n=[],t=0;t<e.length;t+=2)n.push({x:e[t],y:e[t+1]});return n}function nn(e){for(var n=[],t=0;t<e.length;t++)n.push(e[t].x,e[t].y);return n}function go(e){return Qn(fd(e))}function Gi(e){return{x:K(e.Hrzn),y:K(e.Vrtc)}}function Vi(e){return{_name:"",_classID:"Pnt ",Hrzn:ne(e.x,"x"),Vrtc:ne(e.y,"y")}}function ud(e,n){var t={name:e["Nm  "],opacity:ee(e.blendOptions.Opct),blendMode:Le.decode(e.blendOptions["Md  "]),enabled:e.enab,hasOptions:e.hasoptions,foregroundColor:Ue(e.FrgC),backgroundColor:Ue(e.BckC)};if("Fltr"in e)switch(e.Fltr._classID){case"boxblur":return u(u({},t),{type:"box blur",filter:{radius:K(e.Fltr["Rds "])}});case"GsnB":return u(u({},t),{type:"gaussian blur",filter:{radius:K(e.Fltr["Rds "])}});case"MtnB":return u(u({},t),{type:"motion blur",filter:{angle:e.Fltr.Angl,distance:K(e.Fltr.Dstn)}});case"RdlB":return u(u({},t),{type:"radial blur",filter:{amount:e.Fltr.Amnt,method:Ml.decode(e.Fltr.BlrM),quality:zl.decode(e.Fltr.BlrQ)}});case"shapeBlur":return u(u({},t),{type:"shape blur",filter:{radius:K(e.Fltr["Rds "]),customShape:{name:e.Fltr.customShape["Nm  "],id:e.Fltr.customShape.Idnt}}});case"SmrB":return u(u({},t),{type:"smart blur",filter:{radius:e.Fltr["Rds "],threshold:e.Fltr.Thsh,quality:Nl.decode(e.Fltr.SmBQ),mode:Bl.decode(e.Fltr.SmBM)}});case"surfaceBlur":return u(u({},t),{type:"surface blur",filter:{radius:K(e.Fltr["Rds "]),threshold:e.Fltr.Thsh}});case"Dspl":return u(u({},t),{type:"displace",filter:{horizontalScale:e.Fltr.HrzS,verticalScale:e.Fltr.VrtS,displacementMap:Ul.decode(e.Fltr.DspM),undefinedAreas:Ht.decode(e.Fltr.UndA),displacementFile:{signature:e.Fltr.DspF.sig,path:e.Fltr.DspF.path}}});case"Pnch":return u(u({},t),{type:"pinch",filter:{amount:e.Fltr.Amnt}});case"Plr ":return u(u({},t),{type:"polar coordinates",filter:{conversion:Gl.decode(e.Fltr.Cnvr)}});case"Rple":return u(u({},t),{type:"ripple",filter:{amount:e.Fltr.Amnt,size:Vl.decode(e.Fltr.RplS)}});case"Shr ":return u(u({},t),{type:"shear",filter:{shearPoints:e.Fltr.ShrP.map(function(l){return{x:l.Hrzn,y:l.Vrtc}}),shearStart:e.Fltr.ShrS,shearEnd:e.Fltr.ShrE,undefinedAreas:Ht.decode(e.Fltr.UndA)}});case"Sphr":return u(u({},t),{type:"spherize",filter:{amount:e.Fltr.Amnt,mode:Hl.decode(e.Fltr.SphM)}});case"Twrl":return u(u({},t),{type:"twirl",filter:{angle:e.Fltr.Angl}});case"Wave":return u(u({},t),{type:"wave",filter:{numberOfGenerators:e.Fltr.NmbG,type:jl.decode(e.Fltr.Wvtp),wavelength:{min:e.Fltr.WLMn,max:e.Fltr.WLMx},amplitude:{min:e.Fltr.AmMn,max:e.Fltr.AmMx},scale:{x:e.Fltr.SclH,y:e.Fltr.SclV},randomSeed:e.Fltr.RndS,undefinedAreas:Ht.decode(e.Fltr.UndA)}});case"ZgZg":return u(u({},t),{type:"zigzag",filter:{amount:e.Fltr.Amnt,ridges:e.Fltr.NmbR,style:Zl.decode(e.Fltr.ZZTy)}});case"AdNs":return u(u({},t),{type:"add noise",filter:{amount:ee(e.Fltr.Nose),distribution:Wl.decode(e.Fltr.Dstr),monochromatic:e.Fltr.Mnch,randomSeed:e.Fltr.FlRs}});case"DstS":return u(u({},t),{type:"dust and scratches",filter:{radius:e.Fltr["Rds "],threshold:e.Fltr.Thsh}});case"Mdn ":return u(u({},t),{type:"median",filter:{radius:K(e.Fltr["Rds "])}});case"denoise":return u(u({},t),{type:"reduce noise",filter:{preset:e.Fltr.preset,removeJpegArtifact:e.Fltr.removeJPEGArtifact,reduceColorNoise:ee(e.Fltr.ClNs),sharpenDetails:ee(e.Fltr.Shrp),channelDenoise:e.Fltr.channelDenoise.map(function(l){return u({channels:l.Chnl.map(function(f){return Xl.decode(f)}),amount:l.Amnt},l.EdgF?{preserveDetails:l.EdgF}:{})})}});case"ClrH":return u(u({},t),{type:"color halftone",filter:{radius:e.Fltr["Rds "],angle1:e.Fltr.Ang1,angle2:e.Fltr.Ang2,angle3:e.Fltr.Ang3,angle4:e.Fltr.Ang4}});case"Crst":return u(u({},t),{type:"crystallize",filter:{cellSize:e.Fltr.ClSz,randomSeed:e.Fltr.FlRs}});case"Mztn":return u(u({},t),{type:"mezzotint",filter:{type:$l.decode(e.Fltr.MztT),randomSeed:e.Fltr.FlRs}});case"Msc ":return u(u({},t),{type:"mosaic",filter:{cellSize:K(e.Fltr.ClSz)}});case"Pntl":return u(u({},t),{type:"pointillize",filter:{cellSize:e.Fltr.ClSz,randomSeed:e.Fltr.FlRs}});case"Clds":return u(u({},t),{type:"clouds",filter:{randomSeed:e.Fltr.FlRs}});case"DfrC":return u(u({},t),{type:"difference clouds",filter:{randomSeed:e.Fltr.FlRs}});case"Fbrs":return u(u({},t),{type:"fibers",filter:{variance:e.Fltr.Vrnc,strength:e.Fltr.Strg,randomSeed:e.Fltr.RndS}});case"LnsF":return u(u({},t),{type:"lens flare",filter:{brightness:e.Fltr.Brgh,position:{x:e.Fltr.FlrC.Hrzn,y:e.Fltr.FlrC.Vrtc},lensType:Yl.decode(e.Fltr["Lns "])}});case"smartSharpen":return u(u({},t),{type:"smart sharpen",filter:{amount:ee(e.Fltr.Amnt),radius:K(e.Fltr["Rds "]),threshold:e.Fltr.Thsh,angle:e.Fltr.Angl,moreAccurate:e.Fltr.moreAccurate,blur:Kl.decode(e.Fltr.blur),preset:e.Fltr.preset,shadow:{fadeAmount:ee(e.Fltr.sdwM.Amnt),tonalWidth:ee(e.Fltr.sdwM.Wdth),radius:e.Fltr.sdwM["Rds "]},highlight:{fadeAmount:ee(e.Fltr.hglM.Amnt),tonalWidth:ee(e.Fltr.hglM.Wdth),radius:e.Fltr.hglM["Rds "]}}});case"UnsM":return u(u({},t),{type:"unsharp mask",filter:{amount:ee(e.Fltr.Amnt),radius:K(e.Fltr["Rds "]),threshold:e.Fltr.Thsh}});case"Dfs ":return u(u({},t),{type:"diffuse",filter:{mode:ql.decode(e.Fltr["Md  "]),randomSeed:e.Fltr.FlRs}});case"Embs":return u(u({},t),{type:"emboss",filter:{angle:e.Fltr.Angl,height:e.Fltr.Hght,amount:e.Fltr.Amnt}});case"Extr":return u(u({},t),{type:"extrude",filter:{type:Jl.decode(e.Fltr.ExtT),size:e.Fltr.ExtS,depth:e.Fltr.ExtD,depthMode:Ql.decode(e.Fltr.ExtR),randomSeed:e.Fltr.FlRs,solidFrontFaces:e.Fltr.ExtF,maskIncompleteBlocks:e.Fltr.ExtM}});case"Tls ":return u(u({},t),{type:"tiles",filter:{numberOfTiles:e.Fltr.TlNm,maximumOffset:e.Fltr.TlOf,fillEmptyAreaWith:es.decode(e.Fltr.FlCl),randomSeed:e.Fltr.FlRs}});case"TrcC":return u(u({},t),{type:"trace contour",filter:{level:e.Fltr["Lvl "],edge:ts.decode(e.Fltr["Edg "])}});case"Wnd ":return u(u({},t),{type:"wind",filter:{method:ns.decode(e.Fltr.WndM),direction:is.decode(e.Fltr.Drct)}});case"Dntr":return u(u({},t),{type:"de-interlace",filter:{eliminate:rs.decode(e.Fltr.IntE),newFieldsBy:as.decode(e.Fltr.IntC)}});case"Cstm":return u(u({},t),{type:"custom",filter:{scale:e.Fltr["Scl "],offset:e.Fltr.Ofst,matrix:e.Fltr.Mtrx}});case"HghP":return u(u({},t),{type:"high pass",filter:{radius:K(e.Fltr["Rds "])}});case"Mxm ":return u(u({},t),{type:"maximum",filter:{radius:K(e.Fltr["Rds "])}});case"Mnm ":return u(u({},t),{type:"minimum",filter:{radius:K(e.Fltr["Rds "])}});case"Ofst":return u(u({},t),{type:"offset",filter:{horizontal:e.Fltr.Hrzn,vertical:e.Fltr.Vrtc,undefinedAreas:os.decode(e.Fltr["Fl  "])}});case"rigidTransform":return u(u({},t),{type:"puppet",filter:{rigidType:e.Fltr.rigidType,bounds:[{x:e.Fltr.PuX0,y:e.Fltr.PuY0},{x:e.Fltr.PuX1,y:e.Fltr.PuY1},{x:e.Fltr.PuX2,y:e.Fltr.PuY2},{x:e.Fltr.PuX3,y:e.Fltr.PuY3}],puppetShapeList:e.Fltr.puppetShapeList.map(function(l){return{rigidType:l.rigidType,originalVertexArray:go(l.originalVertexArray),deformedVertexArray:go(l.deformedVertexArray),indexArray:Array.from(cd(l.indexArray)),pinOffsets:Qn(l.pinOffsets),posFinalPins:Qn(l.posFinalPins),pinVertexIndices:l.pinVertexIndices,selectedPin:l.selectedPin,pinPosition:Qn(l.PinP),pinRotation:l.PnRt,pinOverlay:l.PnOv,pinDepth:l.PnDp,meshQuality:l.meshQuality,meshExpansion:l.meshExpansion,meshRigidity:l.meshRigidity,imageResolution:l.imageResolution,meshBoundaryPath:{pathComponents:l.meshBoundaryPath.pathComponents.map(function(f){return{shapeOperation:f.shapeOperation.split(".")[1],paths:f.SbpL.map(function(s){return{closed:s.Clsp,points:s["Pts "].map(function(c){return{anchor:Gi(c.Anch),forward:Gi(c["Fwd "]),backward:Gi(c["Bwd "]),smooth:c.Smoo}})}})}})}}})}});case"PbPl":{for(var i=[],r=e.Fltr,a=0;a<we.length&&r["PN".concat(we[a],"a")];a++)for(var o=0;o<we.length&&r["PN".concat(we[a]).concat(we[o])];o++)i.push({name:r["PN".concat(we[a]).concat(we[o])],value:r["PF".concat(we[a]).concat(we[o])]});return u(u({},t),{type:"oil paint plugin",filter:{name:e.Fltr.KnNm,gpu:e.Fltr.GpuY,lighting:e.Fltr.LIWy,parameters:i}})}case"HsbP":return u(u({},t),{type:"hsb/hsl",filter:{inputMode:ri.decode(e.Fltr.Inpt),rowOrder:ri.decode(e.Fltr.Otpt)}});case"oilPaint":return u(u({},t),{type:"oil paint",filter:{lightingOn:e.Fltr.lightingOn,stylization:e.Fltr.stylization,cleanliness:e.Fltr.cleanliness,brushScale:e.Fltr.brushScale,microBrush:e.Fltr.microBrush,lightDirection:e.Fltr.LghD,specularity:e.Fltr.specularity}});case"LqFy":return u(u({},t),{type:"liquify",filter:{liquifyMesh:e.Fltr.LqMe}});default:if(n.throwForMissingFeatures)throw new Error("Unknown filter classId: ".concat(e.Fltr._classID));return}else switch(e.filterID){case 1098281575:return u(u({},t),{type:"average"});case 1114403360:return u(u({},t),{type:"blur"});case 1114403405:return u(u({},t),{type:"blur more"});case 1148416099:return u(u({},t),{type:"despeckle"});case 1180922912:return u(u({},t),{type:"facet"});case 1181902701:return u(u({},t),{type:"fragment"});case 1399353968:return u(u({},t),{type:"sharpen"});case 1399353925:return u(u({},t),{type:"sharpen edges"});case 1399353933:return u(u({},t),{type:"sharpen more"});case 1181639749:return u(u({},t),{type:"find edges"});case 1399616122:return u(u({},t),{type:"solarize"});case 1314149187:return u(u({},t),{type:"ntsc colors"});default:if(n.throwForMissingFeatures)throw new Error("Unknown filterID: ".concat(e.filterID))}}function dd(e,n){return{enabled:e.enab,validAtPosition:e.validAtPosition,maskEnabled:e.filterMaskEnable,maskLinked:e.filterMaskLinked,maskExtendWithWhite:e.filterMaskExtendWithWhite,list:e.filterFXList.map(function(t){return ud(t,n)}).filter(function(t){return!!t})}}function He(e){return ne(e.radius,"radius")}function hd(e){var n={_name:"",_classID:"filterFX","Nm  ":e.name,blendOptions:{_name:"",_classID:"blendOptions",Opct:Ae(e.opacity),"Md  ":Le.encode(e.blendMode)},enab:e.enabled,hasoptions:e.hasOptions,FrgC:Ge(e.foregroundColor),BckC:Ge(e.backgroundColor)};switch(e.type){case"average":return u(u({},n),{filterID:1098281575});case"blur":return u(u({},n),{filterID:1114403360});case"blur more":return u(u({},n),{filterID:1114403405});case"box blur":return u(u({},n),{Fltr:{_name:"Box Blur",_classID:"boxblur","Rds ":He(e.filter)},filterID:697});case"gaussian blur":return u(u({},n),{Fltr:{_name:"Gaussian Blur",_classID:"GsnB","Rds ":He(e.filter)},filterID:1198747202});case"motion blur":return u(u({},n),{Fltr:{_name:"Motion Blur",_classID:"MtnB",Angl:e.filter.angle,Dstn:ne(e.filter.distance,"distance")},filterID:1299476034});case"radial blur":return u(u({},n),{Fltr:{_name:"Radial Blur",_classID:"RdlB",Amnt:e.filter.amount,BlrM:Ml.encode(e.filter.method),BlrQ:zl.encode(e.filter.quality)},filterID:1382313026});case"shape blur":return u(u({},n),{Fltr:{_name:"Shape Blur",_classID:"shapeBlur","Rds ":He(e.filter),customShape:{_name:"",_classID:"customShape","Nm  ":e.filter.customShape.name,Idnt:e.filter.customShape.id}},filterID:702});case"smart blur":return u(u({},n),{Fltr:{_name:"Smart Blur",_classID:"SmrB","Rds ":e.filter.radius,Thsh:e.filter.threshold,SmBQ:Nl.encode(e.filter.quality),SmBM:Bl.encode(e.filter.mode)},filterID:1399681602});case"surface blur":return u(u({},n),{Fltr:{_name:"Surface Blur",_classID:"surfaceBlur","Rds ":He(e.filter),Thsh:e.filter.threshold},filterID:701});case"displace":return u(u({},n),{Fltr:{_name:"Displace",_classID:"Dspl",HrzS:e.filter.horizontalScale,VrtS:e.filter.verticalScale,DspM:Ul.encode(e.filter.displacementMap),UndA:Ht.encode(e.filter.undefinedAreas),DspF:{sig:e.filter.displacementFile.signature,path:e.filter.displacementFile.path}},filterID:1148416108});case"pinch":return u(u({},n),{Fltr:{_name:"Pinch",_classID:"Pnch",Amnt:e.filter.amount},filterID:1349411688});case"polar coordinates":return u(u({},n),{Fltr:{_name:"Polar Coordinates",_classID:"Plr ",Cnvr:Gl.encode(e.filter.conversion)},filterID:1349284384});case"ripple":return u(u({},n),{Fltr:{_name:"Ripple",_classID:"Rple",Amnt:e.filter.amount,RplS:Vl.encode(e.filter.size)},filterID:1383099493});case"shear":return u(u({},n),{Fltr:{_name:"Shear",_classID:"Shr ",ShrP:e.filter.shearPoints.map(function(f){return{_name:"",_classID:"Pnt ",Hrzn:f.x,Vrtc:f.y}}),UndA:Ht.encode(e.filter.undefinedAreas),ShrS:e.filter.shearStart,ShrE:e.filter.shearEnd},filterID:1399353888});case"spherize":return u(u({},n),{Fltr:{_name:"Spherize",_classID:"Sphr",Amnt:e.filter.amount,SphM:Hl.encode(e.filter.mode)},filterID:1399875698});case"twirl":return u(u({},n),{Fltr:{_name:"Twirl",_classID:"Twrl",Angl:e.filter.angle},filterID:1417114220});case"wave":return u(u({},n),{Fltr:{_name:"Wave",_classID:"Wave",Wvtp:jl.encode(e.filter.type),NmbG:e.filter.numberOfGenerators,WLMn:e.filter.wavelength.min,WLMx:e.filter.wavelength.max,AmMn:e.filter.amplitude.min,AmMx:e.filter.amplitude.max,SclH:e.filter.scale.x,SclV:e.filter.scale.y,UndA:Ht.encode(e.filter.undefinedAreas),RndS:e.filter.randomSeed},filterID:1466005093});case"zigzag":return u(u({},n),{Fltr:{_name:"ZigZag",_classID:"ZgZg",Amnt:e.filter.amount,NmbR:e.filter.ridges,ZZTy:Zl.encode(e.filter.style)},filterID:1516722791});case"add noise":return u(u({},n),{Fltr:{_name:"Add Noise",_classID:"AdNs",Dstr:Wl.encode(e.filter.distribution),Nose:Ae(e.filter.amount),Mnch:e.filter.monochromatic,FlRs:e.filter.randomSeed},filterID:1097092723});case"despeckle":return u(u({},n),{filterID:1148416099});case"dust and scratches":return u(u({},n),{Fltr:{_name:"Dust & Scratches",_classID:"DstS","Rds ":e.filter.radius,Thsh:e.filter.threshold},filterID:1148417107});case"median":return u(u({},n),{Fltr:{_name:"Median",_classID:"Mdn ","Rds ":He(e.filter)},filterID:1298427424});case"reduce noise":return u(u({},n),{Fltr:{_name:"Reduce Noise",_classID:"denoise",ClNs:Ae(e.filter.reduceColorNoise),Shrp:Ae(e.filter.sharpenDetails),removeJPEGArtifact:e.filter.removeJpegArtifact,channelDenoise:e.filter.channelDenoise.map(function(f){return u({_name:"",_classID:"channelDenoiseParams",Chnl:f.channels.map(function(s){return Xl.encode(s)}),Amnt:f.amount},f.preserveDetails?{EdgF:f.preserveDetails}:{})}),preset:e.filter.preset},filterID:633});case"color halftone":return u(u({},n),{Fltr:{_name:"Color Halftone",_classID:"ClrH","Rds ":e.filter.radius,Ang1:e.filter.angle1,Ang2:e.filter.angle2,Ang3:e.filter.angle3,Ang4:e.filter.angle4},filterID:1131180616});case"crystallize":return u(u({},n),{Fltr:{_name:"Crystallize",_classID:"Crst",ClSz:e.filter.cellSize,FlRs:e.filter.randomSeed},filterID:1131574132});case"facet":return u(u({},n),{filterID:1180922912});case"fragment":return u(u({},n),{filterID:1181902701});case"mezzotint":return u(u({},n),{Fltr:{_name:"Mezzotint",_classID:"Mztn",MztT:$l.encode(e.filter.type),FlRs:e.filter.randomSeed},filterID:1299870830});case"mosaic":return u(u({},n),{Fltr:{_name:"Mosaic",_classID:"Msc ",ClSz:ne(e.filter.cellSize,"cellSize")},filterID:1299407648});case"pointillize":return u(u({},n),{Fltr:{_name:"Pointillize",_classID:"Pntl",ClSz:e.filter.cellSize,FlRs:e.filter.randomSeed},filterID:1349416044});case"clouds":return u(u({},n),{Fltr:{_name:"Clouds",_classID:"Clds",FlRs:e.filter.randomSeed},filterID:1131177075});case"difference clouds":return u(u({},n),{Fltr:{_name:"Difference Clouds",_classID:"DfrC",FlRs:e.filter.randomSeed},filterID:1147564611});case"fibers":return u(u({},n),{Fltr:{_name:"Fibers",_classID:"Fbrs",Vrnc:e.filter.variance,Strg:e.filter.strength,RndS:e.filter.randomSeed},filterID:1180856947});case"lens flare":return u(u({},n),{Fltr:{_name:"Lens Flare",_classID:"LnsF",Brgh:e.filter.brightness,FlrC:{_name:"",_classID:"Pnt ",Hrzn:e.filter.position.x,Vrtc:e.filter.position.y},"Lns ":Yl.encode(e.filter.lensType)},filterID:1282306886});case"sharpen":return u(u({},n),{filterID:1399353968});case"sharpen edges":return u(u({},n),{filterID:1399353925});case"sharpen more":return u(u({},n),{filterID:1399353933});case"smart sharpen":return u(u({},n),{Fltr:{_name:"Smart Sharpen",_classID:"smartSharpen",Amnt:Ae(e.filter.amount),"Rds ":He(e.filter),Thsh:e.filter.threshold,Angl:e.filter.angle,moreAccurate:e.filter.moreAccurate,blur:Kl.encode(e.filter.blur),preset:e.filter.preset,sdwM:{_name:"Parameters",_classID:"adaptCorrectTones",Amnt:Ae(e.filter.shadow.fadeAmount),Wdth:Ae(e.filter.shadow.tonalWidth),"Rds ":e.filter.shadow.radius},hglM:{_name:"Parameters",_classID:"adaptCorrectTones",Amnt:Ae(e.filter.highlight.fadeAmount),Wdth:Ae(e.filter.highlight.tonalWidth),"Rds ":e.filter.highlight.radius}},filterID:698});case"unsharp mask":return u(u({},n),{Fltr:{_name:"Unsharp Mask",_classID:"UnsM",Amnt:Ae(e.filter.amount),"Rds ":He(e.filter),Thsh:e.filter.threshold},filterID:1433301837});case"diffuse":return u(u({},n),{Fltr:{_name:"Diffuse",_classID:"Dfs ","Md  ":ql.encode(e.filter.mode),FlRs:e.filter.randomSeed},filterID:1147564832});case"emboss":return u(u({},n),{Fltr:{_name:"Emboss",_classID:"Embs",Angl:e.filter.angle,Hght:e.filter.height,Amnt:e.filter.amount},filterID:1164796531});case"extrude":return u(u({},n),{Fltr:{_name:"Extrude",_classID:"Extr",ExtS:e.filter.size,ExtD:e.filter.depth,ExtF:e.filter.solidFrontFaces,ExtM:e.filter.maskIncompleteBlocks,ExtT:Jl.encode(e.filter.type),ExtR:Ql.encode(e.filter.depthMode),FlRs:e.filter.randomSeed},filterID:1165522034});case"find edges":return u(u({},n),{filterID:1181639749});case"solarize":return u(u({},n),{filterID:1399616122});case"tiles":return u(u({},n),{Fltr:{_name:"Tiles",_classID:"Tls ",TlNm:e.filter.numberOfTiles,TlOf:e.filter.maximumOffset,FlCl:es.encode(e.filter.fillEmptyAreaWith),FlRs:e.filter.randomSeed},filterID:1416393504});case"trace contour":return u(u({},n),{Fltr:{_name:"Trace Contour",_classID:"TrcC","Lvl ":e.filter.level,"Edg ":ts.encode(e.filter.edge)},filterID:1416782659});case"wind":return u(u({},n),{Fltr:{_name:"Wind",_classID:"Wnd ",WndM:ns.encode(e.filter.method),Drct:is.encode(e.filter.direction)},filterID:1466852384});case"de-interlace":return u(u({},n),{Fltr:{_name:"De-Interlace",_classID:"Dntr",IntE:rs.encode(e.filter.eliminate),IntC:as.encode(e.filter.newFieldsBy)},filterID:1148089458});case"ntsc colors":return u(u({},n),{filterID:1314149187});case"custom":return u(u({},n),{Fltr:{_name:"Custom",_classID:"Cstm","Scl ":e.filter.scale,Ofst:e.filter.offset,Mtrx:e.filter.matrix},filterID:1131639917});case"high pass":return u(u({},n),{Fltr:{_name:"High Pass",_classID:"HghP","Rds ":He(e.filter)},filterID:1214736464});case"maximum":return u(u({},n),{Fltr:{_name:"Maximum",_classID:"Mxm ","Rds ":He(e.filter)},filterID:1299737888});case"minimum":return u(u({},n),{Fltr:{_name:"Minimum",_classID:"Mnm ","Rds ":He(e.filter)},filterID:1299082528});case"offset":return u(u({},n),{Fltr:{_name:"Offset",_classID:"Ofst",Hrzn:e.filter.horizontal,Vrtc:e.filter.vertical,"Fl  ":os.encode(e.filter.undefinedAreas)},filterID:1332114292});case"puppet":return u(u({},n),{Fltr:{_name:"Rigid Transform",_classID:"rigidTransform",null:["Ordn.Trgt"],rigidType:e.filter.rigidType,puppetShapeList:e.filter.puppetShapeList.map(function(f){return{_name:"",_classID:"puppetShape",rigidType:f.rigidType,VrsM:1,VrsN:0,originalVertexArray:Ui(new Float32Array(nn(f.originalVertexArray))),deformedVertexArray:Ui(new Float32Array(nn(f.deformedVertexArray))),indexArray:Ui(new Uint32Array(f.indexArray)),pinOffsets:nn(f.pinOffsets),posFinalPins:nn(f.posFinalPins),pinVertexIndices:f.pinVertexIndices,PinP:nn(f.pinPosition),PnRt:f.pinRotation,PnOv:f.pinOverlay,PnDp:f.pinDepth,meshQuality:f.meshQuality,meshExpansion:f.meshExpansion,meshRigidity:f.meshRigidity,imageResolution:f.imageResolution,meshBoundaryPath:{_name:"",_classID:"pathClass",pathComponents:f.meshBoundaryPath.pathComponents.map(function(s){return{_name:"",_classID:"PaCm",shapeOperation:"shapeOperation.".concat(s.shapeOperation),SbpL:s.paths.map(function(c){return{_name:"",_classID:"Sbpl",Clsp:c.closed,"Pts ":c.points.map(function(p){return{_name:"",_classID:"Pthp",Anch:Vi(p.anchor),"Fwd ":Vi(p.forward),"Bwd ":Vi(p.backward),Smoo:p.smooth}})}})}})},selectedPin:f.selectedPin}}),PuX0:e.filter.bounds[0].x,PuX1:e.filter.bounds[1].x,PuX2:e.filter.bounds[2].x,PuX3:e.filter.bounds[3].x,PuY0:e.filter.bounds[0].y,PuY1:e.filter.bounds[1].y,PuY2:e.filter.bounds[2].y,PuY3:e.filter.bounds[3].y},filterID:991});case"oil paint plugin":{for(var t={},i=0;i<e.filter.parameters.length;i++){var r=e.filter.parameters[i],a=r.name,o=r.value,l="".concat(we[Math.floor(i/we.length)]).concat(we[i%we.length]);t["PN".concat(l)]=a,t["PT".concat(l)]=0,t["PF".concat(l)]=o}return u(u({},n),{Fltr:u({_name:"Oil Paint Plugin",_classID:"PbPl",KnNm:e.filter.name,GpuY:e.filter.gpu,LIWy:e.filter.lighting,FPth:"1"},t),filterID:1348620396})}case"oil paint":return u(u({},n),{Fltr:{_name:"Oil Paint",_classID:"oilPaint",lightingOn:e.filter.lightingOn,stylization:e.filter.stylization,cleanliness:e.filter.cleanliness,brushScale:e.filter.brushScale,microBrush:e.filter.microBrush,LghD:e.filter.lightDirection,specularity:e.filter.specularity},filterID:1122});case"liquify":return u(u({},n),{Fltr:{_name:"Liquify",_classID:"LqFy",LqMe:e.filter.liquifyMesh},filterID:1282492025});default:throw new Error("Unknow filter type: ".concat(e.type))}}function Fs(e){if(e.warp)return e.warp;if(!e.width||!e.height)throw new Error("You must provide width and height of the linked image in placedLayer");var n=e.width,t=e.height,i=0,r=n/3,a=n*2/3,o=n,l=0,f=t/3,s=t*2/3,c=t;return{style:"custom",value:0,perspective:0,perspectiveOther:0,rotate:"horizontal",bounds:{top:{value:0,units:"Pixels"},left:{value:0,units:"Pixels"},bottom:{value:t,units:"Pixels"},right:{value:n,units:"Pixels"}},uOrder:4,vOrder:4,customEnvelopeWarp:{meshPoints:[{x:i,y:l},{x:r,y:l},{x:a,y:l},{x:o,y:l},{x:i,y:f},{x:r,y:f},{x:a,y:f},{x:o,y:f},{x:i,y:s},{x:r,y:s},{x:a,y:s},{x:o,y:s},{x:i,y:c},{x:r,y:c},{x:a,y:c},{x:o,y:c}]}}}T("SoLd",Q("placedLayer"),function(e,n,t,i,r){if(te(e)!=="soLD")throw new Error("Invalid SoLd type");var a=P(e);if(a!==4&&a!==5)throw new Error("Invalid SoLd version");var o=j(e,!0);n.placedLayer={id:o.Idnt,placed:o.placed,type:Gt[o.Type],pageNumber:o.PgNm,totalPages:o.totalPages,frameStep:me(o.frameStep),duration:me(o.duration),frameCount:o.frameCount,transform:o.Trnf,width:o["Sz  "].Wdth,height:o["Sz  "].Hght,resolution:K(o.Rslt),warp:ks(o.quiltWarp||o.warp)},o.nonAffineTransform&&o.nonAffineTransform.some(function(l,f){return l!==o.Trnf[f]})&&(n.placedLayer.nonAffineTransform=o.nonAffineTransform),o.Crop&&(n.placedLayer.crop=o.Crop),o.comp&&(n.placedLayer.comp=o.comp),o.compInfo&&(n.placedLayer.compInfo={compID:o.compInfo.compID,originalCompID:o.compInfo.originalCompID}),o.filterFX&&(n.placedLayer.filter=dd(o.filterFX,r)),D(e,t())},function(e,n){var t,i;U(e,"soLD"),G(e,4);var r=n.placedLayer;if(!r.id||typeof r.id!="string"||!/^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$/.test(r.id))throw new Error("Placed layer ID must be in a GUID format (example: 20953ddb-9391-11ec-b4f1-c15674f50bc4)");var a=u(u({Idnt:r.id,placed:(t=r.placed)!==null&&t!==void 0?t:r.id,PgNm:r.pageNumber||1,totalPages:r.totalPages||1},r.crop?{Crop:r.crop}:{}),{frameStep:r.frameStep||{numerator:0,denominator:600},duration:r.duration||{numerator:0,denominator:600},frameCount:r.frameCount||0,Annt:16,Type:Gt.indexOf(r.type),Trnf:r.transform,nonAffineTransform:(i=r.nonAffineTransform)!==null&&i!==void 0?i:r.transform,warp:li(Fs(r)),"Sz  ":{_name:"",_classID:"Pnt ",Wdth:r.width||0,Hght:r.height||0},Rslt:r.resolution?ne(r.resolution,"resolution"):{units:"Density",value:72}});if(r.filter&&(a.filterFX={_name:"",_classID:"filterFXStyle",enab:r.filter.enabled,validAtPosition:r.filter.validAtPosition,filterMaskEnable:r.filter.maskEnabled,filterMaskLinked:r.filter.maskLinked,filterMaskExtendWithWhite:r.filter.maskExtendWithWhite,filterFXList:r.filter.list.map(function(l){return hd(l)})}),r.warp&&wr(r.warp)){var o=li(r.warp);a.quiltWarp=o,a.warp={warpStyle:"warpStyle.warpNone",warpValue:o.warpValue,warpPerspective:o.warpPerspective,warpPerspectiveOther:o.warpPerspectiveOther,warpRotate:o.warpRotate,bounds:o.bounds,uOrder:o.uOrder,vOrder:o.vOrder}}else delete a.quiltWarp;r.comp&&(a.comp=r.comp),r.compInfo&&(a.compInfo=r.compInfo),Z(e,"","null",a,a.quiltWarp?"quiltWarp":"warp")});Dt("SoLE","SoLd");T("fxrp",Q("referencePoint"),function(e,n){n.referencePoint={x:Re(e),y:Re(e)}},function(e,n){it(e,n.referencePoint.x),it(e,n.referencePoint.y)});T("Lr16",function(){return!1},function(e,n,t,i,r){xr(e,i,r)},function(e,n){});T("Lr32",function(){return!1},function(e,n,t,i,r){xr(e,i,r)},function(e,n){});T("LMsk",Q("userMask"),function(e,n){n.userMask={colorSpace:se(e),opacity:F(e)/255};var t=A(e);if(t!==128)throw new Error("Invalid flag value");D(e,1)},function(e,n){var t=n.userMask;ue(e,t.colorSpace),x(e,cl(t.opacity,0,1)*255),O(e,128),q(e,1)});T("Patt",function(e){return!e},function(e,n,t){t()&&D(e,t())},function(e,n){});function mo(e){var n=P(e),t=P(e),i=P(e),r=P(e);return{top:n,left:t,bottom:i,right:r}}function bo(e,n){G(e,n.top),G(e,n.left),G(e,n.bottom),G(e,n.right)}T("Anno",function(e){return e.annotations!==void 0},function(e,n,t){var i=F(e),r=F(e);if(i!==2||r!==1)throw new Error("Invalid Anno version");for(var a=w(e),o=[],l=0;l<a;l++){w(e);var f=te(e),s=!!A(e);A(e),F(e);var c=mo(e),p=mo(e),d=se(e),h=nt(e,2),v=nt(e,2),g=nt(e,2);w(e),te(e);var y=w(e),m=void 0;if(f==="txtA")y>=2&&F(e)===65279?m=fs(e,(y-2)/2):(e.offset-=2,m=Sr(e,y)),m=m.replace(/\r/g,`
`);else if(f==="sndA")m=pe(e,y);else throw new Error("Unknown annotation type");o.push({type:f==="txtA"?"text":"sound",open:s,iconLocation:c,popupLocation:p,color:d,author:h,name:v,date:g,data:m})}n.annotations=o,D(e,t())},function(e,n){var t=n.annotations;x(e,2),x(e,1),E(e,t.length);for(var i=0,r=t;i<r.length;i++){var a=r[i],o=a.type==="sound";if(o&&!(a.data instanceof Uint8Array))throw new Error("Sound annotation data should be Uint8Array");if(!o&&typeof a.data!="string")throw new Error("Text annotation data should be string");var l=e.offset;E(e,0),U(e,o?"sndA":"txtA"),O(e,a.open?1:0),O(e,28),x(e,1),bo(e,a.iconLocation),bo(e,a.popupLocation),ue(e,a.color),Ft(e,a.author||"",2),Ft(e,a.name||"",2),Ft(e,a.date||"",2);var f=e.offset;E(e,0),U(e,o?"sndM":"txtC"),E(e,0);var s=e.offset;if(o)vt(e,a.data);else{x(e,65279);for(var c=a.data.replace(/\n/g,"\r"),p=0;p<c.length;p++)x(e,c.charCodeAt(p))}e.view.setUint32(l,e.offset-l,!1),e.view.setUint32(f,e.offset-f,!1),e.view.setUint32(s-4,e.offset-s,!1)}});T("lnk2",function(e){return!!e.linkedFiles&&e.linkedFiles.length>0},function(e,n,t,i,r){var a=n;for(a.linkedFiles=a.linkedFiles||[];t()>8;){var o=Ni(e),l=e.offset,f=te(e),s=P(e),c=nt(e,1),p=le(e),d=te(e).trim(),h=te(e).trim(),v=Ni(e),g=A(e),y=g?j(e):void 0;f==="liFE"&&j(e);var m={id:c,name:p};if(d&&(m.type=d),h&&(m.creator=h),y&&(m.descriptor={compInfo:{compID:y.compInfo.compID,originalCompID:y.compInfo.originalCompID}}),f==="liFE"&&s>3){var b=P(e),_=A(e),S=A(e),C=A(e),B=A(e),k=Re(e),N=Math.floor(k),z=(k-N)*1e3;m.time=new Date(b,_,S,C,B,N,z).toISOString()}var R=f==="liFE"?Ni(e):0;for(f==="liFA"&&D(e,8),f==="liFD"&&(m.data=pe(e,v)),s>=5&&(m.childDocumentID=le(e)),s>=6&&(m.assetModTime=Re(e)),s>=7&&(m.assetLockedState=A(e)),f==="liFE"&&s===2&&(m.data=pe(e,R)),r.skipLinkedFilesData&&(m.data=void 0),a.linkedFiles.push(m);o%4;)o++;e.offset=l+o}D(e,t())},function(e,n){for(var t=n,i=0,r=t.linkedFiles;i<r.length;i++){var a=r[i],o=2;a.assetLockedState!=null?o=7:a.assetModTime!=null?o=6:a.childDocumentID!=null&&(o=5),E(e,0),E(e,0);var l=e.offset;if(U(e,a.data?"liFD":"liFA"),G(e,o),!a.id||typeof a.id!="string"||!/^[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}$/.test(a.id))throw new Error("Linked file ID must be in a GUID format (example: 20953ddb-9391-11ec-b4f1-c15674f50bc4)");if(Ft(e,a.id,1),Ct(e,a.name||""),U(e,a.type?"".concat(a.type,"    ").substring(0,4):"    "),U(e,a.creator?"".concat(a.creator,"    ").substring(0,4):"\0\0\0\0"),vo(e,a.data?a.data.byteLength:0),a.descriptor&&a.descriptor.compInfo){var f={compInfo:{compID:a.descriptor.compInfo.compID,originalCompID:a.descriptor.compInfo.originalCompID}};O(e,1),Z(e,"","null",f)}else O(e,0);a.data?vt(e,a.data):vo(e,0),o>=5&&Ct(e,a.childDocumentID||""),o>=6&&it(e,a.assetModTime||0),o>=7&&O(e,a.assetLockedState||0);var s=e.offset-l;for(e.view.setUint32(l-4,s,!1);s%4;)s++,O(e,0)}});Dt("lnkD","lnk2");Dt("lnk3","lnk2");Dt("lnkE","lnk2");T("pths",Q("pathList"),function(e,n){j(e,!0),n.pathList=[]},function(e,n){var t={pathList:[]};Z(e,"","pathsDataClass",t)});T("lyvr",Q("version"),function(e,n){return n.version=w(e)},function(e,n){return E(e,n.version)});function ve(e){return function(n){return!!n.adjustment&&n.adjustment.type===e}}T("brit",ve("brightness/contrast"),function(e,n,t){n.adjustment||(n.adjustment={type:"brightness/contrast",brightness:V(e),contrast:V(e),meanValue:V(e),labColorOnly:!!A(e),useLegacy:!0}),D(e,t())},function(e,n){var t,i=n.adjustment;$(e,i.brightness||0),$(e,i.contrast||0),$(e,(t=i.meanValue)!==null&&t!==void 0?t:127),O(e,i.labColorOnly?1:0),q(e,1)});function Wn(e){var n=V(e),t=V(e),i=V(e),r=V(e),a=V(e)/100;return{shadowInput:n,highlightInput:t,shadowOutput:i,highlightOutput:r,midtoneInput:a}}function rn(e,n){$(e,n.shadowInput),$(e,n.highlightInput),$(e,n.shadowOutput),$(e,n.highlightOutput),$(e,Math.round(n.midtoneInput*100))}T("levl",ve("levels"),function(e,n,t){if(F(e)!==2)throw new Error("Invalid levl version");n.adjustment=u(u({},n.adjustment),{type:"levels",rgb:Wn(e),red:Wn(e),green:Wn(e),blue:Wn(e)}),D(e,t())},function(e,n){var t=n.adjustment,i={shadowInput:0,highlightInput:255,shadowOutput:0,highlightOutput:255,midtoneInput:1};x(e,2),rn(e,t.rgb||i),rn(e,t.red||i),rn(e,t.blue||i),rn(e,t.green||i);for(var r=0;r<59;r++)rn(e,i)});function Xn(e){for(var n=F(e),t=[],i=0;i<n;i++){var r=V(e),a=V(e);t.push({input:a,output:r})}return t}function lt(e,n){x(e,n.length);for(var t=0,i=n;t<i.length;t++){var r=i[t];x(e,r.output),x(e,r.input)}}T("curv",ve("curves"),function(e,n,t){if(A(e),F(e)!==1)throw new Error("Invalid curv version");F(e);var i=F(e),r={type:"curves"};i&1&&(r.rgb=Xn(e)),i&2&&(r.red=Xn(e)),i&4&&(r.green=Xn(e)),i&8&&(r.blue=Xn(e)),n.adjustment=u(u({},n.adjustment),r),D(e,t())},function(e,n){var t=n.adjustment,i=t.rgb,r=t.red,a=t.green,o=t.blue,l=0,f=0;i&&i.length&&(l|=1,f++),r&&r.length&&(l|=2,f++),a&&a.length&&(l|=4,f++),o&&o.length&&(l|=8,f++),O(e,0),x(e,1),x(e,0),x(e,l),i&&i.length&&lt(e,i),r&&r.length&&lt(e,r),a&&a.length&&lt(e,a),o&&o.length&&lt(e,o),U(e,"Crv "),x(e,4),x(e,0),x(e,f),i&&i.length&&(x(e,0),lt(e,i)),r&&r.length&&(x(e,1),lt(e,r)),a&&a.length&&(x(e,2),lt(e,a)),o&&o.length&&(x(e,3),lt(e,o)),q(e,2)});T("expA",ve("exposure"),function(e,n,t){if(F(e)!==1)throw new Error("Invalid expA version");n.adjustment=u(u({},n.adjustment),{type:"exposure",exposure:Be(e),offset:Be(e),gamma:Be(e)}),D(e,t())},function(e,n){var t=n.adjustment;x(e,1),Ne(e,t.exposure),Ne(e,t.offset),Ne(e,t.gamma),q(e,2)});T("vibA",ve("vibrance"),function(e,n,t){var i=j(e);n.adjustment={type:"vibrance"},i.vibrance!==void 0&&(n.adjustment.vibrance=i.vibrance),i.Strt!==void 0&&(n.adjustment.saturation=i.Strt),D(e,t())},function(e,n){var t=n.adjustment,i={};t.vibrance!==void 0&&(i.vibrance=t.vibrance),t.saturation!==void 0&&(i.Strt=t.saturation),Z(e,"","null",i)});function mt(e){return{a:V(e),b:V(e),c:V(e),d:V(e),hue:V(e),saturation:V(e),lightness:V(e)}}function bt(e,n){var t=n||{};$(e,t.a||0),$(e,t.b||0),$(e,t.c||0),$(e,t.d||0),$(e,t.hue||0),$(e,t.saturation||0),$(e,t.lightness||0)}T("hue2",ve("hue/saturation"),function(e,n,t){if(F(e)!==2)throw new Error("Invalid hue2 version");n.adjustment=u(u({},n.adjustment),{type:"hue/saturation",master:mt(e),reds:mt(e),yellows:mt(e),greens:mt(e),cyans:mt(e),blues:mt(e),magentas:mt(e)}),D(e,t())},function(e,n){var t=n.adjustment;x(e,2),bt(e,t.master),bt(e,t.reds),bt(e,t.yellows),bt(e,t.greens),bt(e,t.cyans),bt(e,t.blues),bt(e,t.magentas)});function Hi(e){return{cyanRed:V(e),magentaGreen:V(e),yellowBlue:V(e)}}function ji(e,n){$(e,n.cyanRed||0),$(e,n.magentaGreen||0),$(e,n.yellowBlue||0)}T("blnc",ve("color balance"),function(e,n,t){n.adjustment={type:"color balance",shadows:Hi(e),midtones:Hi(e),highlights:Hi(e),preserveLuminosity:!!A(e)},D(e,t())},function(e,n){var t=n.adjustment;ji(e,t.shadows||{}),ji(e,t.midtones||{}),ji(e,t.highlights||{}),O(e,t.preserveLuminosity?1:0),q(e,1)});T("blwh",ve("black & white"),function(e,n,t){var i=j(e);n.adjustment={type:"black & white",reds:i["Rd  "],yellows:i.Yllw,greens:i["Grn "],cyans:i["Cyn "],blues:i["Bl  "],magentas:i.Mgnt,useTint:!!i.useTint,presetKind:i.bwPresetKind,presetFileName:i.blackAndWhitePresetFileName},i.tintColor!==void 0&&(n.adjustment.tintColor=Ue(i.tintColor)),D(e,t())},function(e,n){var t=n.adjustment,i={"Rd  ":t.reds||0,Yllw:t.yellows||0,"Grn ":t.greens||0,"Cyn ":t.cyans||0,"Bl  ":t.blues||0,Mgnt:t.magentas||0,useTint:!!t.useTint,tintColor:Ge(t.tintColor),bwPresetKind:t.presetKind||0,blackAndWhitePresetFileName:t.presetFileName||""};Z(e,"","null",i)});T("phfl",ve("photo filter"),function(e,n,t){var i=F(e);if(i!==2&&i!==3)throw new Error("Invalid phfl version");var r;i===2?r=se(e):r={l:P(e)/100,a:P(e)/100,b:P(e)/100},n.adjustment={type:"photo filter",color:r,density:w(e)/100,preserveLuminosity:!!A(e)},D(e,t())},function(e,n){var t=n.adjustment;x(e,2),ue(e,t.color||{l:0,a:0,b:0}),E(e,(t.density||0)*100),O(e,t.preserveLuminosity?1:0),q(e,3)});function $n(e){var n=V(e),t=V(e),i=V(e);D(e,2);var r=V(e);return{red:n,green:t,blue:i,constant:r}}function an(e,n){var t=n||{};$(e,t.red),$(e,t.green),$(e,t.blue),q(e,2),$(e,t.constant)}T("mixr",ve("channel mixer"),function(e,n,t){if(F(e)!==1)throw new Error("Invalid mixr version");var i=n.adjustment=u(u({},n.adjustment),{type:"channel mixer",monochrome:!!F(e)});i.monochrome||(i.red=$n(e),i.green=$n(e),i.blue=$n(e)),i.gray=$n(e),D(e,t())},function(e,n){var t=n.adjustment;x(e,1),x(e,t.monochrome?1:0),t.monochrome?(an(e,t.gray),q(e,3*5*2)):(an(e,t.red),an(e,t.green),an(e,t.blue),an(e,t.gray))});var yo=M("colorLookupType","3DLUT",{"3dlut":"3DLUT",abstractProfile:"abstractProfile",deviceLinkProfile:"deviceLinkProfile"}),_o=M("LUTFormatType","look",{look:"LUTFormatLOOK",cube:"LUTFormatCUBE","3dl":"LUTFormat3DL"}),Yn=M("colorLookupOrder","rgb",{rgb:"rgbOrder",bgr:"bgrOrder"});T("clrL",ve("color lookup"),function(e,n,t){if(F(e)!==1)throw new Error("Invalid clrL version");var i=j(e);n.adjustment={type:"color lookup"};var r=n.adjustment;i.lookupType!==void 0&&(r.lookupType=yo.decode(i.lookupType)),i["Nm  "]!==void 0&&(r.name=i["Nm  "]),i.Dthr!==void 0&&(r.dither=i.Dthr),i.profile!==void 0&&(r.profile=i.profile),i.LUTFormat!==void 0&&(r.lutFormat=_o.decode(i.LUTFormat)),i.dataOrder!==void 0&&(r.dataOrder=Yn.decode(i.dataOrder)),i.tableOrder!==void 0&&(r.tableOrder=Yn.decode(i.tableOrder)),i.LUT3DFileData!==void 0&&(r.lut3DFileData=i.LUT3DFileData),i.LUT3DFileName!==void 0&&(r.lut3DFileName=i.LUT3DFileName),D(e,t())},function(e,n){var t=n.adjustment,i={};t.lookupType!==void 0&&(i.lookupType=yo.encode(t.lookupType)),t.name!==void 0&&(i["Nm  "]=t.name),t.dither!==void 0&&(i.Dthr=t.dither),t.profile!==void 0&&(i.profile=t.profile),t.lutFormat!==void 0&&(i.LUTFormat=_o.encode(t.lutFormat)),t.dataOrder!==void 0&&(i.dataOrder=Yn.encode(t.dataOrder)),t.tableOrder!==void 0&&(i.tableOrder=Yn.encode(t.tableOrder)),t.lut3DFileData!==void 0&&(i.LUT3DFileData=t.lut3DFileData),t.lut3DFileName!==void 0&&(i.LUT3DFileName=t.lut3DFileName),x(e,1),Z(e,"","null",i)});T("nvrt",ve("invert"),function(e,n,t){n.adjustment={type:"invert"},D(e,t())},function(){});T("post",ve("posterize"),function(e,n,t){n.adjustment={type:"posterize",levels:F(e)},D(e,t())},function(e,n){var t,i=n.adjustment;x(e,(t=i.levels)!==null&&t!==void 0?t:4),q(e,2)});T("thrs",ve("threshold"),function(e,n,t){n.adjustment={type:"threshold",level:F(e)},D(e,t())},function(e,n){var t,i=n.adjustment;x(e,(t=i.level)!==null&&t!==void 0?t:128),q(e,2)});var So=["","","","rgb","hsb","","lab"];T("grdm",ve("gradient map"),function(e,n,t){if(F(e)!==1)throw new Error("Invalid grdm version");var i={type:"gradient map",gradientType:"solid"};i.reverse=!!A(e),i.dither=!!A(e),i.name=le(e),i.colorStops=[],i.opacityStops=[];for(var r=F(e),a=0;a<r;a++)i.colorStops.push({location:w(e),midpoint:w(e)/100,color:se(e)}),D(e,2);for(var o=F(e),a=0;a<o;a++)i.opacityStops.push({location:w(e),midpoint:w(e)/100,opacity:F(e)/255});var l=F(e);if(l!==2)throw new Error("Invalid grdm expansion count");var f=F(e);i.smoothness=f/4096;var s=F(e);if(s!==32)throw new Error("Invalid grdm length");i.gradientType=F(e)?"noise":"solid",i.randomSeed=w(e),i.addTransparency=!!F(e),i.restrictColors=!!F(e),i.roughness=w(e)/4096,i.colorModel=So[F(e)]||"rgb",i.min=[F(e)/32768,F(e)/32768,F(e)/32768,F(e)/32768],i.max=[F(e)/32768,F(e)/32768,F(e)/32768,F(e)/32768],D(e,t());for(var c=0,p=i.colorStops;c<p.length;c++){var d=p[c];d.location/=f}for(var h=0,v=i.opacityStops;h<v.length;h++){var d=v[h];d.location/=f}n.adjustment=i},function(e,n){var t,i,r,a=n.adjustment;x(e,1),O(e,a.reverse?1:0),O(e,a.dither?1:0),Ct(e,a.name||""),x(e,a.colorStops&&a.colorStops.length||0);for(var o=Math.round(((t=a.smoothness)!==null&&t!==void 0?t:1)*4096),l=0,f=a.colorStops||[];l<f.length;l++){var s=f[l];E(e,Math.round(s.location*o)),E(e,Math.round(s.midpoint*100)),ue(e,s.color),q(e,2)}x(e,a.opacityStops&&a.opacityStops.length||0);for(var c=0,p=a.opacityStops||[];c<p.length;c++){var s=p[c];E(e,Math.round(s.location*o)),E(e,Math.round(s.midpoint*100)),x(e,Math.round(s.opacity*255))}x(e,2),x(e,o),x(e,32),x(e,a.gradientType==="noise"?1:0),E(e,a.randomSeed||0),x(e,a.addTransparency?1:0),x(e,a.restrictColors?1:0),E(e,Math.round(((i=a.roughness)!==null&&i!==void 0?i:1)*4096));var d=So.indexOf((r=a.colorModel)!==null&&r!==void 0?r:"rgb");x(e,d===-1?3:d);for(var h=0;h<4;h++)x(e,Math.round((a.min&&a.min[h]||0)*32768));for(var h=0;h<4;h++)x(e,Math.round((a.max&&a.max[h]||0)*32768));q(e,4)});function Ye(e){return{c:V(e),m:V(e),y:V(e),k:V(e)}}function Ke(e,n){var t=n||{};$(e,t.c),$(e,t.m),$(e,t.y),$(e,t.k)}T("selc",ve("selective color"),function(e,n){if(F(e)!==1)throw new Error("Invalid selc version");var t=F(e)?"absolute":"relative";D(e,8),n.adjustment={type:"selective color",mode:t,reds:Ye(e),yellows:Ye(e),greens:Ye(e),cyans:Ye(e),blues:Ye(e),magentas:Ye(e),whites:Ye(e),neutrals:Ye(e),blacks:Ye(e)}},function(e,n){var t=n.adjustment;x(e,1),x(e,t.mode==="absolute"?1:0),q(e,8),Ke(e,t.reds),Ke(e,t.yellows),Ke(e,t.greens),Ke(e,t.cyans),Ke(e,t.blues),Ke(e,t.magentas),Ke(e,t.whites),Ke(e,t.neutrals),Ke(e,t.blacks)});T("CgEd",function(e){var n=e.adjustment;return n?n.type==="brightness/contrast"&&!n.useLegacy||(n.type==="levels"||n.type==="curves"||n.type==="exposure"||n.type==="channel mixer"||n.type==="hue/saturation")&&n.presetFileName!==void 0:!1},function(e,n,t){var i=j(e);if(i.Vrsn!==1)throw new Error("Invalid CgEd version");"presetFileName"in i?n.adjustment=u(u({},n.adjustment),{presetKind:i.presetKind,presetFileName:i.presetFileName}):"curvesPresetFileName"in i?n.adjustment=u(u({},n.adjustment),{presetKind:i.curvesPresetKind,presetFileName:i.curvesPresetFileName}):"mixerPresetFileName"in i?n.adjustment=u(u({},n.adjustment),{presetKind:i.mixerPresetKind,presetFileName:i.mixerPresetFileName}):n.adjustment={type:"brightness/contrast",brightness:i.Brgh,contrast:i.Cntr,meanValue:i.means,useLegacy:!!i.useLegacy,labColorOnly:!!i["Lab "],auto:!!i.Auto},D(e,t())},function(e,n){var t,i,r,a,o=n.adjustment;if(o.type==="levels"||o.type==="exposure"||o.type==="hue/saturation"){var l={Vrsn:1,presetKind:(t=o.presetKind)!==null&&t!==void 0?t:1,presetFileName:o.presetFileName||""};Z(e,"","null",l)}else if(o.type==="curves"){var l={Vrsn:1,curvesPresetKind:(i=o.presetKind)!==null&&i!==void 0?i:1,curvesPresetFileName:o.presetFileName||""};Z(e,"","null",l)}else if(o.type==="channel mixer"){var l={Vrsn:1,mixerPresetKind:(r=o.presetKind)!==null&&r!==void 0?r:1,mixerPresetFileName:o.presetFileName||""};Z(e,"","null",l)}else if(o.type==="brightness/contrast"){var l={Vrsn:1,Brgh:o.brightness||0,Cntr:o.contrast||0,means:(a=o.meanValue)!==null&&a!==void 0?a:127,"Lab ":!!o.labColorOnly,useLegacy:!!o.useLegacy,Auto:!!o.auto};Z(e,"","null",l)}else throw new Error("Unhandled CgEd case")});T("Txt2",Q("engineData"),function(e,n,t){var i=pe(e,t());n.engineData=Co(i)},function(e,n){var t=Io(n.engineData);vt(e,t)});T("FEid",Q("filterEffectsMasks"),function(e,n,t){var i=P(e);if(i<1||i>3)throw new Error("Invalid filterEffects version ".concat(i));if(w(e))throw new Error("filterEffects: 64 bit length is not supported");var r=w(e),a=e.offset+r;for(n.filterEffectsMasks=[];e.offset<a;){var o=nt(e,1),l=P(e);if(l!==1)throw new Error("Invalid filterEffect version ".concat(l));if(w(e))throw new Error("filterEffect: 64 bit length is not supported");w(e);for(var f=P(e),s=P(e),c=P(e),p=P(e),d=P(e),h=P(e),v=[],g=0;g<h+2;g++){var y=P(e);if(y){if(w(e))throw new Error("filterEffect: 64 bit length is not supported");var m=w(e),b=F(e),_=pe(e,m-2);v.push({compressionMode:b,data:_})}else v.push(void 0)}if(n.filterEffectsMasks.push({id:o,top:f,left:s,bottom:c,right:p,depth:d,channels:v}),t()&&A(e)){var b=F(e),_=pe(e,t());n.filterEffectsMasks[n.filterEffectsMasks.length-1].extra={compressionMode:b,data:_}}}},function(e,n){var t;G(e,3),E(e,0),E(e,0);for(var i=e.offset,r=0,a=n.filterEffectsMasks;r<a.length;r++){var o=a[r];Ft(e,o.id,1),G(e,1),E(e,0),E(e,0);var l=e.offset;G(e,o.top),G(e,o.left),G(e,o.bottom),G(e,o.right),G(e,o.depth);var f=Math.max(0,o.channels.length-2);G(e,f);for(var s=0;s<f+2;s++){var c=o.channels[s];G(e,c?1:0),c&&(E(e,0),E(e,c.data.length+2),x(e,c.compressionMode),vt(e,c.data))}e.view.setUint32(l-4,e.offset-l,!1)}var p=(t=n.filterEffectsMasks[n.filterEffectsMasks.length-1])===null||t===void 0?void 0:t.extra;p&&(O(e,1),x(e,p.compressionMode),vt(e,p.data)),e.view.setUint32(i-4,e.offset-i,!1)});Dt("FXid","FEid");T("FMsk",Q("filterMask"),function(e,n){n.filterMask={colorSpace:se(e),opacity:F(e)/255}},function(e,n){var t;ue(e,n.filterMask.colorSpace),x(e,cl((t=n.filterMask.opacity)!==null&&t!==void 0?t:1,0,1)*255)});T("artd",function(e){return e.artboards!==void 0},function(e,n,t){var i=j(e);n.artboards={count:i["Cnt "],autoExpandOffset:{horizontal:i.autoExpandOffset.Hrzn,vertical:i.autoExpandOffset.Vrtc},origin:{horizontal:i.origin.Hrzn,vertical:i.origin.Vrtc},autoExpandEnabled:i.autoExpandEnabled,autoNestEnabled:i.autoNestEnabled,autoPositionEnabled:i.autoPositionEnabled,shrinkwrapOnSaveEnabled:!!i.shrinkwrapOnSaveEnabled,docDefaultNewArtboardBackgroundColor:Ue(i.docDefaultNewArtboardBackgroundColor),docDefaultNewArtboardBackgroundType:i.docDefaultNewArtboardBackgroundType},D(e,t())},function(e,n){var t,i,r,a,o,l=n.artboards,f={"Cnt ":l.count,autoExpandOffset:l.autoExpandOffset?{Hrzn:l.autoExpandOffset.horizontal,Vrtc:l.autoExpandOffset.vertical}:{Hrzn:0,Vrtc:0},origin:l.origin?{Hrzn:l.origin.horizontal,Vrtc:l.origin.vertical}:{Hrzn:0,Vrtc:0},autoExpandEnabled:(t=l.autoExpandEnabled)!==null&&t!==void 0?t:!0,autoNestEnabled:(i=l.autoNestEnabled)!==null&&i!==void 0?i:!0,autoPositionEnabled:(r=l.autoPositionEnabled)!==null&&r!==void 0?r:!0,shrinkwrapOnSaveEnabled:(a=l.shrinkwrapOnSaveEnabled)!==null&&a!==void 0?a:!0,docDefaultNewArtboardBackgroundColor:Ge(l.docDefaultNewArtboardBackgroundColor),docDefaultNewArtboardBackgroundType:(o=l.docDefaultNewArtboardBackgroundType)!==null&&o!==void 0?o:1};Z(e,"","null",f,"artd")});function ws(e){return Object.keys(e).map(function(n){return e[n]}).some(function(n){return Array.isArray(n)&&n.length>1})}T("lfx2",function(e){return e.effects!==void 0&&!ws(e.effects)},function(e,n,t,i,r){var a=w(e);if(a!==0)throw new Error("Invalid lfx2 version");var o=j(e);n.effects=di(o,!!r.logMissingFeatures),D(e,t())},function(e,n,t,i){var r=ui(n.effects,!!i.logMissingFeatures,!0);E(e,0),Z(e,"","null",r)});T("cinf",Q("compositorUsed"),function(e,n,t){var i=j(e);function r(a){return a.split(".")[1]}n.compositorUsed={description:i.description,reason:i.reason,engine:r(i.Engn)},i.enableCompCore&&(n.compositorUsed.enableCompCore=r(i.enableCompCore)),i.enableCompCoreGPU&&(n.compositorUsed.enableCompCoreGPU=r(i.enableCompCoreGPU)),i.compCoreSupport&&(n.compositorUsed.compCoreSupport=r(i.compCoreSupport)),i.compCoreGPUSupport&&(n.compositorUsed.compCoreGPUSupport=r(i.compCoreGPUSupport)),D(e,t())},function(e,n){var t=n.compositorUsed,i={Vrsn:{major:1,minor:0,fix:0},description:t.description,reason:t.reason,Engn:"Engn.".concat(t.engine)};t.enableCompCore&&(i.enableCompCore="enable.".concat(t.enableCompCore)),t.enableCompCoreGPU&&(i.enableCompCoreGPU="enable.".concat(t.enableCompCoreGPU)),t.compCoreSupport&&(i.compCoreSupport="reason.".concat(t.compCoreSupport)),t.compCoreGPUSupport&&(i.compCoreGPUSupport="reason.".concat(t.compCoreGPUSupport)),Z(e,"","null",i)});T("extn",function(e){return e._extn!==void 0},function(e,n){j(e)},function(e,n){});T("iOpa",Q("fillOpacity"),function(e,n){n.fillOpacity=A(e)/255,D(e,3)},function(e,n){O(e,n.fillOpacity*255),q(e,3)});T("brst",Q("channelBlendingRestrictions"),function(e,n,t){for(n.channelBlendingRestrictions=[];t()>4;)n.channelBlendingRestrictions.push(P(e))},function(e,n){for(var t=0,i=n.channelBlendingRestrictions;t<i.length;t++){var r=i[t];G(e,r)}});T("tsly",Q("transparencyShapesLayer"),function(e,n){n.transparencyShapesLayer=!!A(e),D(e,3)},function(e,n){O(e,n.transparencyShapesLayer?1:0),q(e,3)});function O(e,n){var t=rt(e,1);e.view.setUint8(t,n)}function $(e,n){var t=rt(e,2);e.view.setInt16(t,n,!1)}function x(e,n){var t=rt(e,2);e.view.setUint16(t,n,!1)}function pd(e,n){var t=rt(e,2);e.view.setUint16(t,n,!0)}function G(e,n){var t=rt(e,4);e.view.setInt32(t,n,!1)}function xo(e,n){var t=rt(e,4);e.view.setInt32(t,n,!0)}function E(e,n){var t=rt(e,4);e.view.setUint32(t,n,!1)}function Ne(e,n){var t=rt(e,4);e.view.setFloat32(t,n,!1)}function it(e,n){var t=rt(e,8);e.view.setFloat64(t,n,!1)}function Ie(e,n){G(e,n*65536)}function ze(e,n){G(e,n*(1<<24))}function vt(e,n){if(n){Is(e,e.offset+n.length);var t=new Uint8Array(e.buffer);t.set(n,e.offset),e.offset+=n.length}}function q(e,n){for(var t=0;t<n;t++)O(e,0)}function U(e,n){if(n.length!==4)throw new Error("Invalid signature: '".concat(n,"'"));for(var t=0;t<4;t++)O(e,n.charCodeAt(t))}function Ft(e,n,t){var i=n.length;if(i>255)throw new Error("String too long");O(e,i);for(var r=0;r<i;r++){var a=n.charCodeAt(r);O(e,a<128?a:63)}for(;++i%t;)O(e,0)}function vd(e,n){for(var t=0;t<n.length;t++)x(e,n.charCodeAt(t))}function gd(e,n){for(var t=0;t<n.length;t++)pd(e,n.charCodeAt(t))}function Ce(e,n){E(e,n.length),vd(e,n)}function Ct(e,n){E(e,n.length+1);for(var t=0;t<n.length;t++)x(e,n.charCodeAt(t));x(e,0)}function _t(e,n,t,i,r){i===void 0&&(i=!1),r===void 0&&(r=!1),r&&E(e,0);var a=e.offset;E(e,0),t();for(var o=e.offset-a-4,l=o;e.offset%n!==0;)O(e,0),l++;i&&(o=l),e.view.setUint32(a,o,!1)}function md(e,n){var t=e.buffer.byteLength;do t*=2;while(n>t);var i=new ArrayBuffer(t),r=new Uint8Array(i),a=new Uint8Array(e.buffer);r.set(a),e.buffer=i,e.view=new DataView(e.buffer)}function Is(e,n){n>e.buffer.byteLength&&md(e,n)}function rt(e,n){var t=e.offset;return Is(e,e.offset+=n),t}function ue(e,n){n?"r"in n?(x(e,0),x(e,Math.round(n.r*257)),x(e,Math.round(n.g*257)),x(e,Math.round(n.b*257)),x(e,0)):"fr"in n?(x(e,0),x(e,Math.round(n.fr*255*257)),x(e,Math.round(n.fg*255*257)),x(e,Math.round(n.fb*255*257)),x(e,0)):"l"in n?(x(e,7),$(e,Math.round(n.l*1e4)),$(e,Math.round(n.a<0?n.a*12800:n.a*12700)),$(e,Math.round(n.b<0?n.b*12800:n.b*12700)),x(e,0)):"h"in n?(x(e,1),x(e,Math.round(n.h*65535)),x(e,Math.round(n.s*65535)),x(e,Math.round(n.b*65535)),x(e,0)):"c"in n?(x(e,2),x(e,Math.round(n.c*257)),x(e,Math.round(n.m*257)),x(e,Math.round(n.y*257)),x(e,Math.round(n.k*257))):(x(e,8),x(e,Math.round(n.k*1e4/255)),q(e,6)):(x(e,0),q(e,8))}var ko;(function(e){e[e.Bitmap=0]="Bitmap",e[e.Grayscale=1]="Grayscale",e[e.Indexed=2]="Indexed",e[e.RGB=3]="RGB",e[e.CMYK=4]="CMYK",e[e.Multichannel=7]="Multichannel",e[e.Duotone=8]="Duotone",e[e.Lab=9]="Lab"})(ko||(ko={}));var Fo;(function(e){e[e.Other=0]="Other",e[e.OpenFolder=1]="OpenFolder",e[e.ClosedFolder=2]="ClosedFolder",e[e.BoundingSectionDivider=3]="BoundingSectionDivider"})(Fo||(Fo={}));var wo;(function(e){e[e.None=0]="None",e[e.Visibility=1]="Visibility",e[e.Position=2]="Position",e[e.Appearance=4]="Appearance"})(wo||(wo={}));function bd(e,n){var t="buffer"in e?io(e.buffer,e.byteOffset,e.byteLength):io(e);return Bu(t,n)}const yd={class:"PsdViewer"},_d={class:"ant-upload-drag-icon"},Sd={style:{display:"none"}},xd=Ds({__name:"PsdView",setup(e){let n=qt("PSD文件预览");const t=qt([]),i=qt([]),r=c=>{t.value==null&&(t.value=[]),t.value.push(c);const p=new FileReader;return p.readAsArrayBuffer(c),p.onload=()=>{var h,v;const d=p.result;if(d){const g=bd(d);i.value.push({uid:c.uid,imgUrl:((h=g.canvas)==null?void 0:h.toDataURL())||"",layerUrl:(((v=g.children)==null?void 0:v.map(y=>{var m;return((m=y.canvas)==null?void 0:m.toDataURL())||""}))||[]).reverse()})}},p.onerror=d=>{console.error("读取文件时出错:",d)},!1},a=c=>{console.log("remove",c);const p=c.uid,d=i.value.findIndex(h=>h.uid===p);d!==-1&&i.value.splice(d,1)};function o(c){console.log(c)}let l=qt(!1),f=qt({uid:"",imgUrl:"",layerUrl:[]});const s=c=>{f.value=c,l.value=!0};return(c,p)=>{const d=gi("a-upload-dragger"),h=gi("a-image"),v=gi("a-image-preview-group");return en(),vi("div",yd,[Jt("h1",null,As(Qt(n)),1),on(d,{fileList:t.value,"onUpdate:fileList":p[0]||(p[0]=g=>t.value=g),name:"file",accept:".psd",multiple:!0,beforeUpload:r,onDrop:o,onRemove:a},{default:Cr(()=>[Jt("p",_d,[on(Qt(sr))]),p[1]||(p[1]=Jt("p",{class:"ant-upload-text"},"单击或拖动文件到此区域进行上传",-1)),p[2]||(p[2]=Jt("p",{class:"ant-upload-hint"}," 只支持xxx.psd文件 ",-1))]),_:1},8,["fileList"]),(en(!0),vi(Er,null,Dr(i.value,g=>(en(),Ar(h,{key:g.uid,preview:{visible:!1},width:200,src:g.imgUrl,onClick:y=>s(g)},null,8,["src","onClick"]))),128)),Jt("div",Sd,[on(v,{preview:{visible:Qt(l),onVisibleChange:g=>Os(l)?l.value=g:l=g}},{default:Cr(()=>[on(h,{key:"origin",src:Qt(f).imgUrl},null,8,["src"]),(en(!0),vi(Er,null,Dr(Qt(f).layerUrl,(g,y)=>(en(),Ar(h,{key:y,src:g},null,8,["src"]))),128))]),_:1},8,["preview"])])])}}}),Cd=Ts(xd,[["__scopeId","data-v-3df31a20"]]);export{Cd as default};
